(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{522:function(module){eval('module.exports = {"contractName":"MarketMaker","abi":[{"constant":true,"inputs":[],"name":"pmSystem","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"renounceOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"isOwner","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"collateralToken","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"stage","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"funding","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"uint256"}],"name":"conditionIds","outputs":[{"name":"","type":"bytes32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"atomicOutcomeSlotCount","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"fee","outputs":[{"name":"","type":"uint64"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"FEE_RANGE","outputs":[{"name":"","type":"uint64"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[{"name":"_pmSystem","type":"address"},{"name":"_collateralToken","type":"address"},{"name":"_conditionIds","type":"bytes32[]"},{"name":"_fee","type":"uint64"},{"name":"initialFunding","type":"uint256"},{"name":"marketOwner","type":"address"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"name":"initialFunding","type":"uint256"}],"name":"AMMCreated","type":"event"},{"anonymous":false,"inputs":[],"name":"AMMPaused","type":"event"},{"anonymous":false,"inputs":[],"name":"AMMResumed","type":"event"},{"anonymous":false,"inputs":[],"name":"AMMClosed","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"fundingChange","type":"int256"}],"name":"AMMFundingChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"newFee","type":"uint64"}],"name":"AMMFeeChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"fees","type":"uint256"}],"name":"AMMFeeWithdrawal","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"transactor","type":"address"},{"indexed":false,"name":"outcomeTokenAmounts","type":"int256[]"},{"indexed":false,"name":"outcomeTokenNetCost","type":"int256"},{"indexed":false,"name":"marketFees","type":"uint256"}],"name":"AMMOutcomeTokenTrade","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"previousOwner","type":"address"},{"indexed":true,"name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"constant":true,"inputs":[{"name":"outcomeTokenAmounts","type":"int256[]"}],"name":"calcNetCost","outputs":[{"name":"netCost","type":"int256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"fundingChange","type":"int256"}],"name":"changeFunding","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[],"name":"pause","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[],"name":"resume","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_fee","type":"uint64"}],"name":"changeFee","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[],"name":"close","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[],"name":"withdrawFees","outputs":[{"name":"fees","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"outcomeTokenAmounts","type":"int256[]"},{"name":"collateralLimit","type":"int256"}],"name":"trade","outputs":[{"name":"netCost","type":"int256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"outcomeTokenCost","type":"uint256"}],"name":"calcMarketFee","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"operator","type":"address"},{"name":"","type":"address"},{"name":"","type":"uint256"},{"name":"","type":"uint256"},{"name":"","type":"bytes"}],"name":"onERC1155Received","outputs":[{"name":"","type":"bytes4"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_operator","type":"address"},{"name":"","type":"address"},{"name":"","type":"uint256[]"},{"name":"","type":"uint256[]"},{"name":"","type":"bytes"}],"name":"onERC1155BatchReceived","outputs":[{"name":"","type":"bytes4"}],"payable":false,"stateMutability":"nonpayable","type":"function"}],"bytecode":"0x","deployedBytecode":"0x","sourceMap":"","deployedSourceMap":"","source":"pragma solidity ^0.5.1;\\nimport \\"erc-1155/contracts/IERC1155TokenReceiver.sol\\";\\nimport \\"openzeppelin-solidity/contracts/ownership/Ownable.sol\\";\\nimport \\"openzeppelin-solidity/contracts/math/SafeMath.sol\\";\\nimport \\"@gnosis.pm/util-contracts/contracts/SignedSafeMath.sol\\";\\nimport \\"@gnosis.pm/hg-contracts/contracts/PredictionMarketSystem.sol\\";\\n\\ncontract MarketMaker is Ownable, IERC1155TokenReceiver {\\n    using SignedSafeMath for int;\\n    using SafeMath for uint;\\n    /*\\n     *  Constants\\n     */    \\n    uint64 public constant FEE_RANGE = 10**18;\\n\\n    /*\\n     *  Events\\n     */\\n    event AMMCreated(uint initialFunding);\\n    event AMMPaused();\\n    event AMMResumed();\\n    event AMMClosed();\\n    event AMMFundingChanged(int fundingChange);\\n    event AMMFeeChanged(uint64 newFee);\\n    event AMMFeeWithdrawal(uint fees);\\n    event AMMOutcomeTokenTrade(address indexed transactor, int[] outcomeTokenAmounts, int outcomeTokenNetCost, uint marketFees);\\n    \\n    /*\\n     *  Storage\\n     */\\n    PredictionMarketSystem public pmSystem;\\n    IERC20 public collateralToken;\\n    bytes32[] public conditionIds;\\n    uint public atomicOutcomeSlotCount;\\n    uint64 public fee;\\n    uint public funding;\\n    Stage public stage;\\n    enum Stage {\\n        Running,\\n        Paused,\\n        Closed\\n    }\\n\\n    /*\\n     *  Modifiers\\n     */\\n    modifier atStage(Stage _stage) {\\n        // Contract has to be in given stage\\n        require(stage == _stage);\\n        _;\\n    }\\n\\n    constructor(PredictionMarketSystem _pmSystem, IERC20 _collateralToken, bytes32[] memory _conditionIds, uint64 _fee, uint initialFunding, address marketOwner)\\n        public\\n    {\\n        // Validate inputs\\n        require(address(_pmSystem) != address(0) && _fee < FEE_RANGE);\\n        pmSystem = _pmSystem;\\n        collateralToken = _collateralToken;\\n        conditionIds = _conditionIds;\\n        fee = _fee;\\n\\n        atomicOutcomeSlotCount = 1;\\n        for (uint i = 0; i < conditionIds.length; i++) {\\n            atomicOutcomeSlotCount *= pmSystem.getOutcomeSlotCount(conditionIds[i]);\\n        }\\n        require(atomicOutcomeSlotCount > 1, \\"conditions must be valid\\");\\n\\n        require(collateralToken.transferFrom(marketOwner, address(this), initialFunding) && collateralToken.approve(address(pmSystem), initialFunding));\\n\\n        splitPositionThroughAllConditions(initialFunding, conditionIds.length, 0);\\n\\n        funding = initialFunding;\\n\\n        stage = Stage.Running;\\n        emit AMMCreated(funding);\\n    }\\n\\n    function calcNetCost(int[] memory outcomeTokenAmounts) public view returns (int netCost);\\n\\n    /// @dev Allows to fund the market with collateral tokens converting them into outcome tokens\\n    /// Note for the future: should combine splitPosition and mergePositions into one function, as code duplication causes things like this to happen.\\n    function changeFunding(int fundingChange)\\n        public\\n        onlyOwner\\n        atStage(Stage.Paused)\\n    {\\n        require(fundingChange != 0, \\"A fundingChange of zero is not a fundingChange at all. It is unacceptable.\\");\\n        // Either add or subtract funding based off whether the fundingChange parameter is negative or positive\\n        if (fundingChange > 0) {\\n            require(collateralToken.transferFrom(msg.sender, address(this), uint(fundingChange)) && collateralToken.approve(address(pmSystem), uint(fundingChange)));\\n            splitPositionThroughAllConditions(uint(fundingChange), conditionIds.length, 0);\\n            funding = funding.add(uint(fundingChange));\\n            emit AMMFundingChanged(fundingChange);\\n        }\\n        if (fundingChange < 0) {\\n            mergePositionsThroughAllConditions(uint(-fundingChange), conditionIds.length, 0);\\n            funding = funding.sub(uint(-fundingChange));\\n            require(collateralToken.transfer(owner(), uint(-fundingChange)));\\n            emit AMMFundingChanged(fundingChange);\\n        }\\n    }\\n\\n    function pause() public onlyOwner atStage(Stage.Running) {\\n        stage = Stage.Paused;\\n        emit AMMPaused();\\n    }\\n    \\n    function resume() public onlyOwner atStage(Stage.Paused) {\\n        stage = Stage.Running;\\n        emit AMMResumed();\\n    }\\n\\n    function changeFee(uint64 _fee) public onlyOwner atStage(Stage.Paused) {\\n        fee = _fee;\\n        emit AMMFeeChanged(fee);\\n    }\\n\\n    /// @dev Allows market owner to close the markets by transferring all remaining outcome tokens to the owner\\n    function close()\\n        public\\n        onlyOwner\\n    {\\n        require(stage == Stage.Running || stage == Stage.Paused, \\"This Market has already been closed\\");\\n        for (uint i = 0; i < atomicOutcomeSlotCount; i++) {\\n            uint positionId = generateAtomicPositionId(i);\\n            pmSystem.safeTransferFrom(address(this), owner(), positionId, pmSystem.balanceOf(address(this), positionId), \\"\\");\\n        }\\n        stage = Stage.Closed;\\n        emit AMMClosed();\\n    }\\n\\n    /// @dev Allows market owner to withdraw fees generated by trades\\n    /// @return Fee amount\\n    function withdrawFees()\\n        public\\n        onlyOwner\\n        returns (uint fees)\\n    {\\n        fees = collateralToken.balanceOf(address(this));\\n        // Transfer fees\\n        require(collateralToken.transfer(owner(), fees));\\n        emit AMMFeeWithdrawal(fees);\\n    }\\n\\n    /// @dev Allows to trade outcome tokens and collateral with the market maker\\n    /// @param outcomeTokenAmounts Amounts of each atomic outcome token to buy or sell. If positive, will buy this amount of outcome token from the market. If negative, will sell this amount back to the market instead. The indices of this array range from 0 to product(all conditions\' outcomeSlotCounts)-1. For example, with two conditions with three outcome slots each and one condition with two outcome slots, you will have 3*3*2=18 total atomic outcome tokens, and the indices will range from 0 to 17. The indices map to atomic outcome slots depending on the order of the conditionIds. Let\'s say the first condition has slots A, B, C the second has slots X, Y, and the third has slots I, J, K. We can associate each atomic outcome token with indices by this map:\\n    /// A&X&I == 0\\n    /// B&X&I == 1\\n    /// C&X&I == 2\\n    /// A&Y&I == 3\\n    /// B&Y&I == 4\\n    /// C&Y&I == 5\\n    /// A&X&J == 6\\n    /// B&X&J == 7\\n    /// C&X&J == 8\\n    /// A&Y&J == 9\\n    /// B&Y&J == 10\\n    /// C&Y&J == 11\\n    /// A&X&K == 12\\n    /// B&X&K == 13\\n    /// C&X&K == 14\\n    /// A&Y&K == 15\\n    /// B&Y&K == 16\\n    /// C&Y&K == 17\\n    /// This order is calculated via the generateAtomicPositionId function below: C&Y&I -> (2, 1, 0) -> 2 + 3 * (1 + 2 * (0 + 3 * (0 + 0)))\\n    /// @param collateralLimit If positive, this is the limit for the amount of collateral tokens which will be sent to the market to conduct the trade. If negative, this is the minimum amount of collateral tokens which will be received from the market for the trade. If zero, there is no limit.\\n    /// @return If positive, the amount of collateral sent to the market. If negative, the amount of collateral received from the market. If zero, no collateral was sent or received.\\n    function trade(int[] memory outcomeTokenAmounts, int collateralLimit)\\n        public\\n        atStage(Stage.Running)\\n        returns (int netCost)\\n    {\\n        require(outcomeTokenAmounts.length == atomicOutcomeSlotCount);\\n\\n        // Calculate net cost for executing trade\\n        int outcomeTokenNetCost = calcNetCost(outcomeTokenAmounts);\\n        int fees;\\n        if(outcomeTokenNetCost < 0)\\n            fees = int(calcMarketFee(uint(-outcomeTokenNetCost)));\\n        else\\n            fees = int(calcMarketFee(uint(outcomeTokenNetCost)));\\n\\n        require(fees >= 0);\\n        netCost = outcomeTokenNetCost.add(fees);\\n\\n        require(\\n            (collateralLimit != 0 && netCost <= collateralLimit) ||\\n            collateralLimit == 0\\n        );\\n\\n        if(outcomeTokenNetCost > 0) {\\n            require(\\n                collateralToken.transferFrom(msg.sender, address(this), uint(netCost)) &&\\n                collateralToken.approve(address(pmSystem), uint(outcomeTokenNetCost))\\n            );\\n\\n            splitPositionThroughAllConditions(uint(outcomeTokenNetCost), conditionIds.length, 0);\\n        }\\n\\n        for (uint i = 0; i < atomicOutcomeSlotCount; i++) {\\n            if(outcomeTokenAmounts[i] != 0) {\\n                uint positionId = generateAtomicPositionId(i);\\n                if(outcomeTokenAmounts[i] < 0) {\\n                    pmSystem.safeTransferFrom(msg.sender, address(this), positionId, uint(-outcomeTokenAmounts[i]), \\"\\");\\n                } else {\\n                    pmSystem.safeTransferFrom(address(this), msg.sender, positionId, uint(outcomeTokenAmounts[i]), \\"\\");\\n                }\\n\\n            }\\n        }\\n\\n        if(outcomeTokenNetCost < 0) {\\n            // This is safe since\\n            // 0x8000000000000000000000000000000000000000000000000000000000000000 ==\\n            // uint(-int(-0x8000000000000000000000000000000000000000000000000000000000000000))\\n            mergePositionsThroughAllConditions(uint(-outcomeTokenNetCost), conditionIds.length, 0);\\n            if(netCost < 0) {\\n                require(collateralToken.transfer(msg.sender, uint(-netCost)));\\n            }\\n        }\\n\\n        emit AMMOutcomeTokenTrade(msg.sender, outcomeTokenAmounts, outcomeTokenNetCost, uint(fees));\\n    }\\n\\n    /// @dev Calculates fee to be paid to market maker\\n    /// @param outcomeTokenCost Cost for buying outcome tokens\\n    /// @return Fee for trade\\n    function calcMarketFee(uint outcomeTokenCost)\\n        public\\n        view\\n        returns (uint)\\n    {\\n        return outcomeTokenCost * fee / FEE_RANGE;\\n    }\\n\\n    function onERC1155Received(address operator, address /*from*/, uint256 /*id*/, uint256 /*value*/, bytes calldata /*data*/) external returns(bytes4) {\\n        if (operator == address(this)) {\\n            return 0xf23a6e61;\\n        }\\n        return 0x0;\\n    }\\n\\n    function onERC1155BatchReceived(address _operator, address /*from*/, uint256[] calldata /*ids*/, uint256[] calldata /*values*/, bytes calldata /*data*/) external returns(bytes4) {\\n        if (_operator == address(this)) {\\n            return 0xf23a6e61;\\n        }\\n        return 0x0;\\n    }\\n\\n    function generateBasicPartition(bytes32 conditionId)\\n        private\\n        view\\n        returns (uint[] memory partition)\\n    {\\n        partition = new uint[](pmSystem.getOutcomeSlotCount(conditionId));\\n        for(uint i = 0; i < partition.length; i++) {\\n            partition[i] = 1 << i;\\n        }\\n    }\\n\\n    function generateAtomicPositionId(uint i)\\n        internal\\n        view\\n        returns (uint)\\n    {\\n        uint collectionId = 0;\\n\\n        for(uint k = 0; k < conditionIds.length; k++) {\\n            uint curOutcomeSlotCount = pmSystem.getOutcomeSlotCount(conditionIds[k]);\\n            collectionId += uint(keccak256(abi.encodePacked(\\n                conditionIds[k],\\n                1 << (i % curOutcomeSlotCount))));\\n            i /= curOutcomeSlotCount;\\n        }\\n        return uint(keccak256(abi.encodePacked(\\n            collateralToken,\\n            collectionId)));\\n    }\\n\\n    function splitPositionThroughAllConditions(uint amount, uint conditionsLeft, uint parentCollectionId)\\n        private\\n    {\\n        if(conditionsLeft == 0) return;\\n        conditionsLeft--;\\n\\n        uint[] memory partition = generateBasicPartition(conditionIds[conditionsLeft]);\\n        pmSystem.splitPosition(collateralToken, bytes32(parentCollectionId), conditionIds[conditionsLeft], partition, amount);\\n        for(uint i = 0; i < partition.length; i++) {\\n            splitPositionThroughAllConditions(\\n                amount,\\n                conditionsLeft,\\n                parentCollectionId + uint(keccak256(abi.encodePacked(\\n                    conditionIds[conditionsLeft],\\n                    partition[i]))));\\n        }\\n    }\\n\\n    function mergePositionsThroughAllConditions(uint amount, uint conditionsLeft, uint parentCollectionId)\\n        private\\n    {\\n        if(conditionsLeft == 0) return;\\n        conditionsLeft--;\\n\\n        uint[] memory partition = generateBasicPartition(conditionIds[conditionsLeft]);\\n        pmSystem.mergePositions(collateralToken, bytes32(parentCollectionId), conditionIds[conditionsLeft], partition, amount);\\n        for(uint i = 0; i < partition.length; i++) {\\n            mergePositionsThroughAllConditions(\\n                amount,\\n                conditionsLeft,\\n                parentCollectionId + uint(keccak256(abi.encodePacked(\\n                    conditionIds[conditionsLeft],\\n                    partition[i]))));\\n        }\\n    }\\n}","sourcePath":"@gnosis.pm/hg-market-makers/contracts/MarketMaker.sol","ast":{"absolutePath":"@gnosis.pm/hg-market-makers/contracts/MarketMaker.sol","exportedSymbols":{"MarketMaker":[3101]},"id":3102,"nodeType":"SourceUnit","nodes":[{"id":2068,"literals":["solidity","^","0.5",".1"],"nodeType":"PragmaDirective","src":"0:23:9"},{"absolutePath":"erc-1155/contracts/IERC1155TokenReceiver.sol","file":"erc-1155/contracts/IERC1155TokenReceiver.sol","id":2069,"nodeType":"ImportDirective","scope":3102,"sourceUnit":5064,"src":"24:54:9","symbolAliases":[],"unitAlias":""},{"absolutePath":"openzeppelin-solidity/contracts/ownership/Ownable.sol","file":"openzeppelin-solidity/contracts/ownership/Ownable.sol","id":2070,"nodeType":"ImportDirective","scope":3102,"sourceUnit":5311,"src":"79:63:9","symbolAliases":[],"unitAlias":""},{"absolutePath":"openzeppelin-solidity/contracts/math/SafeMath.sol","file":"openzeppelin-solidity/contracts/math/SafeMath.sol","id":2071,"nodeType":"ImportDirective","scope":3102,"sourceUnit":5202,"src":"143:59:9","symbolAliases":[],"unitAlias":""},{"absolutePath":"@gnosis.pm/util-contracts/contracts/SignedSafeMath.sol","file":"@gnosis.pm/util-contracts/contracts/SignedSafeMath.sol","id":2072,"nodeType":"ImportDirective","scope":3102,"sourceUnit":4253,"src":"203:64:9","symbolAliases":[],"unitAlias":""},{"absolutePath":"@gnosis.pm/hg-contracts/contracts/PredictionMarketSystem.sol","file":"@gnosis.pm/hg-contracts/contracts/PredictionMarketSystem.sol","id":2073,"nodeType":"ImportDirective","scope":3102,"sourceUnit":1595,"src":"268:70:9","symbolAliases":[],"unitAlias":""},{"baseContracts":[{"arguments":null,"baseName":{"contractScope":null,"id":2074,"name":"Ownable","nodeType":"UserDefinedTypeName","referencedDeclaration":5310,"src":"364:7:9","typeDescriptions":{"typeIdentifier":"t_contract$_Ownable_$5310","typeString":"contract Ownable"}},"id":2075,"nodeType":"InheritanceSpecifier","src":"364:7:9"},{"arguments":null,"baseName":{"contractScope":null,"id":2076,"name":"IERC1155TokenReceiver","nodeType":"UserDefinedTypeName","referencedDeclaration":5063,"src":"373:21:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC1155TokenReceiver_$5063","typeString":"contract IERC1155TokenReceiver"}},"id":2077,"nodeType":"InheritanceSpecifier","src":"373:21:9"}],"contractDependencies":[5063,5310],"contractKind":"contract","documentation":null,"fullyImplemented":false,"id":3101,"linearizedBaseContracts":[3101,5063,5310],"name":"MarketMaker","nodeType":"ContractDefinition","nodes":[{"id":2080,"libraryName":{"contractScope":null,"id":2078,"name":"SignedSafeMath","nodeType":"UserDefinedTypeName","referencedDeclaration":4252,"src":"407:14:9","typeDescriptions":{"typeIdentifier":"t_contract$_SignedSafeMath_$4252","typeString":"library SignedSafeMath"}},"nodeType":"UsingForDirective","src":"401:29:9","typeName":{"id":2079,"name":"int","nodeType":"ElementaryTypeName","src":"426:3:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}},{"id":2083,"libraryName":{"contractScope":null,"id":2081,"name":"SafeMath","nodeType":"UserDefinedTypeName","referencedDeclaration":5201,"src":"441:8:9","typeDescriptions":{"typeIdentifier":"t_contract$_SafeMath_$5201","typeString":"library SafeMath"}},"nodeType":"UsingForDirective","src":"435:24:9","typeName":{"id":2082,"name":"uint","nodeType":"ElementaryTypeName","src":"454:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}},{"constant":true,"id":2088,"name":"FEE_RANGE","nodeType":"VariableDeclaration","scope":3101,"src":"501:41:9","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"},"typeName":{"id":2084,"name":"uint64","nodeType":"ElementaryTypeName","src":"501:6:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"value":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_rational_1000000000000000000_by_1","typeString":"int_const 1000000000000000000"},"id":2087,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"hexValue":"3130","id":2085,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"536:2:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_10_by_1","typeString":"int_const 10"},"value":"10"},"nodeType":"BinaryOperation","operator":"**","rightExpression":{"argumentTypes":null,"hexValue":"3138","id":2086,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"540:2:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_18_by_1","typeString":"int_const 18"},"value":"18"},"src":"536:6:9","typeDescriptions":{"typeIdentifier":"t_rational_1000000000000000000_by_1","typeString":"int_const 1000000000000000000"}},"visibility":"public"},{"anonymous":false,"documentation":null,"id":2092,"name":"AMMCreated","nodeType":"EventDefinition","parameters":{"id":2091,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2090,"indexed":false,"name":"initialFunding","nodeType":"VariableDeclaration","scope":2092,"src":"596:19:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2089,"name":"uint","nodeType":"ElementaryTypeName","src":"596:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"595:21:9"},"src":"579:38:9"},{"anonymous":false,"documentation":null,"id":2094,"name":"AMMPaused","nodeType":"EventDefinition","parameters":{"id":2093,"nodeType":"ParameterList","parameters":[],"src":"637:2:9"},"src":"622:18:9"},{"anonymous":false,"documentation":null,"id":2096,"name":"AMMResumed","nodeType":"EventDefinition","parameters":{"id":2095,"nodeType":"ParameterList","parameters":[],"src":"661:2:9"},"src":"645:19:9"},{"anonymous":false,"documentation":null,"id":2098,"name":"AMMClosed","nodeType":"EventDefinition","parameters":{"id":2097,"nodeType":"ParameterList","parameters":[],"src":"684:2:9"},"src":"669:18:9"},{"anonymous":false,"documentation":null,"id":2102,"name":"AMMFundingChanged","nodeType":"EventDefinition","parameters":{"id":2101,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2100,"indexed":false,"name":"fundingChange","nodeType":"VariableDeclaration","scope":2102,"src":"716:17:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":2099,"name":"int","nodeType":"ElementaryTypeName","src":"716:3:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"value":null,"visibility":"internal"}],"src":"715:19:9"},"src":"692:43:9"},{"anonymous":false,"documentation":null,"id":2106,"name":"AMMFeeChanged","nodeType":"EventDefinition","parameters":{"id":2105,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2104,"indexed":false,"name":"newFee","nodeType":"VariableDeclaration","scope":2106,"src":"760:13:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"},"typeName":{"id":2103,"name":"uint64","nodeType":"ElementaryTypeName","src":"760:6:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"value":null,"visibility":"internal"}],"src":"759:15:9"},"src":"740:35:9"},{"anonymous":false,"documentation":null,"id":2110,"name":"AMMFeeWithdrawal","nodeType":"EventDefinition","parameters":{"id":2109,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2108,"indexed":false,"name":"fees","nodeType":"VariableDeclaration","scope":2110,"src":"803:9:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2107,"name":"uint","nodeType":"ElementaryTypeName","src":"803:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"802:11:9"},"src":"780:34:9"},{"anonymous":false,"documentation":null,"id":2121,"name":"AMMOutcomeTokenTrade","nodeType":"EventDefinition","parameters":{"id":2120,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2112,"indexed":true,"name":"transactor","nodeType":"VariableDeclaration","scope":2121,"src":"846:26:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2111,"name":"address","nodeType":"ElementaryTypeName","src":"846:7:9","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":2115,"indexed":false,"name":"outcomeTokenAmounts","nodeType":"VariableDeclaration","scope":2121,"src":"874:25:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_memory_ptr","typeString":"int256[]"},"typeName":{"baseType":{"id":2113,"name":"int","nodeType":"ElementaryTypeName","src":"874:3:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":2114,"length":null,"nodeType":"ArrayTypeName","src":"874:5:9","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_storage_ptr","typeString":"int256[]"}},"value":null,"visibility":"internal"},{"constant":false,"id":2117,"indexed":false,"name":"outcomeTokenNetCost","nodeType":"VariableDeclaration","scope":2121,"src":"901:23:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":2116,"name":"int","nodeType":"ElementaryTypeName","src":"901:3:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"value":null,"visibility":"internal"},{"constant":false,"id":2119,"indexed":false,"name":"marketFees","nodeType":"VariableDeclaration","scope":2121,"src":"926:15:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2118,"name":"uint","nodeType":"ElementaryTypeName","src":"926:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"845:97:9"},"src":"819:124:9"},{"constant":false,"id":2123,"name":"pmSystem","nodeType":"VariableDeclaration","scope":3101,"src":"984:38:9","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1594","typeString":"contract PredictionMarketSystem"},"typeName":{"contractScope":null,"id":2122,"name":"PredictionMarketSystem","nodeType":"UserDefinedTypeName","referencedDeclaration":1594,"src":"984:22:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1594","typeString":"contract PredictionMarketSystem"}},"value":null,"visibility":"public"},{"constant":false,"id":2125,"name":"collateralToken","nodeType":"VariableDeclaration","scope":3101,"src":"1028:29:9","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5379","typeString":"contract IERC20"},"typeName":{"contractScope":null,"id":2124,"name":"IERC20","nodeType":"UserDefinedTypeName","referencedDeclaration":5379,"src":"1028:6:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5379","typeString":"contract IERC20"}},"value":null,"visibility":"public"},{"constant":false,"id":2128,"name":"conditionIds","nodeType":"VariableDeclaration","scope":3101,"src":"1063:29:9","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[]"},"typeName":{"baseType":{"id":2126,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1063:7:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":2127,"length":null,"nodeType":"ArrayTypeName","src":"1063:9:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage_ptr","typeString":"bytes32[]"}},"value":null,"visibility":"public"},{"constant":false,"id":2130,"name":"atomicOutcomeSlotCount","nodeType":"VariableDeclaration","scope":3101,"src":"1098:34:9","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2129,"name":"uint","nodeType":"ElementaryTypeName","src":"1098:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"public"},{"constant":false,"id":2132,"name":"fee","nodeType":"VariableDeclaration","scope":3101,"src":"1138:17:9","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"},"typeName":{"id":2131,"name":"uint64","nodeType":"ElementaryTypeName","src":"1138:6:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"value":null,"visibility":"public"},{"constant":false,"id":2134,"name":"funding","nodeType":"VariableDeclaration","scope":3101,"src":"1161:19:9","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2133,"name":"uint","nodeType":"ElementaryTypeName","src":"1161:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"public"},{"constant":false,"id":2136,"name":"stage","nodeType":"VariableDeclaration","scope":3101,"src":"1186:18:9","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2140","typeString":"enum MarketMaker.Stage"},"typeName":{"contractScope":null,"id":2135,"name":"Stage","nodeType":"UserDefinedTypeName","referencedDeclaration":2140,"src":"1186:5:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2140","typeString":"enum MarketMaker.Stage"}},"value":null,"visibility":"public"},{"canonicalName":"MarketMaker.Stage","id":2140,"members":[{"id":2137,"name":"Running","nodeType":"EnumValue","src":"1231:7:9"},{"id":2138,"name":"Paused","nodeType":"EnumValue","src":"1248:6:9"},{"id":2139,"name":"Closed","nodeType":"EnumValue","src":"1264:6:9"}],"name":"Stage","nodeType":"EnumDefinition","src":"1210:66:9"},{"body":{"id":2151,"nodeType":"Block","src":"1346:97:9","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_enum$_Stage_$2140","typeString":"enum MarketMaker.Stage"},"id":2147,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2145,"name":"stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2136,"src":"1409:5:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2140","typeString":"enum MarketMaker.Stage"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"id":2146,"name":"_stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2142,"src":"1418:6:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2140","typeString":"enum MarketMaker.Stage"}},"src":"1409:15:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":2144,"name":"require","nodeType":"Identifier","overloadedDeclarations":[5416,5417],"referencedDeclaration":5416,"src":"1401:7:9","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":2148,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1401:24:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2149,"nodeType":"ExpressionStatement","src":"1401:24:9"},{"id":2150,"nodeType":"PlaceholderStatement","src":"1435:1:9"}]},"documentation":null,"id":2152,"name":"atStage","nodeType":"ModifierDefinition","parameters":{"id":2143,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2142,"name":"_stage","nodeType":"VariableDeclaration","scope":2152,"src":"1332:12:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2140","typeString":"enum MarketMaker.Stage"},"typeName":{"contractScope":null,"id":2141,"name":"Stage","nodeType":"UserDefinedTypeName","referencedDeclaration":2140,"src":"1332:5:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2140","typeString":"enum MarketMaker.Stage"}},"value":null,"visibility":"internal"}],"src":"1331:14:9"},"src":"1315:128:9","visibility":"internal"},{"body":{"id":2270,"nodeType":"Block","src":"1626:838:9","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":2179,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":2175,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2170,"name":"_pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2154,"src":"1679:9:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1594","typeString":"contract PredictionMarketSystem"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1594","typeString":"contract PredictionMarketSystem"}],"id":2169,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1671:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2171,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1671:18:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"30","id":2173,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1701:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":2172,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1693:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2174,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1693:10:9","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"src":"1671:32:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint64","typeString":"uint64"},"id":2178,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2176,"name":"_fee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2161,"src":"1707:4:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"id":2177,"name":"FEE_RANGE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2088,"src":"1714:9:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"src":"1707:16:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"1671:52:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":2168,"name":"require","nodeType":"Identifier","overloadedDeclarations":[5416,5417],"referencedDeclaration":5416,"src":"1663:7:9","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":2180,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1663:61:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2181,"nodeType":"ExpressionStatement","src":"1663:61:9"},{"expression":{"argumentTypes":null,"id":2184,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2182,"name":"pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2123,"src":"1734:8:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1594","typeString":"contract PredictionMarketSystem"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"id":2183,"name":"_pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2154,"src":"1745:9:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1594","typeString":"contract PredictionMarketSystem"}},"src":"1734:20:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1594","typeString":"contract PredictionMarketSystem"}},"id":2185,"nodeType":"ExpressionStatement","src":"1734:20:9"},{"expression":{"argumentTypes":null,"id":2188,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2186,"name":"collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2125,"src":"1764:15:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5379","typeString":"contract IERC20"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"id":2187,"name":"_collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2156,"src":"1782:16:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5379","typeString":"contract IERC20"}},"src":"1764:34:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5379","typeString":"contract IERC20"}},"id":2189,"nodeType":"ExpressionStatement","src":"1764:34:9"},{"expression":{"argumentTypes":null,"id":2192,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2190,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2128,"src":"1808:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"id":2191,"name":"_conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2159,"src":"1823:13:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_memory_ptr","typeString":"bytes32[] memory"}},"src":"1808:28:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":2193,"nodeType":"ExpressionStatement","src":"1808:28:9"},{"expression":{"argumentTypes":null,"id":2196,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2194,"name":"fee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2132,"src":"1846:3:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"id":2195,"name":"_fee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2161,"src":"1852:4:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"src":"1846:10:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"id":2197,"nodeType":"ExpressionStatement","src":"1846:10:9"},{"expression":{"argumentTypes":null,"id":2200,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2198,"name":"atomicOutcomeSlotCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2130,"src":"1867:22:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"hexValue":"31","id":2199,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1892:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"1867:26:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2201,"nodeType":"ExpressionStatement","src":"1867:26:9"},{"body":{"id":2222,"nodeType":"Block","src":"1950:96:9","statements":[{"expression":{"argumentTypes":null,"id":2220,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2213,"name":"atomicOutcomeSlotCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2130,"src":"1964:22:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"*=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2216,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2128,"src":"2019:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":2218,"indexExpression":{"argumentTypes":null,"id":2217,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2203,"src":"2032:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2019:15:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"expression":{"argumentTypes":null,"id":2214,"name":"pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2123,"src":"1990:8:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1594","typeString":"contract PredictionMarketSystem"}},"id":2215,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"getOutcomeSlotCount","nodeType":"MemberAccess","referencedDeclaration":1565,"src":"1990:28:9","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_bytes32_$returns$_t_uint256_$","typeString":"function (bytes32) view external returns (uint256)"}},"id":2219,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1990:45:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1964:71:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2221,"nodeType":"ExpressionStatement","src":"1964:71:9"}]},"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2209,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2206,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2203,"src":"1920:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2207,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2128,"src":"1924:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":2208,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","referencedDeclaration":null,"src":"1924:19:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1920:23:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":2223,"initializationExpression":{"assignments":[2203],"declarations":[{"constant":false,"id":2203,"name":"i","nodeType":"VariableDeclaration","scope":2223,"src":"1908:6:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2202,"name":"uint","nodeType":"ElementaryTypeName","src":"1908:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":2205,"initialValue":{"argumentTypes":null,"hexValue":"30","id":2204,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1917:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"1908:10:9"},"loopExpression":{"expression":{"argumentTypes":null,"id":2211,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"1945:3:9","subExpression":{"argumentTypes":null,"id":2210,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2203,"src":"1945:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2212,"nodeType":"ExpressionStatement","src":"1945:3:9"},"nodeType":"ForStatement","src":"1903:143:9"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2227,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2225,"name":"atomicOutcomeSlotCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2130,"src":"2063:22:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"argumentTypes":null,"hexValue":"31","id":2226,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2088:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"2063:26:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"636f6e646974696f6e73206d7573742062652076616c6964","id":2228,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"2091:26:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_cd148311b7911b4ee79dcdb6c43a5e3ce4b2c17323005884872aa057fa3bf785","typeString":"literal_string \\"conditions must be valid\\""},"value":"conditions must be valid"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_cd148311b7911b4ee79dcdb6c43a5e3ce4b2c17323005884872aa057fa3bf785","typeString":"literal_string \\"conditions must be valid\\""}],"id":2224,"name":"require","nodeType":"Identifier","overloadedDeclarations":[5416,5417],"referencedDeclaration":5417,"src":"2055:7:9","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":2229,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2055:63:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2230,"nodeType":"ExpressionStatement","src":"2055:63:9"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":2247,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2234,"name":"marketOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2165,"src":"2166:11:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2236,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5450,"src":"2187:4:9","typeDescriptions":{"typeIdentifier":"t_contract$_MarketMaker_$3101","typeString":"contract MarketMaker"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_MarketMaker_$3101","typeString":"contract MarketMaker"}],"id":2235,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2179:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2237,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2179:13:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":2238,"name":"initialFunding","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2163,"src":"2194:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2232,"name":"collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2125,"src":"2137:15:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5379","typeString":"contract IERC20"}},"id":2233,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"transferFrom","nodeType":"MemberAccess","referencedDeclaration":5362,"src":"2137:28:9","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (address,address,uint256) external returns (bool)"}},"id":2239,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2137:72:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2243,"name":"pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2123,"src":"2245:8:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1594","typeString":"contract PredictionMarketSystem"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1594","typeString":"contract PredictionMarketSystem"}],"id":2242,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2237:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2244,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2237:17:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":2245,"name":"initialFunding","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2163,"src":"2256:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2240,"name":"collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2125,"src":"2213:15:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5379","typeString":"contract IERC20"}},"id":2241,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"approve","nodeType":"MemberAccess","referencedDeclaration":5351,"src":"2213:23:9","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (address,uint256) external returns (bool)"}},"id":2246,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2213:58:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"2137:134:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":2231,"name":"require","nodeType":"Identifier","overloadedDeclarations":[5416,5417],"referencedDeclaration":5416,"src":"2129:7:9","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":2248,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2129:143:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2249,"nodeType":"ExpressionStatement","src":"2129:143:9"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2251,"name":"initialFunding","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2163,"src":"2317:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2252,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2128,"src":"2333:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":2253,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","referencedDeclaration":null,"src":"2333:19:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"hexValue":"30","id":2254,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2354:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":2250,"name":"splitPositionThroughAllConditions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3025,"src":"2283:33:9","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (uint256,uint256,uint256)"}},"id":2255,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2283:73:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2256,"nodeType":"ExpressionStatement","src":"2283:73:9"},{"expression":{"argumentTypes":null,"id":2259,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2257,"name":"funding","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2134,"src":"2367:7:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"id":2258,"name":"initialFunding","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2163,"src":"2377:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2367:24:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2260,"nodeType":"ExpressionStatement","src":"2367:24:9"},{"expression":{"argumentTypes":null,"id":2264,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2261,"name":"stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2136,"src":"2402:5:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2140","typeString":"enum MarketMaker.Stage"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2262,"name":"Stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2140,"src":"2410:5:9","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Stage_$2140_$","typeString":"type(enum MarketMaker.Stage)"}},"id":2263,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"Running","nodeType":"MemberAccess","referencedDeclaration":null,"src":"2410:13:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2140","typeString":"enum MarketMaker.Stage"}},"src":"2402:21:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2140","typeString":"enum MarketMaker.Stage"}},"id":2265,"nodeType":"ExpressionStatement","src":"2402:21:9"},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2267,"name":"funding","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2134,"src":"2449:7:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":2266,"name":"AMMCreated","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2092,"src":"2438:10:9","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_uint256_$returns$__$","typeString":"function (uint256)"}},"id":2268,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2438:19:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2269,"nodeType":"EmitStatement","src":"2433:24:9"}]},"documentation":null,"id":2271,"implemented":true,"kind":"constructor","modifiers":[],"name":"","nodeType":"FunctionDefinition","parameters":{"id":2166,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2154,"name":"_pmSystem","nodeType":"VariableDeclaration","scope":2271,"src":"1461:32:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1594","typeString":"contract PredictionMarketSystem"},"typeName":{"contractScope":null,"id":2153,"name":"PredictionMarketSystem","nodeType":"UserDefinedTypeName","referencedDeclaration":1594,"src":"1461:22:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1594","typeString":"contract PredictionMarketSystem"}},"value":null,"visibility":"internal"},{"constant":false,"id":2156,"name":"_collateralToken","nodeType":"VariableDeclaration","scope":2271,"src":"1495:23:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5379","typeString":"contract IERC20"},"typeName":{"contractScope":null,"id":2155,"name":"IERC20","nodeType":"UserDefinedTypeName","referencedDeclaration":5379,"src":"1495:6:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5379","typeString":"contract IERC20"}},"value":null,"visibility":"internal"},{"constant":false,"id":2159,"name":"_conditionIds","nodeType":"VariableDeclaration","scope":2271,"src":"1520:30:9","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_memory_ptr","typeString":"bytes32[]"},"typeName":{"baseType":{"id":2157,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1520:7:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":2158,"length":null,"nodeType":"ArrayTypeName","src":"1520:9:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage_ptr","typeString":"bytes32[]"}},"value":null,"visibility":"internal"},{"constant":false,"id":2161,"name":"_fee","nodeType":"VariableDeclaration","scope":2271,"src":"1552:11:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"},"typeName":{"id":2160,"name":"uint64","nodeType":"ElementaryTypeName","src":"1552:6:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"value":null,"visibility":"internal"},{"constant":false,"id":2163,"name":"initialFunding","nodeType":"VariableDeclaration","scope":2271,"src":"1565:19:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2162,"name":"uint","nodeType":"ElementaryTypeName","src":"1565:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":2165,"name":"marketOwner","nodeType":"VariableDeclaration","scope":2271,"src":"1586:19:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2164,"name":"address","nodeType":"ElementaryTypeName","src":"1586:7:9","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"}],"src":"1460:146:9"},"returnParameters":{"id":2167,"nodeType":"ParameterList","parameters":[],"src":"1626:0:9"},"scope":3101,"src":"1449:1015:9","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"body":null,"documentation":null,"id":2279,"implemented":false,"kind":"function","modifiers":[],"name":"calcNetCost","nodeType":"FunctionDefinition","parameters":{"id":2275,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2274,"name":"outcomeTokenAmounts","nodeType":"VariableDeclaration","scope":2279,"src":"2491:32:9","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_memory_ptr","typeString":"int256[]"},"typeName":{"baseType":{"id":2272,"name":"int","nodeType":"ElementaryTypeName","src":"2491:3:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":2273,"length":null,"nodeType":"ArrayTypeName","src":"2491:5:9","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_storage_ptr","typeString":"int256[]"}},"value":null,"visibility":"internal"}],"src":"2490:34:9"},"returnParameters":{"id":2278,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2277,"name":"netCost","nodeType":"VariableDeclaration","scope":2279,"src":"2546:11:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":2276,"name":"int","nodeType":"ElementaryTypeName","src":"2546:3:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"value":null,"visibility":"internal"}],"src":"2545:13:9"},"scope":3101,"src":"2470:89:9","stateMutability":"view","superFunction":null,"visibility":"public"},{"body":{"id":2389,"nodeType":"Block","src":"2923:965:9","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2293,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2291,"name":"fundingChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2281,"src":"2941:13:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"hexValue":"30","id":2292,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2958:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"2941:18:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"412066756e64696e674368616e6765206f66207a65726f206973206e6f7420612066756e64696e674368616e676520617420616c6c2e20497420697320756e61636365707461626c652e","id":2294,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"2961:76:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_8b0abfd0a6a26cf9e76f3923f83612ab8d81fdb0309d6dce5760bf580777c1fc","typeString":"literal_string \\"A fundingChange of zero is not a fundingChange at all. It is unacceptable.\\""},"value":"A fundingChange of zero is not a fundingChange at all. It is unacceptable."}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_8b0abfd0a6a26cf9e76f3923f83612ab8d81fdb0309d6dce5760bf580777c1fc","typeString":"literal_string \\"A fundingChange of zero is not a fundingChange at all. It is unacceptable.\\""}],"id":2290,"name":"require","nodeType":"Identifier","overloadedDeclarations":[5416,5417],"referencedDeclaration":5417,"src":"2933:7:9","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":2295,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2933:105:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2296,"nodeType":"ExpressionStatement","src":"2933:105:9"},{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2299,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2297,"name":"fundingChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2281,"src":"3164:13:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"argumentTypes":null,"hexValue":"30","id":2298,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3180:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"3164:17:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":2347,"nodeType":"IfStatement","src":"3160:399:9","trueBody":{"id":2346,"nodeType":"Block","src":"3183:376:9","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":2321,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2303,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5413,"src":"3234:3:9","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":2304,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"3234:10:9","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2306,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5450,"src":"3254:4:9","typeDescriptions":{"typeIdentifier":"t_contract$_MarketMaker_$3101","typeString":"contract MarketMaker"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_MarketMaker_$3101","typeString":"contract MarketMaker"}],"id":2305,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3246:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2307,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3246:13:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2309,"name":"fundingChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2281,"src":"3266:13:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2308,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3261:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2310,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3261:19:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address_payable","typeString":"address payable"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2301,"name":"collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2125,"src":"3205:15:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5379","typeString":"contract IERC20"}},"id":2302,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"transferFrom","nodeType":"MemberAccess","referencedDeclaration":5362,"src":"3205:28:9","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (address,address,uint256) external returns (bool)"}},"id":2311,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3205:76:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2315,"name":"pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2123,"src":"3317:8:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1594","typeString":"contract PredictionMarketSystem"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1594","typeString":"contract PredictionMarketSystem"}],"id":2314,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3309:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2316,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3309:17:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2318,"name":"fundingChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2281,"src":"3333:13:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2317,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3328:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2319,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3328:19:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2312,"name":"collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2125,"src":"3285:15:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5379","typeString":"contract IERC20"}},"id":2313,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"approve","nodeType":"MemberAccess","referencedDeclaration":5351,"src":"3285:23:9","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (address,uint256) external returns (bool)"}},"id":2320,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3285:63:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"3205:143:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":2300,"name":"require","nodeType":"Identifier","overloadedDeclarations":[5416,5417],"referencedDeclaration":5416,"src":"3197:7:9","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":2322,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3197:152:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2323,"nodeType":"ExpressionStatement","src":"3197:152:9"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2326,"name":"fundingChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2281,"src":"3402:13:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2325,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3397:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2327,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3397:19:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2328,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2128,"src":"3418:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":2329,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","referencedDeclaration":null,"src":"3418:19:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"hexValue":"30","id":2330,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3439:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":2324,"name":"splitPositionThroughAllConditions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3025,"src":"3363:33:9","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (uint256,uint256,uint256)"}},"id":2331,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3363:78:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2332,"nodeType":"ExpressionStatement","src":"3363:78:9"},{"expression":{"argumentTypes":null,"id":2340,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2333,"name":"funding","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2134,"src":"3455:7:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2337,"name":"fundingChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2281,"src":"3482:13:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2336,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3477:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2338,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3477:19:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2334,"name":"funding","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2134,"src":"3465:7:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2335,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"add","nodeType":"MemberAccess","referencedDeclaration":5180,"src":"3465:11:9","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":2339,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3465:32:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3455:42:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2341,"nodeType":"ExpressionStatement","src":"3455:42:9"},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2343,"name":"fundingChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2281,"src":"3534:13:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2342,"name":"AMMFundingChanged","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2102,"src":"3516:17:9","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_int256_$returns$__$","typeString":"function (int256)"}},"id":2344,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3516:32:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2345,"nodeType":"EmitStatement","src":"3511:37:9"}]}},{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2350,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2348,"name":"fundingChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2281,"src":"3572:13:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"hexValue":"30","id":2349,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3588:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"3572:17:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":2388,"nodeType":"IfStatement","src":"3568:314:9","trueBody":{"id":2387,"nodeType":"Block","src":"3591:291:9","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2354,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"3645:14:9","subExpression":{"argumentTypes":null,"id":2353,"name":"fundingChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2281,"src":"3646:13:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2352,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3640:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2355,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3640:20:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2356,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2128,"src":"3662:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":2357,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","referencedDeclaration":null,"src":"3662:19:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"hexValue":"30","id":2358,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3683:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":2351,"name":"mergePositionsThroughAllConditions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3100,"src":"3605:34:9","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (uint256,uint256,uint256)"}},"id":2359,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3605:80:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2360,"nodeType":"ExpressionStatement","src":"3605:80:9"},{"expression":{"argumentTypes":null,"id":2369,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2361,"name":"funding","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2134,"src":"3699:7:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2366,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"3726:14:9","subExpression":{"argumentTypes":null,"id":2365,"name":"fundingChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2281,"src":"3727:13:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2364,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3721:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2367,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3721:20:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2362,"name":"funding","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2134,"src":"3709:7:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2363,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sub","nodeType":"MemberAccess","referencedDeclaration":5156,"src":"3709:11:9","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":2368,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3709:33:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3699:43:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2370,"nodeType":"ExpressionStatement","src":"3699:43:9"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[],"expression":{"argumentTypes":[],"id":2374,"name":"owner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5235,"src":"3789:5:9","typeDescriptions":{"typeIdentifier":"t_function_internal_view$__$returns$_t_address_$","typeString":"function () view returns (address)"}},"id":2375,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3789:7:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2378,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"3803:14:9","subExpression":{"argumentTypes":null,"id":2377,"name":"fundingChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2281,"src":"3804:13:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2376,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3798:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2379,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3798:20:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2372,"name":"collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2125,"src":"3764:15:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5379","typeString":"contract IERC20"}},"id":2373,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"transfer","nodeType":"MemberAccess","referencedDeclaration":5342,"src":"3764:24:9","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (address,uint256) external returns (bool)"}},"id":2380,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3764:55:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":2371,"name":"require","nodeType":"Identifier","overloadedDeclarations":[5416,5417],"referencedDeclaration":5416,"src":"3756:7:9","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":2381,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3756:64:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2382,"nodeType":"ExpressionStatement","src":"3756:64:9"},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2384,"name":"fundingChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2281,"src":"3857:13:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2383,"name":"AMMFundingChanged","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2102,"src":"3839:17:9","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_int256_$returns$__$","typeString":"function (int256)"}},"id":2385,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3839:32:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2386,"nodeType":"EmitStatement","src":"3834:37:9"}]}}]},"documentation":"@dev Allows to fund the market with collateral tokens converting them into outcome tokens\\n Note for the future: should combine splitPosition and mergePositions into one function, as code duplication causes things like this to happen.","id":2390,"implemented":true,"kind":"function","modifiers":[{"arguments":null,"id":2284,"modifierName":{"argumentTypes":null,"id":2283,"name":"onlyOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5244,"src":"2879:9:9","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"2879:9:9"},{"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2286,"name":"Stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2140,"src":"2905:5:9","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Stage_$2140_$","typeString":"type(enum MarketMaker.Stage)"}},"id":2287,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"Paused","nodeType":"MemberAccess","referencedDeclaration":null,"src":"2905:12:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2140","typeString":"enum MarketMaker.Stage"}}],"id":2288,"modifierName":{"argumentTypes":null,"id":2285,"name":"atStage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2152,"src":"2897:7:9","typeDescriptions":{"typeIdentifier":"t_modifier$_t_enum$_Stage_$2140_$","typeString":"modifier (enum MarketMaker.Stage)"}},"nodeType":"ModifierInvocation","src":"2897:21:9"}],"name":"changeFunding","nodeType":"FunctionDefinition","parameters":{"id":2282,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2281,"name":"fundingChange","nodeType":"VariableDeclaration","scope":2390,"src":"2837:17:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":2280,"name":"int","nodeType":"ElementaryTypeName","src":"2837:3:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"value":null,"visibility":"internal"}],"src":"2836:19:9"},"returnParameters":{"id":2289,"nodeType":"ParameterList","parameters":[],"src":"2923:0:9"},"scope":3101,"src":"2814:1074:9","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"body":{"id":2407,"nodeType":"Block","src":"3951:63:9","statements":[{"expression":{"argumentTypes":null,"id":2402,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2399,"name":"stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2136,"src":"3961:5:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2140","typeString":"enum MarketMaker.Stage"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2400,"name":"Stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2140,"src":"3969:5:9","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Stage_$2140_$","typeString":"type(enum MarketMaker.Stage)"}},"id":2401,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"Paused","nodeType":"MemberAccess","referencedDeclaration":null,"src":"3969:12:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2140","typeString":"enum MarketMaker.Stage"}},"src":"3961:20:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2140","typeString":"enum MarketMaker.Stage"}},"id":2403,"nodeType":"ExpressionStatement","src":"3961:20:9"},{"eventCall":{"argumentTypes":null,"arguments":[],"expression":{"argumentTypes":[],"id":2404,"name":"AMMPaused","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2094,"src":"3996:9:9","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$__$returns$__$","typeString":"function ()"}},"id":2405,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3996:11:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2406,"nodeType":"EmitStatement","src":"3991:16:9"}]},"documentation":null,"id":2408,"implemented":true,"kind":"function","modifiers":[{"arguments":null,"id":2393,"modifierName":{"argumentTypes":null,"id":2392,"name":"onlyOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5244,"src":"3918:9:9","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"3918:9:9"},{"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2395,"name":"Stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2140,"src":"3936:5:9","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Stage_$2140_$","typeString":"type(enum MarketMaker.Stage)"}},"id":2396,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"Running","nodeType":"MemberAccess","referencedDeclaration":null,"src":"3936:13:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2140","typeString":"enum MarketMaker.Stage"}}],"id":2397,"modifierName":{"argumentTypes":null,"id":2394,"name":"atStage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2152,"src":"3928:7:9","typeDescriptions":{"typeIdentifier":"t_modifier$_t_enum$_Stage_$2140_$","typeString":"modifier (enum MarketMaker.Stage)"}},"nodeType":"ModifierInvocation","src":"3928:22:9"}],"name":"pause","nodeType":"FunctionDefinition","parameters":{"id":2391,"nodeType":"ParameterList","parameters":[],"src":"3908:2:9"},"returnParameters":{"id":2398,"nodeType":"ParameterList","parameters":[],"src":"3951:0:9"},"scope":3101,"src":"3894:120:9","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"body":{"id":2425,"nodeType":"Block","src":"4081:65:9","statements":[{"expression":{"argumentTypes":null,"id":2420,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2417,"name":"stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2136,"src":"4091:5:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2140","typeString":"enum MarketMaker.Stage"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2418,"name":"Stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2140,"src":"4099:5:9","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Stage_$2140_$","typeString":"type(enum MarketMaker.Stage)"}},"id":2419,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"Running","nodeType":"MemberAccess","referencedDeclaration":null,"src":"4099:13:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2140","typeString":"enum MarketMaker.Stage"}},"src":"4091:21:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2140","typeString":"enum MarketMaker.Stage"}},"id":2421,"nodeType":"ExpressionStatement","src":"4091:21:9"},{"eventCall":{"argumentTypes":null,"arguments":[],"expression":{"argumentTypes":[],"id":2422,"name":"AMMResumed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2096,"src":"4127:10:9","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$__$returns$__$","typeString":"function ()"}},"id":2423,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4127:12:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2424,"nodeType":"EmitStatement","src":"4122:17:9"}]},"documentation":null,"id":2426,"implemented":true,"kind":"function","modifiers":[{"arguments":null,"id":2411,"modifierName":{"argumentTypes":null,"id":2410,"name":"onlyOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5244,"src":"4049:9:9","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"4049:9:9"},{"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2413,"name":"Stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2140,"src":"4067:5:9","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Stage_$2140_$","typeString":"type(enum MarketMaker.Stage)"}},"id":2414,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"Paused","nodeType":"MemberAccess","referencedDeclaration":null,"src":"4067:12:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2140","typeString":"enum MarketMaker.Stage"}}],"id":2415,"modifierName":{"argumentTypes":null,"id":2412,"name":"atStage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2152,"src":"4059:7:9","typeDescriptions":{"typeIdentifier":"t_modifier$_t_enum$_Stage_$2140_$","typeString":"modifier (enum MarketMaker.Stage)"}},"nodeType":"ModifierInvocation","src":"4059:21:9"}],"name":"resume","nodeType":"FunctionDefinition","parameters":{"id":2409,"nodeType":"ParameterList","parameters":[],"src":"4039:2:9"},"returnParameters":{"id":2416,"nodeType":"ParameterList","parameters":[],"src":"4081:0:9"},"scope":3101,"src":"4024:122:9","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"body":{"id":2445,"nodeType":"Block","src":"4223:60:9","statements":[{"expression":{"argumentTypes":null,"id":2439,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2437,"name":"fee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2132,"src":"4233:3:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"id":2438,"name":"_fee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2428,"src":"4239:4:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"src":"4233:10:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"id":2440,"nodeType":"ExpressionStatement","src":"4233:10:9"},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2442,"name":"fee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2132,"src":"4272:3:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint64","typeString":"uint64"}],"id":2441,"name":"AMMFeeChanged","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2106,"src":"4258:13:9","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_uint64_$returns$__$","typeString":"function (uint64)"}},"id":2443,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4258:18:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2444,"nodeType":"EmitStatement","src":"4253:23:9"}]},"documentation":null,"id":2446,"implemented":true,"kind":"function","modifiers":[{"arguments":null,"id":2431,"modifierName":{"argumentTypes":null,"id":2430,"name":"onlyOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5244,"src":"4191:9:9","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"4191:9:9"},{"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2433,"name":"Stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2140,"src":"4209:5:9","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Stage_$2140_$","typeString":"type(enum MarketMaker.Stage)"}},"id":2434,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"Paused","nodeType":"MemberAccess","referencedDeclaration":null,"src":"4209:12:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2140","typeString":"enum MarketMaker.Stage"}}],"id":2435,"modifierName":{"argumentTypes":null,"id":2432,"name":"atStage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2152,"src":"4201:7:9","typeDescriptions":{"typeIdentifier":"t_modifier$_t_enum$_Stage_$2140_$","typeString":"modifier (enum MarketMaker.Stage)"}},"nodeType":"ModifierInvocation","src":"4201:21:9"}],"name":"changeFee","nodeType":"FunctionDefinition","parameters":{"id":2429,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2428,"name":"_fee","nodeType":"VariableDeclaration","scope":2446,"src":"4171:11:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"},"typeName":{"id":2427,"name":"uint64","nodeType":"ElementaryTypeName","src":"4171:6:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"value":null,"visibility":"internal"}],"src":"4170:13:9"},"returnParameters":{"id":2436,"nodeType":"ParameterList","parameters":[],"src":"4223:0:9"},"scope":3101,"src":"4152:131:9","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"body":{"id":2509,"nodeType":"Block","src":"4455:423:9","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":2460,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_enum$_Stage_$2140","typeString":"enum MarketMaker.Stage"},"id":2455,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2452,"name":"stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2136,"src":"4473:5:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2140","typeString":"enum MarketMaker.Stage"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2453,"name":"Stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2140,"src":"4482:5:9","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Stage_$2140_$","typeString":"type(enum MarketMaker.Stage)"}},"id":2454,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"Running","nodeType":"MemberAccess","referencedDeclaration":null,"src":"4482:13:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2140","typeString":"enum MarketMaker.Stage"}},"src":"4473:22:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"||","rightExpression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_enum$_Stage_$2140","typeString":"enum MarketMaker.Stage"},"id":2459,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2456,"name":"stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2136,"src":"4499:5:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2140","typeString":"enum MarketMaker.Stage"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2457,"name":"Stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2140,"src":"4508:5:9","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Stage_$2140_$","typeString":"type(enum MarketMaker.Stage)"}},"id":2458,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"Paused","nodeType":"MemberAccess","referencedDeclaration":null,"src":"4508:12:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2140","typeString":"enum MarketMaker.Stage"}},"src":"4499:21:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"4473:47:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"54686973204d61726b65742068617320616c7265616479206265656e20636c6f736564","id":2461,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"4522:37:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_ce82b757e84d3f085f7655825c68fa1a13fda6cc3913781fbe7409417e74f19c","typeString":"literal_string \\"This Market has already been closed\\""},"value":"This Market has already been closed"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_ce82b757e84d3f085f7655825c68fa1a13fda6cc3913781fbe7409417e74f19c","typeString":"literal_string \\"This Market has already been closed\\""}],"id":2451,"name":"require","nodeType":"Identifier","overloadedDeclarations":[5416,5417],"referencedDeclaration":5417,"src":"4465:7:9","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":2462,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4465:95:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2463,"nodeType":"ExpressionStatement","src":"4465:95:9"},{"body":{"id":2499,"nodeType":"Block","src":"4620:196:9","statements":[{"assignments":[2475],"declarations":[{"constant":false,"id":2475,"name":"positionId","nodeType":"VariableDeclaration","scope":2499,"src":"4634:15:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2474,"name":"uint","nodeType":"ElementaryTypeName","src":"4634:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":2479,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2477,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2465,"src":"4677:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":2476,"name":"generateAtomicPositionId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2950,"src":"4652:24:9","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256) view returns (uint256)"}},"id":2478,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4652:27:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"4634:45:9"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2484,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5450,"src":"4727:4:9","typeDescriptions":{"typeIdentifier":"t_contract$_MarketMaker_$3101","typeString":"contract MarketMaker"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_MarketMaker_$3101","typeString":"contract MarketMaker"}],"id":2483,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4719:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2485,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4719:13:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"arguments":[],"expression":{"argumentTypes":[],"id":2486,"name":"owner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5235,"src":"4734:5:9","typeDescriptions":{"typeIdentifier":"t_function_internal_view$__$returns$_t_address_$","typeString":"function () view returns (address)"}},"id":2487,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4734:7:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":2488,"name":"positionId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2475,"src":"4743:10:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2492,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5450,"src":"4782:4:9","typeDescriptions":{"typeIdentifier":"t_contract$_MarketMaker_$3101","typeString":"contract MarketMaker"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_MarketMaker_$3101","typeString":"contract MarketMaker"}],"id":2491,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4774:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2493,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4774:13:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":2494,"name":"positionId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2475,"src":"4789:10:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2489,"name":"pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2123,"src":"4755:8:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1594","typeString":"contract PredictionMarketSystem"}},"id":2490,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"balanceOf","nodeType":"MemberAccess","referencedDeclaration":4809,"src":"4755:18:9","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$_t_uint256_$returns$_t_uint256_$","typeString":"function (address,uint256) view external returns (uint256)"}},"id":2495,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4755:45:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"hexValue":"","id":2496,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"4802:2:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470","typeString":"literal_string \\"\\""},"value":""}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_stringliteral_c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470","typeString":"literal_string \\"\\""}],"expression":{"argumentTypes":null,"id":2480,"name":"pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2123,"src":"4693:8:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1594","typeString":"contract PredictionMarketSystem"}},"id":2482,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"safeTransferFrom","nodeType":"MemberAccess","referencedDeclaration":4657,"src":"4693:25:9","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_address_$_t_uint256_$_t_uint256_$_t_bytes_memory_ptr_$returns$__$","typeString":"function (address,address,uint256,uint256,bytes memory) external"}},"id":2497,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4693:112:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2498,"nodeType":"ExpressionStatement","src":"4693:112:9"}]},"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2470,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2468,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2465,"src":"4587:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"id":2469,"name":"atomicOutcomeSlotCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2130,"src":"4591:22:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4587:26:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":2500,"initializationExpression":{"assignments":[2465],"declarations":[{"constant":false,"id":2465,"name":"i","nodeType":"VariableDeclaration","scope":2500,"src":"4575:6:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2464,"name":"uint","nodeType":"ElementaryTypeName","src":"4575:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":2467,"initialValue":{"argumentTypes":null,"hexValue":"30","id":2466,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4584:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"4575:10:9"},"loopExpression":{"expression":{"argumentTypes":null,"id":2472,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"4615:3:9","subExpression":{"argumentTypes":null,"id":2471,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2465,"src":"4615:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2473,"nodeType":"ExpressionStatement","src":"4615:3:9"},"nodeType":"ForStatement","src":"4570:246:9"},{"expression":{"argumentTypes":null,"id":2504,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2501,"name":"stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2136,"src":"4825:5:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2140","typeString":"enum MarketMaker.Stage"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2502,"name":"Stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2140,"src":"4833:5:9","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Stage_$2140_$","typeString":"type(enum MarketMaker.Stage)"}},"id":2503,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"Closed","nodeType":"MemberAccess","referencedDeclaration":null,"src":"4833:12:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2140","typeString":"enum MarketMaker.Stage"}},"src":"4825:20:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2140","typeString":"enum MarketMaker.Stage"}},"id":2505,"nodeType":"ExpressionStatement","src":"4825:20:9"},{"eventCall":{"argumentTypes":null,"arguments":[],"expression":{"argumentTypes":[],"id":2506,"name":"AMMClosed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2098,"src":"4860:9:9","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$__$returns$__$","typeString":"function ()"}},"id":2507,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4860:11:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2508,"nodeType":"EmitStatement","src":"4855:16:9"}]},"documentation":"@dev Allows market owner to close the markets by transferring all remaining outcome tokens to the owner","id":2510,"implemented":true,"kind":"function","modifiers":[{"arguments":null,"id":2449,"modifierName":{"argumentTypes":null,"id":2448,"name":"onlyOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5244,"src":"4441:9:9","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"4441:9:9"}],"name":"close","nodeType":"FunctionDefinition","parameters":{"id":2447,"nodeType":"ParameterList","parameters":[],"src":"4415:2:9"},"returnParameters":{"id":2450,"nodeType":"ParameterList","parameters":[],"src":"4455:0:9"},"scope":3101,"src":"4401:477:9","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"body":{"id":2539,"nodeType":"Block","src":"5070:184:9","statements":[{"expression":{"argumentTypes":null,"id":2524,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2517,"name":"fees","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2515,"src":"5080:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2521,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5450,"src":"5121:4:9","typeDescriptions":{"typeIdentifier":"t_contract$_MarketMaker_$3101","typeString":"contract MarketMaker"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_MarketMaker_$3101","typeString":"contract MarketMaker"}],"id":2520,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"5113:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2522,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5113:13:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"argumentTypes":null,"id":2518,"name":"collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2125,"src":"5087:15:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5379","typeString":"contract IERC20"}},"id":2519,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"balanceOf","nodeType":"MemberAccess","referencedDeclaration":5324,"src":"5087:25:9","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$returns$_t_uint256_$","typeString":"function (address) view external returns (uint256)"}},"id":2523,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5087:40:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5080:47:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2525,"nodeType":"ExpressionStatement","src":"5080:47:9"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[],"expression":{"argumentTypes":[],"id":2529,"name":"owner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5235,"src":"5195:5:9","typeDescriptions":{"typeIdentifier":"t_function_internal_view$__$returns$_t_address_$","typeString":"function () view returns (address)"}},"id":2530,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5195:7:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":2531,"name":"fees","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2515,"src":"5204:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2527,"name":"collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2125,"src":"5170:15:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5379","typeString":"contract IERC20"}},"id":2528,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"transfer","nodeType":"MemberAccess","referencedDeclaration":5342,"src":"5170:24:9","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (address,uint256) external returns (bool)"}},"id":2532,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5170:39:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":2526,"name":"require","nodeType":"Identifier","overloadedDeclarations":[5416,5417],"referencedDeclaration":5416,"src":"5162:7:9","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":2533,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5162:48:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2534,"nodeType":"ExpressionStatement","src":"5162:48:9"},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2536,"name":"fees","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2515,"src":"5242:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":2535,"name":"AMMFeeWithdrawal","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2110,"src":"5225:16:9","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_uint256_$returns$__$","typeString":"function (uint256)"}},"id":2537,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5225:22:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2538,"nodeType":"EmitStatement","src":"5220:27:9"}]},"documentation":"@dev Allows market owner to withdraw fees generated by trades\\n @return Fee amount","id":2540,"implemented":true,"kind":"function","modifiers":[{"arguments":null,"id":2513,"modifierName":{"argumentTypes":null,"id":2512,"name":"onlyOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5244,"src":"5028:9:9","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"5028:9:9"}],"name":"withdrawFees","nodeType":"FunctionDefinition","parameters":{"id":2511,"nodeType":"ParameterList","parameters":[],"src":"5002:2:9"},"returnParameters":{"id":2516,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2515,"name":"fees","nodeType":"VariableDeclaration","scope":2540,"src":"5055:9:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2514,"name":"uint","nodeType":"ElementaryTypeName","src":"5055:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"5054:11:9"},"scope":3101,"src":"4981:273:9","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"body":{"id":2771,"nodeType":"Block","src":"7226:2081:9","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2558,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2555,"name":"outcomeTokenAmounts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2543,"src":"7244:19:9","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_memory_ptr","typeString":"int256[] memory"}},"id":2556,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","referencedDeclaration":null,"src":"7244:26:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"id":2557,"name":"atomicOutcomeSlotCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2130,"src":"7274:22:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"7244:52:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":2554,"name":"require","nodeType":"Identifier","overloadedDeclarations":[5416,5417],"referencedDeclaration":5416,"src":"7236:7:9","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":2559,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7236:61:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2560,"nodeType":"ExpressionStatement","src":"7236:61:9"},{"assignments":[2562],"declarations":[{"constant":false,"id":2562,"name":"outcomeTokenNetCost","nodeType":"VariableDeclaration","scope":2771,"src":"7358:23:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":2561,"name":"int","nodeType":"ElementaryTypeName","src":"7358:3:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"value":null,"visibility":"internal"}],"id":2566,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2564,"name":"outcomeTokenAmounts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2543,"src":"7396:19:9","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_memory_ptr","typeString":"int256[] memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_array$_t_int256_$dyn_memory_ptr","typeString":"int256[] memory"}],"id":2563,"name":"calcNetCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2279,"src":"7384:11:9","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_array$_t_int256_$dyn_memory_ptr_$returns$_t_int256_$","typeString":"function (int256[] memory) view returns (int256)"}},"id":2565,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7384:32:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"VariableDeclarationStatement","src":"7358:58:9"},{"assignments":[2568],"declarations":[{"constant":false,"id":2568,"name":"fees","nodeType":"VariableDeclaration","scope":2771,"src":"7426:8:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":2567,"name":"int","nodeType":"ElementaryTypeName","src":"7426:3:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"value":null,"visibility":"internal"}],"id":2569,"initialValue":null,"nodeType":"VariableDeclarationStatement","src":"7426:8:9"},{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2572,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2570,"name":"outcomeTokenNetCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2562,"src":"7447:19:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"hexValue":"30","id":2571,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"7469:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"7447:23:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"expression":{"argumentTypes":null,"id":2592,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2584,"name":"fees","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2568,"src":"7564:4:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2588,"name":"outcomeTokenNetCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2562,"src":"7594:19:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2587,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"7589:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2589,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7589:25:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":2586,"name":"calcMarketFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2786,"src":"7575:13:9","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256) view returns (uint256)"}},"id":2590,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7575:40:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":2585,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"7571:3:9","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":"int"},"id":2591,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7571:45:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"7564:52:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":2593,"nodeType":"ExpressionStatement","src":"7564:52:9"},"id":2594,"nodeType":"IfStatement","src":"7444:172:9","trueBody":{"expression":{"argumentTypes":null,"id":2582,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2573,"name":"fees","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2568,"src":"7484:4:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2578,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"7514:20:9","subExpression":{"argumentTypes":null,"id":2577,"name":"outcomeTokenNetCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2562,"src":"7515:19:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2576,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"7509:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2579,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7509:26:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":2575,"name":"calcMarketFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2786,"src":"7495:13:9","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256) view returns (uint256)"}},"id":2580,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7495:41:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":2574,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"7491:3:9","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":"int"},"id":2581,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7491:46:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"7484:53:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":2583,"nodeType":"ExpressionStatement","src":"7484:53:9"}},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2598,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2596,"name":"fees","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2568,"src":"7635:4:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"argumentTypes":null,"hexValue":"30","id":2597,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"7643:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"7635:9:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":2595,"name":"require","nodeType":"Identifier","overloadedDeclarations":[5416,5417],"referencedDeclaration":5416,"src":"7627:7:9","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":2599,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7627:18:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2600,"nodeType":"ExpressionStatement","src":"7627:18:9"},{"expression":{"argumentTypes":null,"id":2606,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2601,"name":"netCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2552,"src":"7655:7:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2604,"name":"fees","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2568,"src":"7689:4:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"expression":{"argumentTypes":null,"id":2602,"name":"outcomeTokenNetCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2562,"src":"7665:19:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":2603,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"add","nodeType":"MemberAccess","referencedDeclaration":4251,"src":"7665:23:9","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_int256_$_t_int256_$returns$_t_int256_$bound_to$_t_int256_$","typeString":"function (int256,int256) pure returns (int256)"}},"id":2605,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7665:29:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"7655:39:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":2607,"nodeType":"ExpressionStatement","src":"7655:39:9"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":2620,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"components":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":2615,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2611,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2609,"name":"collateralLimit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2545,"src":"7727:15:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"hexValue":"30","id":2610,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"7746:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"7727:20:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2614,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2612,"name":"netCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2552,"src":"7751:7:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"<=","rightExpression":{"argumentTypes":null,"id":2613,"name":"collateralLimit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2545,"src":"7762:15:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"7751:26:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"7727:50:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"id":2616,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"7726:52:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"||","rightExpression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2619,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2617,"name":"collateralLimit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2545,"src":"7794:15:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"hexValue":"30","id":2618,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"7813:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"7794:20:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"7726:88:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":2608,"name":"require","nodeType":"Identifier","overloadedDeclarations":[5416,5417],"referencedDeclaration":5416,"src":"7705:7:9","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":2621,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7705:119:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2622,"nodeType":"ExpressionStatement","src":"7705:119:9"},{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2625,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2623,"name":"outcomeTokenNetCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2562,"src":"7838:19:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"argumentTypes":null,"hexValue":"30","id":2624,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"7860:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"7838:23:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":2660,"nodeType":"IfStatement","src":"7835:350:9","trueBody":{"id":2659,"nodeType":"Block","src":"7863:322:9","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":2647,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2629,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5413,"src":"7931:3:9","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":2630,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"7931:10:9","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2632,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5450,"src":"7951:4:9","typeDescriptions":{"typeIdentifier":"t_contract$_MarketMaker_$3101","typeString":"contract MarketMaker"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_MarketMaker_$3101","typeString":"contract MarketMaker"}],"id":2631,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"7943:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2633,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7943:13:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2635,"name":"netCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2552,"src":"7963:7:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2634,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"7958:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2636,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7958:13:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address_payable","typeString":"address payable"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2627,"name":"collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2125,"src":"7902:15:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5379","typeString":"contract IERC20"}},"id":2628,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"transferFrom","nodeType":"MemberAccess","referencedDeclaration":5362,"src":"7902:28:9","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (address,address,uint256) external returns (bool)"}},"id":2637,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7902:70:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2641,"name":"pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2123,"src":"8024:8:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1594","typeString":"contract PredictionMarketSystem"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1594","typeString":"contract PredictionMarketSystem"}],"id":2640,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"8016:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2642,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8016:17:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2644,"name":"outcomeTokenNetCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2562,"src":"8040:19:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2643,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"8035:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2645,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8035:25:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2638,"name":"collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2125,"src":"7992:15:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5379","typeString":"contract IERC20"}},"id":2639,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"approve","nodeType":"MemberAccess","referencedDeclaration":5351,"src":"7992:23:9","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (address,uint256) external returns (bool)"}},"id":2646,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7992:69:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"7902:159:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":2626,"name":"require","nodeType":"Identifier","overloadedDeclarations":[5416,5417],"referencedDeclaration":5416,"src":"7877:7:9","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":2648,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7877:198:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2649,"nodeType":"ExpressionStatement","src":"7877:198:9"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2652,"name":"outcomeTokenNetCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2562,"src":"8129:19:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2651,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"8124:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2653,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8124:25:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2654,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2128,"src":"8151:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":2655,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","referencedDeclaration":null,"src":"8151:19:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"hexValue":"30","id":2656,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8172:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":2650,"name":"splitPositionThroughAllConditions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3025,"src":"8090:33:9","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (uint256,uint256,uint256)"}},"id":2657,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8090:84:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2658,"nodeType":"ExpressionStatement","src":"8090:84:9"}]}},{"body":{"id":2727,"nodeType":"Block","src":"8245:468:9","statements":[{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2675,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2671,"name":"outcomeTokenAmounts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2543,"src":"8262:19:9","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_memory_ptr","typeString":"int256[] memory"}},"id":2673,"indexExpression":{"argumentTypes":null,"id":2672,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2662,"src":"8282:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"8262:22:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"hexValue":"30","id":2674,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8288:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"8262:27:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":2726,"nodeType":"IfStatement","src":"8259:444:9","trueBody":{"id":2725,"nodeType":"Block","src":"8291:412:9","statements":[{"assignments":[2677],"declarations":[{"constant":false,"id":2677,"name":"positionId","nodeType":"VariableDeclaration","scope":2725,"src":"8309:15:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2676,"name":"uint","nodeType":"ElementaryTypeName","src":"8309:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":2681,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2679,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2662,"src":"8352:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":2678,"name":"generateAtomicPositionId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2950,"src":"8327:24:9","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256) view returns (uint256)"}},"id":2680,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8327:27:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"8309:45:9"},{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2686,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2682,"name":"outcomeTokenAmounts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2543,"src":"8375:19:9","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_memory_ptr","typeString":"int256[] memory"}},"id":2684,"indexExpression":{"argumentTypes":null,"id":2683,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2662,"src":"8395:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"8375:22:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"hexValue":"30","id":2685,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8400:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"8375:26:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":2723,"nodeType":"Block","src":"8549:139:9","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2710,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5450,"src":"8605:4:9","typeDescriptions":{"typeIdentifier":"t_contract$_MarketMaker_$3101","typeString":"contract MarketMaker"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_MarketMaker_$3101","typeString":"contract MarketMaker"}],"id":2709,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"8597:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2711,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8597:13:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2712,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5413,"src":"8612:3:9","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":2713,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"8612:10:9","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},{"argumentTypes":null,"id":2714,"name":"positionId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2677,"src":"8624:10:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2716,"name":"outcomeTokenAmounts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2543,"src":"8641:19:9","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_memory_ptr","typeString":"int256[] memory"}},"id":2718,"indexExpression":{"argumentTypes":null,"id":2717,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2662,"src":"8661:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"8641:22:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2715,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"8636:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2719,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8636:28:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"hexValue":"","id":2720,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"8666:2:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470","typeString":"literal_string \\"\\""},"value":""}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address_payable","typeString":"address payable"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_stringliteral_c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470","typeString":"literal_string \\"\\""}],"expression":{"argumentTypes":null,"id":2706,"name":"pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2123,"src":"8571:8:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1594","typeString":"contract PredictionMarketSystem"}},"id":2708,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"safeTransferFrom","nodeType":"MemberAccess","referencedDeclaration":4657,"src":"8571:25:9","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_address_$_t_uint256_$_t_uint256_$_t_bytes_memory_ptr_$returns$__$","typeString":"function (address,address,uint256,uint256,bytes memory) external"}},"id":2721,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8571:98:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2722,"nodeType":"ExpressionStatement","src":"8571:98:9"}]},"id":2724,"nodeType":"IfStatement","src":"8372:316:9","trueBody":{"id":2705,"nodeType":"Block","src":"8403:140:9","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2690,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5413,"src":"8451:3:9","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":2691,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"8451:10:9","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2693,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5450,"src":"8471:4:9","typeDescriptions":{"typeIdentifier":"t_contract$_MarketMaker_$3101","typeString":"contract MarketMaker"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_MarketMaker_$3101","typeString":"contract MarketMaker"}],"id":2692,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"8463:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2694,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8463:13:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":2695,"name":"positionId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2677,"src":"8478:10:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2700,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"8495:23:9","subExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2697,"name":"outcomeTokenAmounts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2543,"src":"8496:19:9","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_memory_ptr","typeString":"int256[] memory"}},"id":2699,"indexExpression":{"argumentTypes":null,"id":2698,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2662,"src":"8516:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"8496:22:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2696,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"8490:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2701,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8490:29:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"hexValue":"","id":2702,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"8521:2:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470","typeString":"literal_string \\"\\""},"value":""}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address_payable","typeString":"address payable"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_stringliteral_c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470","typeString":"literal_string \\"\\""}],"expression":{"argumentTypes":null,"id":2687,"name":"pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2123,"src":"8425:8:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1594","typeString":"contract PredictionMarketSystem"}},"id":2689,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"safeTransferFrom","nodeType":"MemberAccess","referencedDeclaration":4657,"src":"8425:25:9","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_address_$_t_uint256_$_t_uint256_$_t_bytes_memory_ptr_$returns$__$","typeString":"function (address,address,uint256,uint256,bytes memory) external"}},"id":2703,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8425:99:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2704,"nodeType":"ExpressionStatement","src":"8425:99:9"}]}}]}}]},"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2667,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2665,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2662,"src":"8212:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"id":2666,"name":"atomicOutcomeSlotCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2130,"src":"8216:22:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8212:26:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":2728,"initializationExpression":{"assignments":[2662],"declarations":[{"constant":false,"id":2662,"name":"i","nodeType":"VariableDeclaration","scope":2728,"src":"8200:6:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2661,"name":"uint","nodeType":"ElementaryTypeName","src":"8200:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":2664,"initialValue":{"argumentTypes":null,"hexValue":"30","id":2663,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8209:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"8200:10:9"},"loopExpression":{"expression":{"argumentTypes":null,"id":2669,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"8240:3:9","subExpression":{"argumentTypes":null,"id":2668,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2662,"src":"8240:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2670,"nodeType":"ExpressionStatement","src":"8240:3:9"},"nodeType":"ForStatement","src":"8195:518:9"},{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2731,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2729,"name":"outcomeTokenNetCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2562,"src":"8726:19:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"hexValue":"30","id":2730,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8748:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"8726:23:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":2760,"nodeType":"IfStatement","src":"8723:476:9","trueBody":{"id":2759,"nodeType":"Block","src":"8751:448:9","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2735,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"9019:20:9","subExpression":{"argumentTypes":null,"id":2734,"name":"outcomeTokenNetCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2562,"src":"9020:19:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2733,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"9014:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2736,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"9014:26:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2737,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2128,"src":"9042:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":2738,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","referencedDeclaration":null,"src":"9042:19:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"hexValue":"30","id":2739,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"9063:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":2732,"name":"mergePositionsThroughAllConditions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3100,"src":"8979:34:9","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (uint256,uint256,uint256)"}},"id":2740,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8979:86:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2741,"nodeType":"ExpressionStatement","src":"8979:86:9"},{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2744,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2742,"name":"netCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2552,"src":"9082:7:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"hexValue":"30","id":2743,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"9092:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"9082:11:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":2758,"nodeType":"IfStatement","src":"9079:110:9","trueBody":{"id":2757,"nodeType":"Block","src":"9095:94:9","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2748,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5413,"src":"9146:3:9","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":2749,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"9146:10:9","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2752,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"9163:8:9","subExpression":{"argumentTypes":null,"id":2751,"name":"netCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2552,"src":"9164:7:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2750,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"9158:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2753,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"9158:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address_payable","typeString":"address payable"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2746,"name":"collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2125,"src":"9121:15:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5379","typeString":"contract IERC20"}},"id":2747,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"transfer","nodeType":"MemberAccess","referencedDeclaration":5342,"src":"9121:24:9","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (address,uint256) external returns (bool)"}},"id":2754,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"9121:52:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":2745,"name":"require","nodeType":"Identifier","overloadedDeclarations":[5416,5417],"referencedDeclaration":5416,"src":"9113:7:9","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":2755,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"9113:61:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2756,"nodeType":"ExpressionStatement","src":"9113:61:9"}]}}]}},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2762,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5413,"src":"9235:3:9","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":2763,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"9235:10:9","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},{"argumentTypes":null,"id":2764,"name":"outcomeTokenAmounts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2543,"src":"9247:19:9","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_memory_ptr","typeString":"int256[] memory"}},{"argumentTypes":null,"id":2765,"name":"outcomeTokenNetCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2562,"src":"9268:19:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2767,"name":"fees","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2568,"src":"9294:4:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2766,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"9289:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2768,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"9289:10:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address_payable","typeString":"address payable"},{"typeIdentifier":"t_array$_t_int256_$dyn_memory_ptr","typeString":"int256[] memory"},{"typeIdentifier":"t_int256","typeString":"int256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":2761,"name":"AMMOutcomeTokenTrade","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2121,"src":"9214:20:9","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_array$_t_int256_$dyn_memory_ptr_$_t_int256_$_t_uint256_$returns$__$","typeString":"function (address,int256[] memory,int256,uint256)"}},"id":2769,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"9214:86:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2770,"nodeType":"EmitStatement","src":"9209:91:9"}]},"documentation":"@dev Allows to trade outcome tokens and collateral with the market maker\\n @param outcomeTokenAmounts Amounts of each atomic outcome token to buy or sell. If positive, will buy this amount of outcome token from the market. If negative, will sell this amount back to the market instead. The indices of this array range from 0 to product(all conditions\' outcomeSlotCounts)-1. For example, with two conditions with three outcome slots each and one condition with two outcome slots, you will have 3*3*2=18 total atomic outcome tokens, and the indices will range from 0 to 17. The indices map to atomic outcome slots depending on the order of the conditionIds. Let\'s say the first condition has slots A, B, C the second has slots X, Y, and the third has slots I, J, K. We can associate each atomic outcome token with indices by this map:\\n A&X&I == 0\\n B&X&I == 1\\n C&X&I == 2\\n A&Y&I == 3\\n B&Y&I == 4\\n C&Y&I == 5\\n A&X&J == 6\\n B&X&J == 7\\n C&X&J == 8\\n A&Y&J == 9\\n B&Y&J == 10\\n C&Y&J == 11\\n A&X&K == 12\\n B&X&K == 13\\n C&X&K == 14\\n A&Y&K == 15\\n B&Y&K == 16\\n C&Y&K == 17\\n This order is calculated via the generateAtomicPositionId function below: C&Y&I -> (2, 1, 0) -> 2 + 3 * (1 + 2 * (0 + 3 * (0 + 0)))\\n @param collateralLimit If positive, this is the limit for the amount of collateral tokens which will be sent to the market to conduct the trade. If negative, this is the minimum amount of collateral tokens which will be received from the market for the trade. If zero, there is no limit.\\n @return If positive, the amount of collateral sent to the market. If negative, the amount of collateral received from the market. If zero, no collateral was sent or received.","id":2772,"implemented":true,"kind":"function","modifiers":[{"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2548,"name":"Stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2140,"src":"7177:5:9","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Stage_$2140_$","typeString":"type(enum MarketMaker.Stage)"}},"id":2549,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"Running","nodeType":"MemberAccess","referencedDeclaration":null,"src":"7177:13:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2140","typeString":"enum MarketMaker.Stage"}}],"id":2550,"modifierName":{"argumentTypes":null,"id":2547,"name":"atStage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2152,"src":"7169:7:9","typeDescriptions":{"typeIdentifier":"t_modifier$_t_enum$_Stage_$2140_$","typeString":"modifier (enum MarketMaker.Stage)"}},"nodeType":"ModifierInvocation","src":"7169:22:9"}],"name":"trade","nodeType":"FunctionDefinition","parameters":{"id":2546,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2543,"name":"outcomeTokenAmounts","nodeType":"VariableDeclaration","scope":2772,"src":"7091:32:9","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_memory_ptr","typeString":"int256[]"},"typeName":{"baseType":{"id":2541,"name":"int","nodeType":"ElementaryTypeName","src":"7091:3:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":2542,"length":null,"nodeType":"ArrayTypeName","src":"7091:5:9","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_storage_ptr","typeString":"int256[]"}},"value":null,"visibility":"internal"},{"constant":false,"id":2545,"name":"collateralLimit","nodeType":"VariableDeclaration","scope":2772,"src":"7125:19:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":2544,"name":"int","nodeType":"ElementaryTypeName","src":"7125:3:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"value":null,"visibility":"internal"}],"src":"7090:55:9"},"returnParameters":{"id":2553,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2552,"name":"netCost","nodeType":"VariableDeclaration","scope":2772,"src":"7209:11:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":2551,"name":"int","nodeType":"ElementaryTypeName","src":"7209:3:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"value":null,"visibility":"internal"}],"src":"7208:13:9"},"scope":3101,"src":"7076:2231:9","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"body":{"id":2785,"nodeType":"Block","src":"9562:58:9","statements":[{"expression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2783,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2781,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2779,"name":"outcomeTokenCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2774,"src":"9579:16:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"argumentTypes":null,"id":2780,"name":"fee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2132,"src":"9598:3:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"src":"9579:22:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"argumentTypes":null,"id":2782,"name":"FEE_RANGE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2088,"src":"9604:9:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"src":"9579:34:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":2778,"id":2784,"nodeType":"Return","src":"9572:41:9"}]},"documentation":"@dev Calculates fee to be paid to market maker\\n @param outcomeTokenCost Cost for buying outcome tokens\\n @return Fee for trade","id":2786,"implemented":true,"kind":"function","modifiers":[],"name":"calcMarketFee","nodeType":"FunctionDefinition","parameters":{"id":2775,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2774,"name":"outcomeTokenCost","nodeType":"VariableDeclaration","scope":2786,"src":"9484:21:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2773,"name":"uint","nodeType":"ElementaryTypeName","src":"9484:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"9483:23:9"},"returnParameters":{"id":2778,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2777,"name":"","nodeType":"VariableDeclaration","scope":2786,"src":"9552:4:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2776,"name":"uint","nodeType":"ElementaryTypeName","src":"9552:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"9551:6:9"},"scope":3101,"src":"9461:159:9","stateMutability":"view","superFunction":null,"visibility":"public"},{"body":{"id":2812,"nodeType":"Block","src":"9774:109:9","statements":[{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":2805,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2801,"name":"operator","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2788,"src":"9788:8:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2803,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5450,"src":"9808:4:9","typeDescriptions":{"typeIdentifier":"t_contract$_MarketMaker_$3101","typeString":"contract MarketMaker"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_MarketMaker_$3101","typeString":"contract MarketMaker"}],"id":2802,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"9800:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2804,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"9800:13:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"9788:25:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":2809,"nodeType":"IfStatement","src":"9784:73:9","trueBody":{"id":2808,"nodeType":"Block","src":"9815:42:9","statements":[{"expression":{"argumentTypes":null,"hexValue":"30786632336136653631","id":2806,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"9836:10:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_4063915617_by_1","typeString":"int_const 4063915617"},"value":"0xf23a6e61"},"functionReturnParameters":2800,"id":2807,"nodeType":"Return","src":"9829:17:9"}]}},{"expression":{"argumentTypes":null,"hexValue":"307830","id":2810,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"9873:3:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0x0"},"functionReturnParameters":2800,"id":2811,"nodeType":"Return","src":"9866:10:9"}]},"documentation":null,"id":2813,"implemented":true,"kind":"function","modifiers":[],"name":"onERC1155Received","nodeType":"FunctionDefinition","parameters":{"id":2797,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2788,"name":"operator","nodeType":"VariableDeclaration","scope":2813,"src":"9653:16:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2787,"name":"address","nodeType":"ElementaryTypeName","src":"9653:7:9","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":2790,"name":"","nodeType":"VariableDeclaration","scope":2813,"src":"9671:7:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2789,"name":"address","nodeType":"ElementaryTypeName","src":"9671:7:9","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":2792,"name":"","nodeType":"VariableDeclaration","scope":2813,"src":"9689:7:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2791,"name":"uint256","nodeType":"ElementaryTypeName","src":"9689:7:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":2794,"name":"","nodeType":"VariableDeclaration","scope":2813,"src":"9705:7:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2793,"name":"uint256","nodeType":"ElementaryTypeName","src":"9705:7:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":2796,"name":"","nodeType":"VariableDeclaration","scope":2813,"src":"9724:14:9","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes"},"typeName":{"id":2795,"name":"bytes","nodeType":"ElementaryTypeName","src":"9724:5:9","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"value":null,"visibility":"internal"}],"src":"9652:96:9"},"returnParameters":{"id":2800,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2799,"name":"","nodeType":"VariableDeclaration","scope":2813,"src":"9766:6:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"typeName":{"id":2798,"name":"bytes4","nodeType":"ElementaryTypeName","src":"9766:6:9","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"value":null,"visibility":"internal"}],"src":"9765:8:9"},"scope":3101,"src":"9626:257:9","stateMutability":"nonpayable","superFunction":5045,"visibility":"external"},{"body":{"id":2841,"nodeType":"Block","src":"10067:110:9","statements":[{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":2834,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2830,"name":"_operator","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2815,"src":"10081:9:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2832,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5450,"src":"10102:4:9","typeDescriptions":{"typeIdentifier":"t_contract$_MarketMaker_$3101","typeString":"contract MarketMaker"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_MarketMaker_$3101","typeString":"contract MarketMaker"}],"id":2831,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"10094:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2833,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10094:13:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"10081:26:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":2838,"nodeType":"IfStatement","src":"10077:74:9","trueBody":{"id":2837,"nodeType":"Block","src":"10109:42:9","statements":[{"expression":{"argumentTypes":null,"hexValue":"30786632336136653631","id":2835,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10130:10:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_4063915617_by_1","typeString":"int_const 4063915617"},"value":"0xf23a6e61"},"functionReturnParameters":2829,"id":2836,"nodeType":"Return","src":"10123:17:9"}]}},{"expression":{"argumentTypes":null,"hexValue":"307830","id":2839,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10167:3:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0x0"},"functionReturnParameters":2829,"id":2840,"nodeType":"Return","src":"10160:10:9"}]},"documentation":null,"id":2842,"implemented":true,"kind":"function","modifiers":[],"name":"onERC1155BatchReceived","nodeType":"FunctionDefinition","parameters":{"id":2826,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2815,"name":"_operator","nodeType":"VariableDeclaration","scope":2842,"src":"9921:17:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2814,"name":"address","nodeType":"ElementaryTypeName","src":"9921:7:9","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":2817,"name":"","nodeType":"VariableDeclaration","scope":2842,"src":"9940:7:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2816,"name":"address","nodeType":"ElementaryTypeName","src":"9940:7:9","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":2820,"name":"","nodeType":"VariableDeclaration","scope":2842,"src":"9958:18:9","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":2818,"name":"uint256","nodeType":"ElementaryTypeName","src":"9958:7:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2819,"length":null,"nodeType":"ArrayTypeName","src":"9958:9:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"value":null,"visibility":"internal"},{"constant":false,"id":2823,"name":"","nodeType":"VariableDeclaration","scope":2842,"src":"9986:18:9","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":2821,"name":"uint256","nodeType":"ElementaryTypeName","src":"9986:7:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2822,"length":null,"nodeType":"ArrayTypeName","src":"9986:9:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"value":null,"visibility":"internal"},{"constant":false,"id":2825,"name":"","nodeType":"VariableDeclaration","scope":2842,"src":"10017:14:9","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes"},"typeName":{"id":2824,"name":"bytes","nodeType":"ElementaryTypeName","src":"10017:5:9","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"value":null,"visibility":"internal"}],"src":"9920:121:9"},"returnParameters":{"id":2829,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2828,"name":"","nodeType":"VariableDeclaration","scope":2842,"src":"10059:6:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"typeName":{"id":2827,"name":"bytes4","nodeType":"ElementaryTypeName","src":"10059:6:9","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"value":null,"visibility":"internal"}],"src":"10058:8:9"},"scope":3101,"src":"9889:288:9","stateMutability":"nonpayable","superFunction":5062,"visibility":"external"},{"body":{"id":2882,"nodeType":"Block","src":"10311:180:9","statements":[{"expression":{"argumentTypes":null,"id":2859,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2850,"name":"partition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2848,"src":"10321:9:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2856,"name":"conditionId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2844,"src":"10373:11:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"expression":{"argumentTypes":null,"id":2854,"name":"pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2123,"src":"10344:8:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1594","typeString":"contract PredictionMarketSystem"}},"id":2855,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"getOutcomeSlotCount","nodeType":"MemberAccess","referencedDeclaration":1565,"src":"10344:28:9","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_bytes32_$returns$_t_uint256_$","typeString":"function (bytes32) view external returns (uint256)"}},"id":2857,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10344:41:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":2853,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"NewExpression","src":"10333:10:9","typeDescriptions":{"typeIdentifier":"t_function_objectcreation_pure$_t_uint256_$returns$_t_array$_t_uint256_$dyn_memory_$","typeString":"function (uint256) pure returns (uint256[] memory)"},"typeName":{"baseType":{"id":2851,"name":"uint","nodeType":"ElementaryTypeName","src":"10337:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2852,"length":null,"nodeType":"ArrayTypeName","src":"10337:6:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}}},"id":2858,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10333:53:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory","typeString":"uint256[] memory"}},"src":"10321:65:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":2860,"nodeType":"ExpressionStatement","src":"10321:65:9"},{"body":{"id":2880,"nodeType":"Block","src":"10439:46:9","statements":[{"expression":{"argumentTypes":null,"id":2878,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2872,"name":"partition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2848,"src":"10453:9:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":2874,"indexExpression":{"argumentTypes":null,"id":2873,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2862,"src":"10463:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"10453:12:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2877,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"hexValue":"31","id":2875,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10468:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"nodeType":"BinaryOperation","operator":"<<","rightExpression":{"argumentTypes":null,"id":2876,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2862,"src":"10473:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10468:6:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10453:21:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2879,"nodeType":"ExpressionStatement","src":"10453:21:9"}]},"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2868,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2865,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2862,"src":"10412:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2866,"name":"partition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2848,"src":"10416:9:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":2867,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","referencedDeclaration":null,"src":"10416:16:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10412:20:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":2881,"initializationExpression":{"assignments":[2862],"declarations":[{"constant":false,"id":2862,"name":"i","nodeType":"VariableDeclaration","scope":2881,"src":"10400:6:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2861,"name":"uint","nodeType":"ElementaryTypeName","src":"10400:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":2864,"initialValue":{"argumentTypes":null,"hexValue":"30","id":2863,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10409:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"10400:10:9"},"loopExpression":{"expression":{"argumentTypes":null,"id":2870,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"10434:3:9","subExpression":{"argumentTypes":null,"id":2869,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2862,"src":"10434:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2871,"nodeType":"ExpressionStatement","src":"10434:3:9"},"nodeType":"ForStatement","src":"10396:89:9"}]},"documentation":null,"id":2883,"implemented":true,"kind":"function","modifiers":[],"name":"generateBasicPartition","nodeType":"FunctionDefinition","parameters":{"id":2845,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2844,"name":"conditionId","nodeType":"VariableDeclaration","scope":2883,"src":"10215:19:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":2843,"name":"bytes32","nodeType":"ElementaryTypeName","src":"10215:7:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"internal"}],"src":"10214:21:9"},"returnParameters":{"id":2849,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2848,"name":"partition","nodeType":"VariableDeclaration","scope":2883,"src":"10282:23:9","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":2846,"name":"uint","nodeType":"ElementaryTypeName","src":"10282:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2847,"length":null,"nodeType":"ArrayTypeName","src":"10282:6:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"value":null,"visibility":"internal"}],"src":"10281:25:9"},"scope":3101,"src":"10183:308:9","stateMutability":"view","superFunction":null,"visibility":"private"},{"body":{"id":2949,"nodeType":"Block","src":"10596:480:9","statements":[{"assignments":[2891],"declarations":[{"constant":false,"id":2891,"name":"collectionId","nodeType":"VariableDeclaration","scope":2949,"src":"10606:17:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2890,"name":"uint","nodeType":"ElementaryTypeName","src":"10606:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":2893,"initialValue":{"argumentTypes":null,"hexValue":"30","id":2892,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10626:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"10606:21:9"},{"body":{"id":2937,"nodeType":"Block","src":"10684:280:9","statements":[{"assignments":[2906],"declarations":[{"constant":false,"id":2906,"name":"curOutcomeSlotCount","nodeType":"VariableDeclaration","scope":2937,"src":"10698:24:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2905,"name":"uint","nodeType":"ElementaryTypeName","src":"10698:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":2913,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2909,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2128,"src":"10754:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":2911,"indexExpression":{"argumentTypes":null,"id":2910,"name":"k","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2895,"src":"10767:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"10754:15:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"expression":{"argumentTypes":null,"id":2907,"name":"pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2123,"src":"10725:8:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1594","typeString":"contract PredictionMarketSystem"}},"id":2908,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"getOutcomeSlotCount","nodeType":"MemberAccess","referencedDeclaration":1565,"src":"10725:28:9","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_bytes32_$returns$_t_uint256_$","typeString":"function (bytes32) view external returns (uint256)"}},"id":2912,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10725:45:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"10698:72:9"},{"expression":{"argumentTypes":null,"id":2931,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2914,"name":"collectionId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2891,"src":"10784:12:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"+=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2919,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2128,"src":"10849:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":2921,"indexExpression":{"argumentTypes":null,"id":2920,"name":"k","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2895,"src":"10862:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"10849:15:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2927,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"hexValue":"31","id":2922,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10882:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"nodeType":"BinaryOperation","operator":"<<","rightExpression":{"argumentTypes":null,"components":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2925,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2923,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2885,"src":"10888:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"%","rightExpression":{"argumentTypes":null,"id":2924,"name":"curOutcomeSlotCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2906,"src":"10892:19:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10888:23:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":2926,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"10887:25:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10882:30:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2917,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5400,"src":"10815:3:9","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":2918,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"encodePacked","nodeType":"MemberAccess","referencedDeclaration":null,"src":"10815:16:9","typeDescriptions":{"typeIdentifier":"t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":2928,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10815:98:9","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":2916,"name":"keccak256","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5407,"src":"10805:9:9","typeDescriptions":{"typeIdentifier":"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$","typeString":"function (bytes memory) pure returns (bytes32)"}},"id":2929,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10805:109:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":2915,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"10800:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2930,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10800:115:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10784:131:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2932,"nodeType":"ExpressionStatement","src":"10784:131:9"},{"expression":{"argumentTypes":null,"id":2935,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2933,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2885,"src":"10929:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"/=","rightHandSide":{"argumentTypes":null,"id":2934,"name":"curOutcomeSlotCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2906,"src":"10934:19:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10929:24:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2936,"nodeType":"ExpressionStatement","src":"10929:24:9"}]},"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2901,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2898,"name":"k","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2895,"src":"10654:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2899,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2128,"src":"10658:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":2900,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","referencedDeclaration":null,"src":"10658:19:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10654:23:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":2938,"initializationExpression":{"assignments":[2895],"declarations":[{"constant":false,"id":2895,"name":"k","nodeType":"VariableDeclaration","scope":2938,"src":"10642:6:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2894,"name":"uint","nodeType":"ElementaryTypeName","src":"10642:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":2897,"initialValue":{"argumentTypes":null,"hexValue":"30","id":2896,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10651:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"10642:10:9"},"loopExpression":{"expression":{"argumentTypes":null,"id":2903,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"10679:3:9","subExpression":{"argumentTypes":null,"id":2902,"name":"k","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2895,"src":"10679:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2904,"nodeType":"ExpressionStatement","src":"10679:3:9"},"nodeType":"ForStatement","src":"10638:326:9"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2943,"name":"collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2125,"src":"11025:15:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5379","typeString":"contract IERC20"}},{"argumentTypes":null,"id":2944,"name":"collectionId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2891,"src":"11054:12:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IERC20_$5379","typeString":"contract IERC20"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2941,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5400,"src":"10995:3:9","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":2942,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"encodePacked","nodeType":"MemberAccess","referencedDeclaration":null,"src":"10995:16:9","typeDescriptions":{"typeIdentifier":"t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":2945,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10995:72:9","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":2940,"name":"keccak256","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5407,"src":"10985:9:9","typeDescriptions":{"typeIdentifier":"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$","typeString":"function (bytes memory) pure returns (bytes32)"}},"id":2946,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10985:83:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":2939,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"10980:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2947,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10980:89:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":2889,"id":2948,"nodeType":"Return","src":"10973:96:9"}]},"documentation":null,"id":2950,"implemented":true,"kind":"function","modifiers":[],"name":"generateAtomicPositionId","nodeType":"FunctionDefinition","parameters":{"id":2886,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2885,"name":"i","nodeType":"VariableDeclaration","scope":2950,"src":"10531:6:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2884,"name":"uint","nodeType":"ElementaryTypeName","src":"10531:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"10530:8:9"},"returnParameters":{"id":2889,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2888,"name":"","nodeType":"VariableDeclaration","scope":2950,"src":"10586:4:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2887,"name":"uint","nodeType":"ElementaryTypeName","src":"10586:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"10585:6:9"},"scope":3101,"src":"10497:579:9","stateMutability":"view","superFunction":null,"visibility":"internal"},{"body":{"id":3024,"nodeType":"Block","src":"11204:613:9","statements":[{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2961,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2959,"name":"conditionsLeft","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2954,"src":"11217:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"hexValue":"30","id":2960,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"11235:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"11217:19:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":2963,"nodeType":"IfStatement","src":"11214:31:9","trueBody":{"expression":null,"functionReturnParameters":2958,"id":2962,"nodeType":"Return","src":"11238:7:9"}},{"expression":{"argumentTypes":null,"id":2965,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"--","prefix":false,"src":"11254:16:9","subExpression":{"argumentTypes":null,"id":2964,"name":"conditionsLeft","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2954,"src":"11254:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2966,"nodeType":"ExpressionStatement","src":"11254:16:9"},{"assignments":[2970],"declarations":[{"constant":false,"id":2970,"name":"partition","nodeType":"VariableDeclaration","scope":3024,"src":"11281:23:9","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":2968,"name":"uint","nodeType":"ElementaryTypeName","src":"11281:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2969,"length":null,"nodeType":"ArrayTypeName","src":"11281:6:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"value":null,"visibility":"internal"}],"id":2976,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2972,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2128,"src":"11330:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":2974,"indexExpression":{"argumentTypes":null,"id":2973,"name":"conditionsLeft","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2954,"src":"11343:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"11330:28:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":2971,"name":"generateBasicPartition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2883,"src":"11307:22:9","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_bytes32_$returns$_t_array$_t_uint256_$dyn_memory_ptr_$","typeString":"function (bytes32) view returns (uint256[] memory)"}},"id":2975,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"11307:52:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"nodeType":"VariableDeclarationStatement","src":"11281:78:9"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2980,"name":"collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2125,"src":"11392:15:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5379","typeString":"contract IERC20"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2982,"name":"parentCollectionId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2956,"src":"11417:18:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":2981,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"11409:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_bytes32_$","typeString":"type(bytes32)"},"typeName":"bytes32"},"id":2983,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"11409:27:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2984,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2128,"src":"11438:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":2986,"indexExpression":{"argumentTypes":null,"id":2985,"name":"conditionsLeft","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2954,"src":"11451:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"11438:28:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"argumentTypes":null,"id":2987,"name":"partition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2970,"src":"11468:9:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},{"argumentTypes":null,"id":2988,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2952,"src":"11479:6:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IERC20_$5379","typeString":"contract IERC20"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2977,"name":"pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2123,"src":"11369:8:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1594","typeString":"contract PredictionMarketSystem"}},"id":2979,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"splitPosition","nodeType":"MemberAccess","referencedDeclaration":1089,"src":"11369:22:9","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_contract$_IERC20_$5379_$_t_bytes32_$_t_bytes32_$_t_array$_t_uint256_$dyn_memory_ptr_$_t_uint256_$returns$__$","typeString":"function (contract IERC20,bytes32,bytes32,uint256[] memory,uint256) external"}},"id":2989,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"11369:117:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2990,"nodeType":"ExpressionStatement","src":"11369:117:9"},{"body":{"id":3022,"nodeType":"Block","src":"11539:272:9","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":3003,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2952,"src":"11604:6:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":3004,"name":"conditionsLeft","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2954,"src":"11628:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":3019,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":3005,"name":"parentCollectionId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2956,"src":"11660:18:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":3010,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2128,"src":"11734:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":3012,"indexExpression":{"argumentTypes":null,"id":3011,"name":"conditionsLeft","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2954,"src":"11747:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"11734:28:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":3013,"name":"partition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2970,"src":"11784:9:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":3015,"indexExpression":{"argumentTypes":null,"id":3014,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2992,"src":"11794:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"11784:12:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":3008,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5400,"src":"11696:3:9","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":3009,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"encodePacked","nodeType":"MemberAccess","referencedDeclaration":null,"src":"11696:16:9","typeDescriptions":{"typeIdentifier":"t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":3016,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"11696:101:9","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":3007,"name":"keccak256","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5407,"src":"11686:9:9","typeDescriptions":{"typeIdentifier":"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$","typeString":"function (bytes memory) pure returns (bytes32)"}},"id":3017,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"11686:112:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":3006,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"11681:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":3018,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"11681:118:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"11660:139:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":3002,"name":"splitPositionThroughAllConditions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3025,"src":"11553:33:9","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (uint256,uint256,uint256)"}},"id":3020,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"11553:247:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":3021,"nodeType":"ExpressionStatement","src":"11553:247:9"}]},"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2998,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2995,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2992,"src":"11512:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2996,"name":"partition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2970,"src":"11516:9:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":2997,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","referencedDeclaration":null,"src":"11516:16:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"11512:20:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":3023,"initializationExpression":{"assignments":[2992],"declarations":[{"constant":false,"id":2992,"name":"i","nodeType":"VariableDeclaration","scope":3023,"src":"11500:6:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2991,"name":"uint","nodeType":"ElementaryTypeName","src":"11500:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":2994,"initialValue":{"argumentTypes":null,"hexValue":"30","id":2993,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"11509:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"11500:10:9"},"loopExpression":{"expression":{"argumentTypes":null,"id":3000,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"11534:3:9","subExpression":{"argumentTypes":null,"id":2999,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2992,"src":"11534:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":3001,"nodeType":"ExpressionStatement","src":"11534:3:9"},"nodeType":"ForStatement","src":"11496:315:9"}]},"documentation":null,"id":3025,"implemented":true,"kind":"function","modifiers":[],"name":"splitPositionThroughAllConditions","nodeType":"FunctionDefinition","parameters":{"id":2957,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2952,"name":"amount","nodeType":"VariableDeclaration","scope":3025,"src":"11125:11:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2951,"name":"uint","nodeType":"ElementaryTypeName","src":"11125:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":2954,"name":"conditionsLeft","nodeType":"VariableDeclaration","scope":3025,"src":"11138:19:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2953,"name":"uint","nodeType":"ElementaryTypeName","src":"11138:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":2956,"name":"parentCollectionId","nodeType":"VariableDeclaration","scope":3025,"src":"11159:23:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2955,"name":"uint","nodeType":"ElementaryTypeName","src":"11159:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"11124:59:9"},"returnParameters":{"id":2958,"nodeType":"ParameterList","parameters":[],"src":"11204:0:9"},"scope":3101,"src":"11082:735:9","stateMutability":"nonpayable","superFunction":null,"visibility":"private"},{"body":{"id":3099,"nodeType":"Block","src":"11946:615:9","statements":[{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":3036,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":3034,"name":"conditionsLeft","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3029,"src":"11959:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"hexValue":"30","id":3035,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"11977:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"11959:19:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":3038,"nodeType":"IfStatement","src":"11956:31:9","trueBody":{"expression":null,"functionReturnParameters":3033,"id":3037,"nodeType":"Return","src":"11980:7:9"}},{"expression":{"argumentTypes":null,"id":3040,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"--","prefix":false,"src":"11996:16:9","subExpression":{"argumentTypes":null,"id":3039,"name":"conditionsLeft","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3029,"src":"11996:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":3041,"nodeType":"ExpressionStatement","src":"11996:16:9"},{"assignments":[3045],"declarations":[{"constant":false,"id":3045,"name":"partition","nodeType":"VariableDeclaration","scope":3099,"src":"12023:23:9","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":3043,"name":"uint","nodeType":"ElementaryTypeName","src":"12023:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":3044,"length":null,"nodeType":"ArrayTypeName","src":"12023:6:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"value":null,"visibility":"internal"}],"id":3051,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":3047,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2128,"src":"12072:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":3049,"indexExpression":{"argumentTypes":null,"id":3048,"name":"conditionsLeft","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3029,"src":"12085:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"12072:28:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":3046,"name":"generateBasicPartition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2883,"src":"12049:22:9","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_bytes32_$returns$_t_array$_t_uint256_$dyn_memory_ptr_$","typeString":"function (bytes32) view returns (uint256[] memory)"}},"id":3050,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"12049:52:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"nodeType":"VariableDeclarationStatement","src":"12023:78:9"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":3055,"name":"collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2125,"src":"12135:15:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5379","typeString":"contract IERC20"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":3057,"name":"parentCollectionId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3031,"src":"12160:18:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":3056,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"12152:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_bytes32_$","typeString":"type(bytes32)"},"typeName":"bytes32"},"id":3058,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"12152:27:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":3059,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2128,"src":"12181:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":3061,"indexExpression":{"argumentTypes":null,"id":3060,"name":"conditionsLeft","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3029,"src":"12194:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"12181:28:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"argumentTypes":null,"id":3062,"name":"partition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3045,"src":"12211:9:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},{"argumentTypes":null,"id":3063,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3027,"src":"12222:6:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IERC20_$5379","typeString":"contract IERC20"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":3052,"name":"pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2123,"src":"12111:8:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1594","typeString":"contract PredictionMarketSystem"}},"id":3054,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"mergePositions","nodeType":"MemberAccess","referencedDeclaration":1315,"src":"12111:23:9","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_contract$_IERC20_$5379_$_t_bytes32_$_t_bytes32_$_t_array$_t_uint256_$dyn_memory_ptr_$_t_uint256_$returns$__$","typeString":"function (contract IERC20,bytes32,bytes32,uint256[] memory,uint256) external"}},"id":3064,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"12111:118:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":3065,"nodeType":"ExpressionStatement","src":"12111:118:9"},{"body":{"id":3097,"nodeType":"Block","src":"12282:273:9","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":3078,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3027,"src":"12348:6:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":3079,"name":"conditionsLeft","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3029,"src":"12372:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":3094,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":3080,"name":"parentCollectionId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3031,"src":"12404:18:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":3085,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2128,"src":"12478:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":3087,"indexExpression":{"argumentTypes":null,"id":3086,"name":"conditionsLeft","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3029,"src":"12491:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"12478:28:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":3088,"name":"partition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3045,"src":"12528:9:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":3090,"indexExpression":{"argumentTypes":null,"id":3089,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3067,"src":"12538:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"12528:12:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":3083,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5400,"src":"12440:3:9","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":3084,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"encodePacked","nodeType":"MemberAccess","referencedDeclaration":null,"src":"12440:16:9","typeDescriptions":{"typeIdentifier":"t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":3091,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"12440:101:9","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":3082,"name":"keccak256","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5407,"src":"12430:9:9","typeDescriptions":{"typeIdentifier":"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$","typeString":"function (bytes memory) pure returns (bytes32)"}},"id":3092,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"12430:112:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":3081,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"12425:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":3093,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"12425:118:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"12404:139:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":3077,"name":"mergePositionsThroughAllConditions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3100,"src":"12296:34:9","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (uint256,uint256,uint256)"}},"id":3095,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"12296:248:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":3096,"nodeType":"ExpressionStatement","src":"12296:248:9"}]},"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":3073,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":3070,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3067,"src":"12255:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":3071,"name":"partition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3045,"src":"12259:9:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":3072,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","referencedDeclaration":null,"src":"12259:16:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"12255:20:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":3098,"initializationExpression":{"assignments":[3067],"declarations":[{"constant":false,"id":3067,"name":"i","nodeType":"VariableDeclaration","scope":3098,"src":"12243:6:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":3066,"name":"uint","nodeType":"ElementaryTypeName","src":"12243:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":3069,"initialValue":{"argumentTypes":null,"hexValue":"30","id":3068,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"12252:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"12243:10:9"},"loopExpression":{"expression":{"argumentTypes":null,"id":3075,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"12277:3:9","subExpression":{"argumentTypes":null,"id":3074,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3067,"src":"12277:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":3076,"nodeType":"ExpressionStatement","src":"12277:3:9"},"nodeType":"ForStatement","src":"12239:316:9"}]},"documentation":null,"id":3100,"implemented":true,"kind":"function","modifiers":[],"name":"mergePositionsThroughAllConditions","nodeType":"FunctionDefinition","parameters":{"id":3032,"nodeType":"ParameterList","parameters":[{"constant":false,"id":3027,"name":"amount","nodeType":"VariableDeclaration","scope":3100,"src":"11867:11:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":3026,"name":"uint","nodeType":"ElementaryTypeName","src":"11867:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":3029,"name":"conditionsLeft","nodeType":"VariableDeclaration","scope":3100,"src":"11880:19:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":3028,"name":"uint","nodeType":"ElementaryTypeName","src":"11880:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":3031,"name":"parentCollectionId","nodeType":"VariableDeclaration","scope":3100,"src":"11901:23:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":3030,"name":"uint","nodeType":"ElementaryTypeName","src":"11901:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"11866:59:9"},"returnParameters":{"id":3033,"nodeType":"ParameterList","parameters":[],"src":"11946:0:9"},"scope":3101,"src":"11823:738:9","stateMutability":"nonpayable","superFunction":null,"visibility":"private"}],"scope":3102,"src":"340:12223:9"}],"src":"0:12563:9"},"legacyAST":{"absolutePath":"@gnosis.pm/hg-market-makers/contracts/MarketMaker.sol","exportedSymbols":{"MarketMaker":[3101]},"id":3102,"nodeType":"SourceUnit","nodes":[{"id":2068,"literals":["solidity","^","0.5",".1"],"nodeType":"PragmaDirective","src":"0:23:9"},{"absolutePath":"erc-1155/contracts/IERC1155TokenReceiver.sol","file":"erc-1155/contracts/IERC1155TokenReceiver.sol","id":2069,"nodeType":"ImportDirective","scope":3102,"sourceUnit":5064,"src":"24:54:9","symbolAliases":[],"unitAlias":""},{"absolutePath":"openzeppelin-solidity/contracts/ownership/Ownable.sol","file":"openzeppelin-solidity/contracts/ownership/Ownable.sol","id":2070,"nodeType":"ImportDirective","scope":3102,"sourceUnit":5311,"src":"79:63:9","symbolAliases":[],"unitAlias":""},{"absolutePath":"openzeppelin-solidity/contracts/math/SafeMath.sol","file":"openzeppelin-solidity/contracts/math/SafeMath.sol","id":2071,"nodeType":"ImportDirective","scope":3102,"sourceUnit":5202,"src":"143:59:9","symbolAliases":[],"unitAlias":""},{"absolutePath":"@gnosis.pm/util-contracts/contracts/SignedSafeMath.sol","file":"@gnosis.pm/util-contracts/contracts/SignedSafeMath.sol","id":2072,"nodeType":"ImportDirective","scope":3102,"sourceUnit":4253,"src":"203:64:9","symbolAliases":[],"unitAlias":""},{"absolutePath":"@gnosis.pm/hg-contracts/contracts/PredictionMarketSystem.sol","file":"@gnosis.pm/hg-contracts/contracts/PredictionMarketSystem.sol","id":2073,"nodeType":"ImportDirective","scope":3102,"sourceUnit":1595,"src":"268:70:9","symbolAliases":[],"unitAlias":""},{"baseContracts":[{"arguments":null,"baseName":{"contractScope":null,"id":2074,"name":"Ownable","nodeType":"UserDefinedTypeName","referencedDeclaration":5310,"src":"364:7:9","typeDescriptions":{"typeIdentifier":"t_contract$_Ownable_$5310","typeString":"contract Ownable"}},"id":2075,"nodeType":"InheritanceSpecifier","src":"364:7:9"},{"arguments":null,"baseName":{"contractScope":null,"id":2076,"name":"IERC1155TokenReceiver","nodeType":"UserDefinedTypeName","referencedDeclaration":5063,"src":"373:21:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC1155TokenReceiver_$5063","typeString":"contract IERC1155TokenReceiver"}},"id":2077,"nodeType":"InheritanceSpecifier","src":"373:21:9"}],"contractDependencies":[5063,5310],"contractKind":"contract","documentation":null,"fullyImplemented":false,"id":3101,"linearizedBaseContracts":[3101,5063,5310],"name":"MarketMaker","nodeType":"ContractDefinition","nodes":[{"id":2080,"libraryName":{"contractScope":null,"id":2078,"name":"SignedSafeMath","nodeType":"UserDefinedTypeName","referencedDeclaration":4252,"src":"407:14:9","typeDescriptions":{"typeIdentifier":"t_contract$_SignedSafeMath_$4252","typeString":"library SignedSafeMath"}},"nodeType":"UsingForDirective","src":"401:29:9","typeName":{"id":2079,"name":"int","nodeType":"ElementaryTypeName","src":"426:3:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}},{"id":2083,"libraryName":{"contractScope":null,"id":2081,"name":"SafeMath","nodeType":"UserDefinedTypeName","referencedDeclaration":5201,"src":"441:8:9","typeDescriptions":{"typeIdentifier":"t_contract$_SafeMath_$5201","typeString":"library SafeMath"}},"nodeType":"UsingForDirective","src":"435:24:9","typeName":{"id":2082,"name":"uint","nodeType":"ElementaryTypeName","src":"454:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}},{"constant":true,"id":2088,"name":"FEE_RANGE","nodeType":"VariableDeclaration","scope":3101,"src":"501:41:9","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"},"typeName":{"id":2084,"name":"uint64","nodeType":"ElementaryTypeName","src":"501:6:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"value":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_rational_1000000000000000000_by_1","typeString":"int_const 1000000000000000000"},"id":2087,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"hexValue":"3130","id":2085,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"536:2:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_10_by_1","typeString":"int_const 10"},"value":"10"},"nodeType":"BinaryOperation","operator":"**","rightExpression":{"argumentTypes":null,"hexValue":"3138","id":2086,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"540:2:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_18_by_1","typeString":"int_const 18"},"value":"18"},"src":"536:6:9","typeDescriptions":{"typeIdentifier":"t_rational_1000000000000000000_by_1","typeString":"int_const 1000000000000000000"}},"visibility":"public"},{"anonymous":false,"documentation":null,"id":2092,"name":"AMMCreated","nodeType":"EventDefinition","parameters":{"id":2091,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2090,"indexed":false,"name":"initialFunding","nodeType":"VariableDeclaration","scope":2092,"src":"596:19:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2089,"name":"uint","nodeType":"ElementaryTypeName","src":"596:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"595:21:9"},"src":"579:38:9"},{"anonymous":false,"documentation":null,"id":2094,"name":"AMMPaused","nodeType":"EventDefinition","parameters":{"id":2093,"nodeType":"ParameterList","parameters":[],"src":"637:2:9"},"src":"622:18:9"},{"anonymous":false,"documentation":null,"id":2096,"name":"AMMResumed","nodeType":"EventDefinition","parameters":{"id":2095,"nodeType":"ParameterList","parameters":[],"src":"661:2:9"},"src":"645:19:9"},{"anonymous":false,"documentation":null,"id":2098,"name":"AMMClosed","nodeType":"EventDefinition","parameters":{"id":2097,"nodeType":"ParameterList","parameters":[],"src":"684:2:9"},"src":"669:18:9"},{"anonymous":false,"documentation":null,"id":2102,"name":"AMMFundingChanged","nodeType":"EventDefinition","parameters":{"id":2101,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2100,"indexed":false,"name":"fundingChange","nodeType":"VariableDeclaration","scope":2102,"src":"716:17:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":2099,"name":"int","nodeType":"ElementaryTypeName","src":"716:3:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"value":null,"visibility":"internal"}],"src":"715:19:9"},"src":"692:43:9"},{"anonymous":false,"documentation":null,"id":2106,"name":"AMMFeeChanged","nodeType":"EventDefinition","parameters":{"id":2105,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2104,"indexed":false,"name":"newFee","nodeType":"VariableDeclaration","scope":2106,"src":"760:13:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"},"typeName":{"id":2103,"name":"uint64","nodeType":"ElementaryTypeName","src":"760:6:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"value":null,"visibility":"internal"}],"src":"759:15:9"},"src":"740:35:9"},{"anonymous":false,"documentation":null,"id":2110,"name":"AMMFeeWithdrawal","nodeType":"EventDefinition","parameters":{"id":2109,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2108,"indexed":false,"name":"fees","nodeType":"VariableDeclaration","scope":2110,"src":"803:9:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2107,"name":"uint","nodeType":"ElementaryTypeName","src":"803:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"802:11:9"},"src":"780:34:9"},{"anonymous":false,"documentation":null,"id":2121,"name":"AMMOutcomeTokenTrade","nodeType":"EventDefinition","parameters":{"id":2120,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2112,"indexed":true,"name":"transactor","nodeType":"VariableDeclaration","scope":2121,"src":"846:26:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2111,"name":"address","nodeType":"ElementaryTypeName","src":"846:7:9","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":2115,"indexed":false,"name":"outcomeTokenAmounts","nodeType":"VariableDeclaration","scope":2121,"src":"874:25:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_memory_ptr","typeString":"int256[]"},"typeName":{"baseType":{"id":2113,"name":"int","nodeType":"ElementaryTypeName","src":"874:3:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":2114,"length":null,"nodeType":"ArrayTypeName","src":"874:5:9","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_storage_ptr","typeString":"int256[]"}},"value":null,"visibility":"internal"},{"constant":false,"id":2117,"indexed":false,"name":"outcomeTokenNetCost","nodeType":"VariableDeclaration","scope":2121,"src":"901:23:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":2116,"name":"int","nodeType":"ElementaryTypeName","src":"901:3:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"value":null,"visibility":"internal"},{"constant":false,"id":2119,"indexed":false,"name":"marketFees","nodeType":"VariableDeclaration","scope":2121,"src":"926:15:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2118,"name":"uint","nodeType":"ElementaryTypeName","src":"926:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"845:97:9"},"src":"819:124:9"},{"constant":false,"id":2123,"name":"pmSystem","nodeType":"VariableDeclaration","scope":3101,"src":"984:38:9","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1594","typeString":"contract PredictionMarketSystem"},"typeName":{"contractScope":null,"id":2122,"name":"PredictionMarketSystem","nodeType":"UserDefinedTypeName","referencedDeclaration":1594,"src":"984:22:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1594","typeString":"contract PredictionMarketSystem"}},"value":null,"visibility":"public"},{"constant":false,"id":2125,"name":"collateralToken","nodeType":"VariableDeclaration","scope":3101,"src":"1028:29:9","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5379","typeString":"contract IERC20"},"typeName":{"contractScope":null,"id":2124,"name":"IERC20","nodeType":"UserDefinedTypeName","referencedDeclaration":5379,"src":"1028:6:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5379","typeString":"contract IERC20"}},"value":null,"visibility":"public"},{"constant":false,"id":2128,"name":"conditionIds","nodeType":"VariableDeclaration","scope":3101,"src":"1063:29:9","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[]"},"typeName":{"baseType":{"id":2126,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1063:7:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":2127,"length":null,"nodeType":"ArrayTypeName","src":"1063:9:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage_ptr","typeString":"bytes32[]"}},"value":null,"visibility":"public"},{"constant":false,"id":2130,"name":"atomicOutcomeSlotCount","nodeType":"VariableDeclaration","scope":3101,"src":"1098:34:9","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2129,"name":"uint","nodeType":"ElementaryTypeName","src":"1098:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"public"},{"constant":false,"id":2132,"name":"fee","nodeType":"VariableDeclaration","scope":3101,"src":"1138:17:9","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"},"typeName":{"id":2131,"name":"uint64","nodeType":"ElementaryTypeName","src":"1138:6:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"value":null,"visibility":"public"},{"constant":false,"id":2134,"name":"funding","nodeType":"VariableDeclaration","scope":3101,"src":"1161:19:9","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2133,"name":"uint","nodeType":"ElementaryTypeName","src":"1161:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"public"},{"constant":false,"id":2136,"name":"stage","nodeType":"VariableDeclaration","scope":3101,"src":"1186:18:9","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2140","typeString":"enum MarketMaker.Stage"},"typeName":{"contractScope":null,"id":2135,"name":"Stage","nodeType":"UserDefinedTypeName","referencedDeclaration":2140,"src":"1186:5:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2140","typeString":"enum MarketMaker.Stage"}},"value":null,"visibility":"public"},{"canonicalName":"MarketMaker.Stage","id":2140,"members":[{"id":2137,"name":"Running","nodeType":"EnumValue","src":"1231:7:9"},{"id":2138,"name":"Paused","nodeType":"EnumValue","src":"1248:6:9"},{"id":2139,"name":"Closed","nodeType":"EnumValue","src":"1264:6:9"}],"name":"Stage","nodeType":"EnumDefinition","src":"1210:66:9"},{"body":{"id":2151,"nodeType":"Block","src":"1346:97:9","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_enum$_Stage_$2140","typeString":"enum MarketMaker.Stage"},"id":2147,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2145,"name":"stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2136,"src":"1409:5:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2140","typeString":"enum MarketMaker.Stage"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"id":2146,"name":"_stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2142,"src":"1418:6:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2140","typeString":"enum MarketMaker.Stage"}},"src":"1409:15:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":2144,"name":"require","nodeType":"Identifier","overloadedDeclarations":[5416,5417],"referencedDeclaration":5416,"src":"1401:7:9","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":2148,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1401:24:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2149,"nodeType":"ExpressionStatement","src":"1401:24:9"},{"id":2150,"nodeType":"PlaceholderStatement","src":"1435:1:9"}]},"documentation":null,"id":2152,"name":"atStage","nodeType":"ModifierDefinition","parameters":{"id":2143,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2142,"name":"_stage","nodeType":"VariableDeclaration","scope":2152,"src":"1332:12:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2140","typeString":"enum MarketMaker.Stage"},"typeName":{"contractScope":null,"id":2141,"name":"Stage","nodeType":"UserDefinedTypeName","referencedDeclaration":2140,"src":"1332:5:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2140","typeString":"enum MarketMaker.Stage"}},"value":null,"visibility":"internal"}],"src":"1331:14:9"},"src":"1315:128:9","visibility":"internal"},{"body":{"id":2270,"nodeType":"Block","src":"1626:838:9","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":2179,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":2175,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2170,"name":"_pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2154,"src":"1679:9:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1594","typeString":"contract PredictionMarketSystem"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1594","typeString":"contract PredictionMarketSystem"}],"id":2169,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1671:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2171,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1671:18:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"30","id":2173,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1701:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":2172,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1693:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2174,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1693:10:9","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"src":"1671:32:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint64","typeString":"uint64"},"id":2178,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2176,"name":"_fee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2161,"src":"1707:4:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"id":2177,"name":"FEE_RANGE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2088,"src":"1714:9:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"src":"1707:16:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"1671:52:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":2168,"name":"require","nodeType":"Identifier","overloadedDeclarations":[5416,5417],"referencedDeclaration":5416,"src":"1663:7:9","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":2180,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1663:61:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2181,"nodeType":"ExpressionStatement","src":"1663:61:9"},{"expression":{"argumentTypes":null,"id":2184,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2182,"name":"pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2123,"src":"1734:8:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1594","typeString":"contract PredictionMarketSystem"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"id":2183,"name":"_pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2154,"src":"1745:9:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1594","typeString":"contract PredictionMarketSystem"}},"src":"1734:20:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1594","typeString":"contract PredictionMarketSystem"}},"id":2185,"nodeType":"ExpressionStatement","src":"1734:20:9"},{"expression":{"argumentTypes":null,"id":2188,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2186,"name":"collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2125,"src":"1764:15:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5379","typeString":"contract IERC20"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"id":2187,"name":"_collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2156,"src":"1782:16:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5379","typeString":"contract IERC20"}},"src":"1764:34:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5379","typeString":"contract IERC20"}},"id":2189,"nodeType":"ExpressionStatement","src":"1764:34:9"},{"expression":{"argumentTypes":null,"id":2192,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2190,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2128,"src":"1808:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"id":2191,"name":"_conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2159,"src":"1823:13:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_memory_ptr","typeString":"bytes32[] memory"}},"src":"1808:28:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":2193,"nodeType":"ExpressionStatement","src":"1808:28:9"},{"expression":{"argumentTypes":null,"id":2196,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2194,"name":"fee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2132,"src":"1846:3:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"id":2195,"name":"_fee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2161,"src":"1852:4:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"src":"1846:10:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"id":2197,"nodeType":"ExpressionStatement","src":"1846:10:9"},{"expression":{"argumentTypes":null,"id":2200,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2198,"name":"atomicOutcomeSlotCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2130,"src":"1867:22:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"hexValue":"31","id":2199,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1892:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"1867:26:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2201,"nodeType":"ExpressionStatement","src":"1867:26:9"},{"body":{"id":2222,"nodeType":"Block","src":"1950:96:9","statements":[{"expression":{"argumentTypes":null,"id":2220,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2213,"name":"atomicOutcomeSlotCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2130,"src":"1964:22:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"*=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2216,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2128,"src":"2019:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":2218,"indexExpression":{"argumentTypes":null,"id":2217,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2203,"src":"2032:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2019:15:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"expression":{"argumentTypes":null,"id":2214,"name":"pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2123,"src":"1990:8:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1594","typeString":"contract PredictionMarketSystem"}},"id":2215,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"getOutcomeSlotCount","nodeType":"MemberAccess","referencedDeclaration":1565,"src":"1990:28:9","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_bytes32_$returns$_t_uint256_$","typeString":"function (bytes32) view external returns (uint256)"}},"id":2219,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1990:45:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1964:71:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2221,"nodeType":"ExpressionStatement","src":"1964:71:9"}]},"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2209,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2206,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2203,"src":"1920:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2207,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2128,"src":"1924:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":2208,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","referencedDeclaration":null,"src":"1924:19:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1920:23:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":2223,"initializationExpression":{"assignments":[2203],"declarations":[{"constant":false,"id":2203,"name":"i","nodeType":"VariableDeclaration","scope":2223,"src":"1908:6:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2202,"name":"uint","nodeType":"ElementaryTypeName","src":"1908:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":2205,"initialValue":{"argumentTypes":null,"hexValue":"30","id":2204,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1917:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"1908:10:9"},"loopExpression":{"expression":{"argumentTypes":null,"id":2211,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"1945:3:9","subExpression":{"argumentTypes":null,"id":2210,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2203,"src":"1945:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2212,"nodeType":"ExpressionStatement","src":"1945:3:9"},"nodeType":"ForStatement","src":"1903:143:9"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2227,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2225,"name":"atomicOutcomeSlotCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2130,"src":"2063:22:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"argumentTypes":null,"hexValue":"31","id":2226,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2088:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"2063:26:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"636f6e646974696f6e73206d7573742062652076616c6964","id":2228,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"2091:26:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_cd148311b7911b4ee79dcdb6c43a5e3ce4b2c17323005884872aa057fa3bf785","typeString":"literal_string \\"conditions must be valid\\""},"value":"conditions must be valid"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_cd148311b7911b4ee79dcdb6c43a5e3ce4b2c17323005884872aa057fa3bf785","typeString":"literal_string \\"conditions must be valid\\""}],"id":2224,"name":"require","nodeType":"Identifier","overloadedDeclarations":[5416,5417],"referencedDeclaration":5417,"src":"2055:7:9","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":2229,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2055:63:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2230,"nodeType":"ExpressionStatement","src":"2055:63:9"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":2247,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2234,"name":"marketOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2165,"src":"2166:11:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2236,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5450,"src":"2187:4:9","typeDescriptions":{"typeIdentifier":"t_contract$_MarketMaker_$3101","typeString":"contract MarketMaker"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_MarketMaker_$3101","typeString":"contract MarketMaker"}],"id":2235,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2179:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2237,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2179:13:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":2238,"name":"initialFunding","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2163,"src":"2194:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2232,"name":"collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2125,"src":"2137:15:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5379","typeString":"contract IERC20"}},"id":2233,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"transferFrom","nodeType":"MemberAccess","referencedDeclaration":5362,"src":"2137:28:9","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (address,address,uint256) external returns (bool)"}},"id":2239,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2137:72:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2243,"name":"pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2123,"src":"2245:8:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1594","typeString":"contract PredictionMarketSystem"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1594","typeString":"contract PredictionMarketSystem"}],"id":2242,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2237:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2244,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2237:17:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":2245,"name":"initialFunding","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2163,"src":"2256:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2240,"name":"collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2125,"src":"2213:15:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5379","typeString":"contract IERC20"}},"id":2241,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"approve","nodeType":"MemberAccess","referencedDeclaration":5351,"src":"2213:23:9","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (address,uint256) external returns (bool)"}},"id":2246,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2213:58:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"2137:134:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":2231,"name":"require","nodeType":"Identifier","overloadedDeclarations":[5416,5417],"referencedDeclaration":5416,"src":"2129:7:9","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":2248,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2129:143:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2249,"nodeType":"ExpressionStatement","src":"2129:143:9"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2251,"name":"initialFunding","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2163,"src":"2317:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2252,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2128,"src":"2333:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":2253,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","referencedDeclaration":null,"src":"2333:19:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"hexValue":"30","id":2254,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2354:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":2250,"name":"splitPositionThroughAllConditions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3025,"src":"2283:33:9","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (uint256,uint256,uint256)"}},"id":2255,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2283:73:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2256,"nodeType":"ExpressionStatement","src":"2283:73:9"},{"expression":{"argumentTypes":null,"id":2259,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2257,"name":"funding","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2134,"src":"2367:7:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"id":2258,"name":"initialFunding","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2163,"src":"2377:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2367:24:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2260,"nodeType":"ExpressionStatement","src":"2367:24:9"},{"expression":{"argumentTypes":null,"id":2264,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2261,"name":"stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2136,"src":"2402:5:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2140","typeString":"enum MarketMaker.Stage"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2262,"name":"Stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2140,"src":"2410:5:9","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Stage_$2140_$","typeString":"type(enum MarketMaker.Stage)"}},"id":2263,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"Running","nodeType":"MemberAccess","referencedDeclaration":null,"src":"2410:13:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2140","typeString":"enum MarketMaker.Stage"}},"src":"2402:21:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2140","typeString":"enum MarketMaker.Stage"}},"id":2265,"nodeType":"ExpressionStatement","src":"2402:21:9"},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2267,"name":"funding","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2134,"src":"2449:7:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":2266,"name":"AMMCreated","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2092,"src":"2438:10:9","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_uint256_$returns$__$","typeString":"function (uint256)"}},"id":2268,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2438:19:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2269,"nodeType":"EmitStatement","src":"2433:24:9"}]},"documentation":null,"id":2271,"implemented":true,"kind":"constructor","modifiers":[],"name":"","nodeType":"FunctionDefinition","parameters":{"id":2166,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2154,"name":"_pmSystem","nodeType":"VariableDeclaration","scope":2271,"src":"1461:32:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1594","typeString":"contract PredictionMarketSystem"},"typeName":{"contractScope":null,"id":2153,"name":"PredictionMarketSystem","nodeType":"UserDefinedTypeName","referencedDeclaration":1594,"src":"1461:22:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1594","typeString":"contract PredictionMarketSystem"}},"value":null,"visibility":"internal"},{"constant":false,"id":2156,"name":"_collateralToken","nodeType":"VariableDeclaration","scope":2271,"src":"1495:23:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5379","typeString":"contract IERC20"},"typeName":{"contractScope":null,"id":2155,"name":"IERC20","nodeType":"UserDefinedTypeName","referencedDeclaration":5379,"src":"1495:6:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5379","typeString":"contract IERC20"}},"value":null,"visibility":"internal"},{"constant":false,"id":2159,"name":"_conditionIds","nodeType":"VariableDeclaration","scope":2271,"src":"1520:30:9","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_memory_ptr","typeString":"bytes32[]"},"typeName":{"baseType":{"id":2157,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1520:7:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":2158,"length":null,"nodeType":"ArrayTypeName","src":"1520:9:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage_ptr","typeString":"bytes32[]"}},"value":null,"visibility":"internal"},{"constant":false,"id":2161,"name":"_fee","nodeType":"VariableDeclaration","scope":2271,"src":"1552:11:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"},"typeName":{"id":2160,"name":"uint64","nodeType":"ElementaryTypeName","src":"1552:6:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"value":null,"visibility":"internal"},{"constant":false,"id":2163,"name":"initialFunding","nodeType":"VariableDeclaration","scope":2271,"src":"1565:19:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2162,"name":"uint","nodeType":"ElementaryTypeName","src":"1565:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":2165,"name":"marketOwner","nodeType":"VariableDeclaration","scope":2271,"src":"1586:19:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2164,"name":"address","nodeType":"ElementaryTypeName","src":"1586:7:9","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"}],"src":"1460:146:9"},"returnParameters":{"id":2167,"nodeType":"ParameterList","parameters":[],"src":"1626:0:9"},"scope":3101,"src":"1449:1015:9","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"body":null,"documentation":null,"id":2279,"implemented":false,"kind":"function","modifiers":[],"name":"calcNetCost","nodeType":"FunctionDefinition","parameters":{"id":2275,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2274,"name":"outcomeTokenAmounts","nodeType":"VariableDeclaration","scope":2279,"src":"2491:32:9","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_memory_ptr","typeString":"int256[]"},"typeName":{"baseType":{"id":2272,"name":"int","nodeType":"ElementaryTypeName","src":"2491:3:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":2273,"length":null,"nodeType":"ArrayTypeName","src":"2491:5:9","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_storage_ptr","typeString":"int256[]"}},"value":null,"visibility":"internal"}],"src":"2490:34:9"},"returnParameters":{"id":2278,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2277,"name":"netCost","nodeType":"VariableDeclaration","scope":2279,"src":"2546:11:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":2276,"name":"int","nodeType":"ElementaryTypeName","src":"2546:3:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"value":null,"visibility":"internal"}],"src":"2545:13:9"},"scope":3101,"src":"2470:89:9","stateMutability":"view","superFunction":null,"visibility":"public"},{"body":{"id":2389,"nodeType":"Block","src":"2923:965:9","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2293,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2291,"name":"fundingChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2281,"src":"2941:13:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"hexValue":"30","id":2292,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2958:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"2941:18:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"412066756e64696e674368616e6765206f66207a65726f206973206e6f7420612066756e64696e674368616e676520617420616c6c2e20497420697320756e61636365707461626c652e","id":2294,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"2961:76:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_8b0abfd0a6a26cf9e76f3923f83612ab8d81fdb0309d6dce5760bf580777c1fc","typeString":"literal_string \\"A fundingChange of zero is not a fundingChange at all. It is unacceptable.\\""},"value":"A fundingChange of zero is not a fundingChange at all. It is unacceptable."}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_8b0abfd0a6a26cf9e76f3923f83612ab8d81fdb0309d6dce5760bf580777c1fc","typeString":"literal_string \\"A fundingChange of zero is not a fundingChange at all. It is unacceptable.\\""}],"id":2290,"name":"require","nodeType":"Identifier","overloadedDeclarations":[5416,5417],"referencedDeclaration":5417,"src":"2933:7:9","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":2295,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2933:105:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2296,"nodeType":"ExpressionStatement","src":"2933:105:9"},{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2299,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2297,"name":"fundingChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2281,"src":"3164:13:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"argumentTypes":null,"hexValue":"30","id":2298,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3180:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"3164:17:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":2347,"nodeType":"IfStatement","src":"3160:399:9","trueBody":{"id":2346,"nodeType":"Block","src":"3183:376:9","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":2321,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2303,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5413,"src":"3234:3:9","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":2304,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"3234:10:9","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2306,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5450,"src":"3254:4:9","typeDescriptions":{"typeIdentifier":"t_contract$_MarketMaker_$3101","typeString":"contract MarketMaker"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_MarketMaker_$3101","typeString":"contract MarketMaker"}],"id":2305,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3246:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2307,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3246:13:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2309,"name":"fundingChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2281,"src":"3266:13:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2308,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3261:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2310,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3261:19:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address_payable","typeString":"address payable"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2301,"name":"collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2125,"src":"3205:15:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5379","typeString":"contract IERC20"}},"id":2302,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"transferFrom","nodeType":"MemberAccess","referencedDeclaration":5362,"src":"3205:28:9","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (address,address,uint256) external returns (bool)"}},"id":2311,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3205:76:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2315,"name":"pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2123,"src":"3317:8:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1594","typeString":"contract PredictionMarketSystem"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1594","typeString":"contract PredictionMarketSystem"}],"id":2314,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3309:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2316,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3309:17:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2318,"name":"fundingChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2281,"src":"3333:13:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2317,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3328:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2319,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3328:19:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2312,"name":"collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2125,"src":"3285:15:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5379","typeString":"contract IERC20"}},"id":2313,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"approve","nodeType":"MemberAccess","referencedDeclaration":5351,"src":"3285:23:9","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (address,uint256) external returns (bool)"}},"id":2320,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3285:63:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"3205:143:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":2300,"name":"require","nodeType":"Identifier","overloadedDeclarations":[5416,5417],"referencedDeclaration":5416,"src":"3197:7:9","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":2322,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3197:152:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2323,"nodeType":"ExpressionStatement","src":"3197:152:9"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2326,"name":"fundingChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2281,"src":"3402:13:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2325,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3397:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2327,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3397:19:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2328,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2128,"src":"3418:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":2329,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","referencedDeclaration":null,"src":"3418:19:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"hexValue":"30","id":2330,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3439:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":2324,"name":"splitPositionThroughAllConditions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3025,"src":"3363:33:9","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (uint256,uint256,uint256)"}},"id":2331,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3363:78:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2332,"nodeType":"ExpressionStatement","src":"3363:78:9"},{"expression":{"argumentTypes":null,"id":2340,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2333,"name":"funding","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2134,"src":"3455:7:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2337,"name":"fundingChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2281,"src":"3482:13:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2336,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3477:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2338,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3477:19:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2334,"name":"funding","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2134,"src":"3465:7:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2335,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"add","nodeType":"MemberAccess","referencedDeclaration":5180,"src":"3465:11:9","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":2339,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3465:32:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3455:42:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2341,"nodeType":"ExpressionStatement","src":"3455:42:9"},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2343,"name":"fundingChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2281,"src":"3534:13:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2342,"name":"AMMFundingChanged","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2102,"src":"3516:17:9","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_int256_$returns$__$","typeString":"function (int256)"}},"id":2344,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3516:32:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2345,"nodeType":"EmitStatement","src":"3511:37:9"}]}},{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2350,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2348,"name":"fundingChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2281,"src":"3572:13:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"hexValue":"30","id":2349,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3588:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"3572:17:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":2388,"nodeType":"IfStatement","src":"3568:314:9","trueBody":{"id":2387,"nodeType":"Block","src":"3591:291:9","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2354,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"3645:14:9","subExpression":{"argumentTypes":null,"id":2353,"name":"fundingChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2281,"src":"3646:13:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2352,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3640:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2355,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3640:20:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2356,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2128,"src":"3662:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":2357,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","referencedDeclaration":null,"src":"3662:19:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"hexValue":"30","id":2358,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3683:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":2351,"name":"mergePositionsThroughAllConditions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3100,"src":"3605:34:9","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (uint256,uint256,uint256)"}},"id":2359,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3605:80:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2360,"nodeType":"ExpressionStatement","src":"3605:80:9"},{"expression":{"argumentTypes":null,"id":2369,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2361,"name":"funding","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2134,"src":"3699:7:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2366,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"3726:14:9","subExpression":{"argumentTypes":null,"id":2365,"name":"fundingChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2281,"src":"3727:13:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2364,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3721:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2367,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3721:20:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2362,"name":"funding","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2134,"src":"3709:7:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2363,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sub","nodeType":"MemberAccess","referencedDeclaration":5156,"src":"3709:11:9","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":2368,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3709:33:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3699:43:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2370,"nodeType":"ExpressionStatement","src":"3699:43:9"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[],"expression":{"argumentTypes":[],"id":2374,"name":"owner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5235,"src":"3789:5:9","typeDescriptions":{"typeIdentifier":"t_function_internal_view$__$returns$_t_address_$","typeString":"function () view returns (address)"}},"id":2375,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3789:7:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2378,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"3803:14:9","subExpression":{"argumentTypes":null,"id":2377,"name":"fundingChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2281,"src":"3804:13:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2376,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3798:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2379,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3798:20:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2372,"name":"collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2125,"src":"3764:15:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5379","typeString":"contract IERC20"}},"id":2373,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"transfer","nodeType":"MemberAccess","referencedDeclaration":5342,"src":"3764:24:9","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (address,uint256) external returns (bool)"}},"id":2380,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3764:55:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":2371,"name":"require","nodeType":"Identifier","overloadedDeclarations":[5416,5417],"referencedDeclaration":5416,"src":"3756:7:9","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":2381,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3756:64:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2382,"nodeType":"ExpressionStatement","src":"3756:64:9"},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2384,"name":"fundingChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2281,"src":"3857:13:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2383,"name":"AMMFundingChanged","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2102,"src":"3839:17:9","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_int256_$returns$__$","typeString":"function (int256)"}},"id":2385,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3839:32:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2386,"nodeType":"EmitStatement","src":"3834:37:9"}]}}]},"documentation":"@dev Allows to fund the market with collateral tokens converting them into outcome tokens\\n Note for the future: should combine splitPosition and mergePositions into one function, as code duplication causes things like this to happen.","id":2390,"implemented":true,"kind":"function","modifiers":[{"arguments":null,"id":2284,"modifierName":{"argumentTypes":null,"id":2283,"name":"onlyOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5244,"src":"2879:9:9","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"2879:9:9"},{"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2286,"name":"Stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2140,"src":"2905:5:9","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Stage_$2140_$","typeString":"type(enum MarketMaker.Stage)"}},"id":2287,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"Paused","nodeType":"MemberAccess","referencedDeclaration":null,"src":"2905:12:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2140","typeString":"enum MarketMaker.Stage"}}],"id":2288,"modifierName":{"argumentTypes":null,"id":2285,"name":"atStage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2152,"src":"2897:7:9","typeDescriptions":{"typeIdentifier":"t_modifier$_t_enum$_Stage_$2140_$","typeString":"modifier (enum MarketMaker.Stage)"}},"nodeType":"ModifierInvocation","src":"2897:21:9"}],"name":"changeFunding","nodeType":"FunctionDefinition","parameters":{"id":2282,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2281,"name":"fundingChange","nodeType":"VariableDeclaration","scope":2390,"src":"2837:17:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":2280,"name":"int","nodeType":"ElementaryTypeName","src":"2837:3:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"value":null,"visibility":"internal"}],"src":"2836:19:9"},"returnParameters":{"id":2289,"nodeType":"ParameterList","parameters":[],"src":"2923:0:9"},"scope":3101,"src":"2814:1074:9","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"body":{"id":2407,"nodeType":"Block","src":"3951:63:9","statements":[{"expression":{"argumentTypes":null,"id":2402,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2399,"name":"stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2136,"src":"3961:5:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2140","typeString":"enum MarketMaker.Stage"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2400,"name":"Stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2140,"src":"3969:5:9","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Stage_$2140_$","typeString":"type(enum MarketMaker.Stage)"}},"id":2401,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"Paused","nodeType":"MemberAccess","referencedDeclaration":null,"src":"3969:12:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2140","typeString":"enum MarketMaker.Stage"}},"src":"3961:20:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2140","typeString":"enum MarketMaker.Stage"}},"id":2403,"nodeType":"ExpressionStatement","src":"3961:20:9"},{"eventCall":{"argumentTypes":null,"arguments":[],"expression":{"argumentTypes":[],"id":2404,"name":"AMMPaused","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2094,"src":"3996:9:9","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$__$returns$__$","typeString":"function ()"}},"id":2405,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3996:11:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2406,"nodeType":"EmitStatement","src":"3991:16:9"}]},"documentation":null,"id":2408,"implemented":true,"kind":"function","modifiers":[{"arguments":null,"id":2393,"modifierName":{"argumentTypes":null,"id":2392,"name":"onlyOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5244,"src":"3918:9:9","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"3918:9:9"},{"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2395,"name":"Stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2140,"src":"3936:5:9","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Stage_$2140_$","typeString":"type(enum MarketMaker.Stage)"}},"id":2396,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"Running","nodeType":"MemberAccess","referencedDeclaration":null,"src":"3936:13:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2140","typeString":"enum MarketMaker.Stage"}}],"id":2397,"modifierName":{"argumentTypes":null,"id":2394,"name":"atStage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2152,"src":"3928:7:9","typeDescriptions":{"typeIdentifier":"t_modifier$_t_enum$_Stage_$2140_$","typeString":"modifier (enum MarketMaker.Stage)"}},"nodeType":"ModifierInvocation","src":"3928:22:9"}],"name":"pause","nodeType":"FunctionDefinition","parameters":{"id":2391,"nodeType":"ParameterList","parameters":[],"src":"3908:2:9"},"returnParameters":{"id":2398,"nodeType":"ParameterList","parameters":[],"src":"3951:0:9"},"scope":3101,"src":"3894:120:9","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"body":{"id":2425,"nodeType":"Block","src":"4081:65:9","statements":[{"expression":{"argumentTypes":null,"id":2420,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2417,"name":"stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2136,"src":"4091:5:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2140","typeString":"enum MarketMaker.Stage"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2418,"name":"Stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2140,"src":"4099:5:9","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Stage_$2140_$","typeString":"type(enum MarketMaker.Stage)"}},"id":2419,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"Running","nodeType":"MemberAccess","referencedDeclaration":null,"src":"4099:13:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2140","typeString":"enum MarketMaker.Stage"}},"src":"4091:21:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2140","typeString":"enum MarketMaker.Stage"}},"id":2421,"nodeType":"ExpressionStatement","src":"4091:21:9"},{"eventCall":{"argumentTypes":null,"arguments":[],"expression":{"argumentTypes":[],"id":2422,"name":"AMMResumed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2096,"src":"4127:10:9","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$__$returns$__$","typeString":"function ()"}},"id":2423,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4127:12:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2424,"nodeType":"EmitStatement","src":"4122:17:9"}]},"documentation":null,"id":2426,"implemented":true,"kind":"function","modifiers":[{"arguments":null,"id":2411,"modifierName":{"argumentTypes":null,"id":2410,"name":"onlyOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5244,"src":"4049:9:9","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"4049:9:9"},{"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2413,"name":"Stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2140,"src":"4067:5:9","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Stage_$2140_$","typeString":"type(enum MarketMaker.Stage)"}},"id":2414,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"Paused","nodeType":"MemberAccess","referencedDeclaration":null,"src":"4067:12:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2140","typeString":"enum MarketMaker.Stage"}}],"id":2415,"modifierName":{"argumentTypes":null,"id":2412,"name":"atStage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2152,"src":"4059:7:9","typeDescriptions":{"typeIdentifier":"t_modifier$_t_enum$_Stage_$2140_$","typeString":"modifier (enum MarketMaker.Stage)"}},"nodeType":"ModifierInvocation","src":"4059:21:9"}],"name":"resume","nodeType":"FunctionDefinition","parameters":{"id":2409,"nodeType":"ParameterList","parameters":[],"src":"4039:2:9"},"returnParameters":{"id":2416,"nodeType":"ParameterList","parameters":[],"src":"4081:0:9"},"scope":3101,"src":"4024:122:9","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"body":{"id":2445,"nodeType":"Block","src":"4223:60:9","statements":[{"expression":{"argumentTypes":null,"id":2439,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2437,"name":"fee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2132,"src":"4233:3:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"id":2438,"name":"_fee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2428,"src":"4239:4:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"src":"4233:10:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"id":2440,"nodeType":"ExpressionStatement","src":"4233:10:9"},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2442,"name":"fee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2132,"src":"4272:3:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint64","typeString":"uint64"}],"id":2441,"name":"AMMFeeChanged","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2106,"src":"4258:13:9","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_uint64_$returns$__$","typeString":"function (uint64)"}},"id":2443,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4258:18:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2444,"nodeType":"EmitStatement","src":"4253:23:9"}]},"documentation":null,"id":2446,"implemented":true,"kind":"function","modifiers":[{"arguments":null,"id":2431,"modifierName":{"argumentTypes":null,"id":2430,"name":"onlyOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5244,"src":"4191:9:9","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"4191:9:9"},{"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2433,"name":"Stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2140,"src":"4209:5:9","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Stage_$2140_$","typeString":"type(enum MarketMaker.Stage)"}},"id":2434,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"Paused","nodeType":"MemberAccess","referencedDeclaration":null,"src":"4209:12:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2140","typeString":"enum MarketMaker.Stage"}}],"id":2435,"modifierName":{"argumentTypes":null,"id":2432,"name":"atStage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2152,"src":"4201:7:9","typeDescriptions":{"typeIdentifier":"t_modifier$_t_enum$_Stage_$2140_$","typeString":"modifier (enum MarketMaker.Stage)"}},"nodeType":"ModifierInvocation","src":"4201:21:9"}],"name":"changeFee","nodeType":"FunctionDefinition","parameters":{"id":2429,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2428,"name":"_fee","nodeType":"VariableDeclaration","scope":2446,"src":"4171:11:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"},"typeName":{"id":2427,"name":"uint64","nodeType":"ElementaryTypeName","src":"4171:6:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"value":null,"visibility":"internal"}],"src":"4170:13:9"},"returnParameters":{"id":2436,"nodeType":"ParameterList","parameters":[],"src":"4223:0:9"},"scope":3101,"src":"4152:131:9","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"body":{"id":2509,"nodeType":"Block","src":"4455:423:9","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":2460,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_enum$_Stage_$2140","typeString":"enum MarketMaker.Stage"},"id":2455,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2452,"name":"stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2136,"src":"4473:5:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2140","typeString":"enum MarketMaker.Stage"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2453,"name":"Stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2140,"src":"4482:5:9","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Stage_$2140_$","typeString":"type(enum MarketMaker.Stage)"}},"id":2454,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"Running","nodeType":"MemberAccess","referencedDeclaration":null,"src":"4482:13:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2140","typeString":"enum MarketMaker.Stage"}},"src":"4473:22:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"||","rightExpression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_enum$_Stage_$2140","typeString":"enum MarketMaker.Stage"},"id":2459,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2456,"name":"stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2136,"src":"4499:5:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2140","typeString":"enum MarketMaker.Stage"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2457,"name":"Stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2140,"src":"4508:5:9","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Stage_$2140_$","typeString":"type(enum MarketMaker.Stage)"}},"id":2458,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"Paused","nodeType":"MemberAccess","referencedDeclaration":null,"src":"4508:12:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2140","typeString":"enum MarketMaker.Stage"}},"src":"4499:21:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"4473:47:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"54686973204d61726b65742068617320616c7265616479206265656e20636c6f736564","id":2461,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"4522:37:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_ce82b757e84d3f085f7655825c68fa1a13fda6cc3913781fbe7409417e74f19c","typeString":"literal_string \\"This Market has already been closed\\""},"value":"This Market has already been closed"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_ce82b757e84d3f085f7655825c68fa1a13fda6cc3913781fbe7409417e74f19c","typeString":"literal_string \\"This Market has already been closed\\""}],"id":2451,"name":"require","nodeType":"Identifier","overloadedDeclarations":[5416,5417],"referencedDeclaration":5417,"src":"4465:7:9","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":2462,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4465:95:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2463,"nodeType":"ExpressionStatement","src":"4465:95:9"},{"body":{"id":2499,"nodeType":"Block","src":"4620:196:9","statements":[{"assignments":[2475],"declarations":[{"constant":false,"id":2475,"name":"positionId","nodeType":"VariableDeclaration","scope":2499,"src":"4634:15:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2474,"name":"uint","nodeType":"ElementaryTypeName","src":"4634:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":2479,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2477,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2465,"src":"4677:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":2476,"name":"generateAtomicPositionId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2950,"src":"4652:24:9","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256) view returns (uint256)"}},"id":2478,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4652:27:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"4634:45:9"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2484,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5450,"src":"4727:4:9","typeDescriptions":{"typeIdentifier":"t_contract$_MarketMaker_$3101","typeString":"contract MarketMaker"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_MarketMaker_$3101","typeString":"contract MarketMaker"}],"id":2483,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4719:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2485,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4719:13:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"arguments":[],"expression":{"argumentTypes":[],"id":2486,"name":"owner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5235,"src":"4734:5:9","typeDescriptions":{"typeIdentifier":"t_function_internal_view$__$returns$_t_address_$","typeString":"function () view returns (address)"}},"id":2487,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4734:7:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":2488,"name":"positionId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2475,"src":"4743:10:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2492,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5450,"src":"4782:4:9","typeDescriptions":{"typeIdentifier":"t_contract$_MarketMaker_$3101","typeString":"contract MarketMaker"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_MarketMaker_$3101","typeString":"contract MarketMaker"}],"id":2491,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4774:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2493,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4774:13:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":2494,"name":"positionId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2475,"src":"4789:10:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2489,"name":"pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2123,"src":"4755:8:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1594","typeString":"contract PredictionMarketSystem"}},"id":2490,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"balanceOf","nodeType":"MemberAccess","referencedDeclaration":4809,"src":"4755:18:9","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$_t_uint256_$returns$_t_uint256_$","typeString":"function (address,uint256) view external returns (uint256)"}},"id":2495,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4755:45:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"hexValue":"","id":2496,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"4802:2:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470","typeString":"literal_string \\"\\""},"value":""}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_stringliteral_c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470","typeString":"literal_string \\"\\""}],"expression":{"argumentTypes":null,"id":2480,"name":"pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2123,"src":"4693:8:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1594","typeString":"contract PredictionMarketSystem"}},"id":2482,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"safeTransferFrom","nodeType":"MemberAccess","referencedDeclaration":4657,"src":"4693:25:9","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_address_$_t_uint256_$_t_uint256_$_t_bytes_memory_ptr_$returns$__$","typeString":"function (address,address,uint256,uint256,bytes memory) external"}},"id":2497,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4693:112:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2498,"nodeType":"ExpressionStatement","src":"4693:112:9"}]},"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2470,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2468,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2465,"src":"4587:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"id":2469,"name":"atomicOutcomeSlotCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2130,"src":"4591:22:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4587:26:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":2500,"initializationExpression":{"assignments":[2465],"declarations":[{"constant":false,"id":2465,"name":"i","nodeType":"VariableDeclaration","scope":2500,"src":"4575:6:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2464,"name":"uint","nodeType":"ElementaryTypeName","src":"4575:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":2467,"initialValue":{"argumentTypes":null,"hexValue":"30","id":2466,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4584:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"4575:10:9"},"loopExpression":{"expression":{"argumentTypes":null,"id":2472,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"4615:3:9","subExpression":{"argumentTypes":null,"id":2471,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2465,"src":"4615:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2473,"nodeType":"ExpressionStatement","src":"4615:3:9"},"nodeType":"ForStatement","src":"4570:246:9"},{"expression":{"argumentTypes":null,"id":2504,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2501,"name":"stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2136,"src":"4825:5:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2140","typeString":"enum MarketMaker.Stage"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2502,"name":"Stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2140,"src":"4833:5:9","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Stage_$2140_$","typeString":"type(enum MarketMaker.Stage)"}},"id":2503,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"Closed","nodeType":"MemberAccess","referencedDeclaration":null,"src":"4833:12:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2140","typeString":"enum MarketMaker.Stage"}},"src":"4825:20:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2140","typeString":"enum MarketMaker.Stage"}},"id":2505,"nodeType":"ExpressionStatement","src":"4825:20:9"},{"eventCall":{"argumentTypes":null,"arguments":[],"expression":{"argumentTypes":[],"id":2506,"name":"AMMClosed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2098,"src":"4860:9:9","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$__$returns$__$","typeString":"function ()"}},"id":2507,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4860:11:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2508,"nodeType":"EmitStatement","src":"4855:16:9"}]},"documentation":"@dev Allows market owner to close the markets by transferring all remaining outcome tokens to the owner","id":2510,"implemented":true,"kind":"function","modifiers":[{"arguments":null,"id":2449,"modifierName":{"argumentTypes":null,"id":2448,"name":"onlyOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5244,"src":"4441:9:9","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"4441:9:9"}],"name":"close","nodeType":"FunctionDefinition","parameters":{"id":2447,"nodeType":"ParameterList","parameters":[],"src":"4415:2:9"},"returnParameters":{"id":2450,"nodeType":"ParameterList","parameters":[],"src":"4455:0:9"},"scope":3101,"src":"4401:477:9","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"body":{"id":2539,"nodeType":"Block","src":"5070:184:9","statements":[{"expression":{"argumentTypes":null,"id":2524,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2517,"name":"fees","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2515,"src":"5080:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2521,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5450,"src":"5121:4:9","typeDescriptions":{"typeIdentifier":"t_contract$_MarketMaker_$3101","typeString":"contract MarketMaker"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_MarketMaker_$3101","typeString":"contract MarketMaker"}],"id":2520,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"5113:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2522,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5113:13:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"argumentTypes":null,"id":2518,"name":"collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2125,"src":"5087:15:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5379","typeString":"contract IERC20"}},"id":2519,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"balanceOf","nodeType":"MemberAccess","referencedDeclaration":5324,"src":"5087:25:9","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$returns$_t_uint256_$","typeString":"function (address) view external returns (uint256)"}},"id":2523,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5087:40:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5080:47:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2525,"nodeType":"ExpressionStatement","src":"5080:47:9"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[],"expression":{"argumentTypes":[],"id":2529,"name":"owner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5235,"src":"5195:5:9","typeDescriptions":{"typeIdentifier":"t_function_internal_view$__$returns$_t_address_$","typeString":"function () view returns (address)"}},"id":2530,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5195:7:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":2531,"name":"fees","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2515,"src":"5204:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2527,"name":"collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2125,"src":"5170:15:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5379","typeString":"contract IERC20"}},"id":2528,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"transfer","nodeType":"MemberAccess","referencedDeclaration":5342,"src":"5170:24:9","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (address,uint256) external returns (bool)"}},"id":2532,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5170:39:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":2526,"name":"require","nodeType":"Identifier","overloadedDeclarations":[5416,5417],"referencedDeclaration":5416,"src":"5162:7:9","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":2533,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5162:48:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2534,"nodeType":"ExpressionStatement","src":"5162:48:9"},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2536,"name":"fees","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2515,"src":"5242:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":2535,"name":"AMMFeeWithdrawal","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2110,"src":"5225:16:9","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_uint256_$returns$__$","typeString":"function (uint256)"}},"id":2537,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5225:22:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2538,"nodeType":"EmitStatement","src":"5220:27:9"}]},"documentation":"@dev Allows market owner to withdraw fees generated by trades\\n @return Fee amount","id":2540,"implemented":true,"kind":"function","modifiers":[{"arguments":null,"id":2513,"modifierName":{"argumentTypes":null,"id":2512,"name":"onlyOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5244,"src":"5028:9:9","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"5028:9:9"}],"name":"withdrawFees","nodeType":"FunctionDefinition","parameters":{"id":2511,"nodeType":"ParameterList","parameters":[],"src":"5002:2:9"},"returnParameters":{"id":2516,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2515,"name":"fees","nodeType":"VariableDeclaration","scope":2540,"src":"5055:9:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2514,"name":"uint","nodeType":"ElementaryTypeName","src":"5055:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"5054:11:9"},"scope":3101,"src":"4981:273:9","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"body":{"id":2771,"nodeType":"Block","src":"7226:2081:9","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2558,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2555,"name":"outcomeTokenAmounts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2543,"src":"7244:19:9","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_memory_ptr","typeString":"int256[] memory"}},"id":2556,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","referencedDeclaration":null,"src":"7244:26:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"id":2557,"name":"atomicOutcomeSlotCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2130,"src":"7274:22:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"7244:52:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":2554,"name":"require","nodeType":"Identifier","overloadedDeclarations":[5416,5417],"referencedDeclaration":5416,"src":"7236:7:9","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":2559,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7236:61:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2560,"nodeType":"ExpressionStatement","src":"7236:61:9"},{"assignments":[2562],"declarations":[{"constant":false,"id":2562,"name":"outcomeTokenNetCost","nodeType":"VariableDeclaration","scope":2771,"src":"7358:23:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":2561,"name":"int","nodeType":"ElementaryTypeName","src":"7358:3:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"value":null,"visibility":"internal"}],"id":2566,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2564,"name":"outcomeTokenAmounts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2543,"src":"7396:19:9","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_memory_ptr","typeString":"int256[] memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_array$_t_int256_$dyn_memory_ptr","typeString":"int256[] memory"}],"id":2563,"name":"calcNetCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2279,"src":"7384:11:9","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_array$_t_int256_$dyn_memory_ptr_$returns$_t_int256_$","typeString":"function (int256[] memory) view returns (int256)"}},"id":2565,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7384:32:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"VariableDeclarationStatement","src":"7358:58:9"},{"assignments":[2568],"declarations":[{"constant":false,"id":2568,"name":"fees","nodeType":"VariableDeclaration","scope":2771,"src":"7426:8:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":2567,"name":"int","nodeType":"ElementaryTypeName","src":"7426:3:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"value":null,"visibility":"internal"}],"id":2569,"initialValue":null,"nodeType":"VariableDeclarationStatement","src":"7426:8:9"},{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2572,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2570,"name":"outcomeTokenNetCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2562,"src":"7447:19:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"hexValue":"30","id":2571,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"7469:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"7447:23:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"expression":{"argumentTypes":null,"id":2592,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2584,"name":"fees","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2568,"src":"7564:4:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2588,"name":"outcomeTokenNetCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2562,"src":"7594:19:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2587,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"7589:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2589,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7589:25:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":2586,"name":"calcMarketFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2786,"src":"7575:13:9","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256) view returns (uint256)"}},"id":2590,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7575:40:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":2585,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"7571:3:9","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":"int"},"id":2591,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7571:45:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"7564:52:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":2593,"nodeType":"ExpressionStatement","src":"7564:52:9"},"id":2594,"nodeType":"IfStatement","src":"7444:172:9","trueBody":{"expression":{"argumentTypes":null,"id":2582,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2573,"name":"fees","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2568,"src":"7484:4:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2578,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"7514:20:9","subExpression":{"argumentTypes":null,"id":2577,"name":"outcomeTokenNetCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2562,"src":"7515:19:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2576,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"7509:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2579,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7509:26:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":2575,"name":"calcMarketFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2786,"src":"7495:13:9","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256) view returns (uint256)"}},"id":2580,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7495:41:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":2574,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"7491:3:9","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":"int"},"id":2581,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7491:46:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"7484:53:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":2583,"nodeType":"ExpressionStatement","src":"7484:53:9"}},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2598,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2596,"name":"fees","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2568,"src":"7635:4:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"argumentTypes":null,"hexValue":"30","id":2597,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"7643:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"7635:9:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":2595,"name":"require","nodeType":"Identifier","overloadedDeclarations":[5416,5417],"referencedDeclaration":5416,"src":"7627:7:9","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":2599,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7627:18:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2600,"nodeType":"ExpressionStatement","src":"7627:18:9"},{"expression":{"argumentTypes":null,"id":2606,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2601,"name":"netCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2552,"src":"7655:7:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2604,"name":"fees","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2568,"src":"7689:4:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"expression":{"argumentTypes":null,"id":2602,"name":"outcomeTokenNetCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2562,"src":"7665:19:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":2603,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"add","nodeType":"MemberAccess","referencedDeclaration":4251,"src":"7665:23:9","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_int256_$_t_int256_$returns$_t_int256_$bound_to$_t_int256_$","typeString":"function (int256,int256) pure returns (int256)"}},"id":2605,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7665:29:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"7655:39:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":2607,"nodeType":"ExpressionStatement","src":"7655:39:9"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":2620,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"components":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":2615,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2611,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2609,"name":"collateralLimit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2545,"src":"7727:15:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"hexValue":"30","id":2610,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"7746:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"7727:20:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2614,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2612,"name":"netCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2552,"src":"7751:7:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"<=","rightExpression":{"argumentTypes":null,"id":2613,"name":"collateralLimit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2545,"src":"7762:15:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"7751:26:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"7727:50:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"id":2616,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"7726:52:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"||","rightExpression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2619,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2617,"name":"collateralLimit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2545,"src":"7794:15:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"hexValue":"30","id":2618,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"7813:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"7794:20:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"7726:88:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":2608,"name":"require","nodeType":"Identifier","overloadedDeclarations":[5416,5417],"referencedDeclaration":5416,"src":"7705:7:9","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":2621,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7705:119:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2622,"nodeType":"ExpressionStatement","src":"7705:119:9"},{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2625,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2623,"name":"outcomeTokenNetCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2562,"src":"7838:19:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"argumentTypes":null,"hexValue":"30","id":2624,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"7860:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"7838:23:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":2660,"nodeType":"IfStatement","src":"7835:350:9","trueBody":{"id":2659,"nodeType":"Block","src":"7863:322:9","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":2647,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2629,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5413,"src":"7931:3:9","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":2630,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"7931:10:9","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2632,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5450,"src":"7951:4:9","typeDescriptions":{"typeIdentifier":"t_contract$_MarketMaker_$3101","typeString":"contract MarketMaker"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_MarketMaker_$3101","typeString":"contract MarketMaker"}],"id":2631,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"7943:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2633,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7943:13:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2635,"name":"netCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2552,"src":"7963:7:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2634,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"7958:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2636,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7958:13:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address_payable","typeString":"address payable"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2627,"name":"collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2125,"src":"7902:15:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5379","typeString":"contract IERC20"}},"id":2628,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"transferFrom","nodeType":"MemberAccess","referencedDeclaration":5362,"src":"7902:28:9","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (address,address,uint256) external returns (bool)"}},"id":2637,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7902:70:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2641,"name":"pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2123,"src":"8024:8:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1594","typeString":"contract PredictionMarketSystem"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1594","typeString":"contract PredictionMarketSystem"}],"id":2640,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"8016:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2642,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8016:17:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2644,"name":"outcomeTokenNetCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2562,"src":"8040:19:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2643,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"8035:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2645,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8035:25:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2638,"name":"collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2125,"src":"7992:15:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5379","typeString":"contract IERC20"}},"id":2639,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"approve","nodeType":"MemberAccess","referencedDeclaration":5351,"src":"7992:23:9","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (address,uint256) external returns (bool)"}},"id":2646,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7992:69:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"7902:159:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":2626,"name":"require","nodeType":"Identifier","overloadedDeclarations":[5416,5417],"referencedDeclaration":5416,"src":"7877:7:9","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":2648,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7877:198:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2649,"nodeType":"ExpressionStatement","src":"7877:198:9"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2652,"name":"outcomeTokenNetCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2562,"src":"8129:19:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2651,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"8124:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2653,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8124:25:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2654,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2128,"src":"8151:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":2655,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","referencedDeclaration":null,"src":"8151:19:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"hexValue":"30","id":2656,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8172:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":2650,"name":"splitPositionThroughAllConditions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3025,"src":"8090:33:9","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (uint256,uint256,uint256)"}},"id":2657,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8090:84:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2658,"nodeType":"ExpressionStatement","src":"8090:84:9"}]}},{"body":{"id":2727,"nodeType":"Block","src":"8245:468:9","statements":[{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2675,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2671,"name":"outcomeTokenAmounts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2543,"src":"8262:19:9","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_memory_ptr","typeString":"int256[] memory"}},"id":2673,"indexExpression":{"argumentTypes":null,"id":2672,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2662,"src":"8282:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"8262:22:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"hexValue":"30","id":2674,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8288:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"8262:27:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":2726,"nodeType":"IfStatement","src":"8259:444:9","trueBody":{"id":2725,"nodeType":"Block","src":"8291:412:9","statements":[{"assignments":[2677],"declarations":[{"constant":false,"id":2677,"name":"positionId","nodeType":"VariableDeclaration","scope":2725,"src":"8309:15:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2676,"name":"uint","nodeType":"ElementaryTypeName","src":"8309:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":2681,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2679,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2662,"src":"8352:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":2678,"name":"generateAtomicPositionId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2950,"src":"8327:24:9","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256) view returns (uint256)"}},"id":2680,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8327:27:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"8309:45:9"},{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2686,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2682,"name":"outcomeTokenAmounts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2543,"src":"8375:19:9","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_memory_ptr","typeString":"int256[] memory"}},"id":2684,"indexExpression":{"argumentTypes":null,"id":2683,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2662,"src":"8395:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"8375:22:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"hexValue":"30","id":2685,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8400:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"8375:26:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":2723,"nodeType":"Block","src":"8549:139:9","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2710,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5450,"src":"8605:4:9","typeDescriptions":{"typeIdentifier":"t_contract$_MarketMaker_$3101","typeString":"contract MarketMaker"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_MarketMaker_$3101","typeString":"contract MarketMaker"}],"id":2709,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"8597:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2711,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8597:13:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2712,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5413,"src":"8612:3:9","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":2713,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"8612:10:9","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},{"argumentTypes":null,"id":2714,"name":"positionId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2677,"src":"8624:10:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2716,"name":"outcomeTokenAmounts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2543,"src":"8641:19:9","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_memory_ptr","typeString":"int256[] memory"}},"id":2718,"indexExpression":{"argumentTypes":null,"id":2717,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2662,"src":"8661:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"8641:22:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2715,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"8636:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2719,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8636:28:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"hexValue":"","id":2720,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"8666:2:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470","typeString":"literal_string \\"\\""},"value":""}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address_payable","typeString":"address payable"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_stringliteral_c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470","typeString":"literal_string \\"\\""}],"expression":{"argumentTypes":null,"id":2706,"name":"pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2123,"src":"8571:8:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1594","typeString":"contract PredictionMarketSystem"}},"id":2708,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"safeTransferFrom","nodeType":"MemberAccess","referencedDeclaration":4657,"src":"8571:25:9","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_address_$_t_uint256_$_t_uint256_$_t_bytes_memory_ptr_$returns$__$","typeString":"function (address,address,uint256,uint256,bytes memory) external"}},"id":2721,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8571:98:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2722,"nodeType":"ExpressionStatement","src":"8571:98:9"}]},"id":2724,"nodeType":"IfStatement","src":"8372:316:9","trueBody":{"id":2705,"nodeType":"Block","src":"8403:140:9","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2690,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5413,"src":"8451:3:9","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":2691,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"8451:10:9","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2693,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5450,"src":"8471:4:9","typeDescriptions":{"typeIdentifier":"t_contract$_MarketMaker_$3101","typeString":"contract MarketMaker"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_MarketMaker_$3101","typeString":"contract MarketMaker"}],"id":2692,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"8463:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2694,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8463:13:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":2695,"name":"positionId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2677,"src":"8478:10:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2700,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"8495:23:9","subExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2697,"name":"outcomeTokenAmounts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2543,"src":"8496:19:9","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_memory_ptr","typeString":"int256[] memory"}},"id":2699,"indexExpression":{"argumentTypes":null,"id":2698,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2662,"src":"8516:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"8496:22:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2696,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"8490:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2701,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8490:29:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"hexValue":"","id":2702,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"8521:2:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470","typeString":"literal_string \\"\\""},"value":""}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address_payable","typeString":"address payable"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_stringliteral_c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470","typeString":"literal_string \\"\\""}],"expression":{"argumentTypes":null,"id":2687,"name":"pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2123,"src":"8425:8:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1594","typeString":"contract PredictionMarketSystem"}},"id":2689,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"safeTransferFrom","nodeType":"MemberAccess","referencedDeclaration":4657,"src":"8425:25:9","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_address_$_t_uint256_$_t_uint256_$_t_bytes_memory_ptr_$returns$__$","typeString":"function (address,address,uint256,uint256,bytes memory) external"}},"id":2703,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8425:99:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2704,"nodeType":"ExpressionStatement","src":"8425:99:9"}]}}]}}]},"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2667,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2665,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2662,"src":"8212:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"id":2666,"name":"atomicOutcomeSlotCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2130,"src":"8216:22:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8212:26:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":2728,"initializationExpression":{"assignments":[2662],"declarations":[{"constant":false,"id":2662,"name":"i","nodeType":"VariableDeclaration","scope":2728,"src":"8200:6:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2661,"name":"uint","nodeType":"ElementaryTypeName","src":"8200:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":2664,"initialValue":{"argumentTypes":null,"hexValue":"30","id":2663,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8209:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"8200:10:9"},"loopExpression":{"expression":{"argumentTypes":null,"id":2669,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"8240:3:9","subExpression":{"argumentTypes":null,"id":2668,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2662,"src":"8240:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2670,"nodeType":"ExpressionStatement","src":"8240:3:9"},"nodeType":"ForStatement","src":"8195:518:9"},{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2731,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2729,"name":"outcomeTokenNetCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2562,"src":"8726:19:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"hexValue":"30","id":2730,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8748:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"8726:23:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":2760,"nodeType":"IfStatement","src":"8723:476:9","trueBody":{"id":2759,"nodeType":"Block","src":"8751:448:9","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2735,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"9019:20:9","subExpression":{"argumentTypes":null,"id":2734,"name":"outcomeTokenNetCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2562,"src":"9020:19:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2733,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"9014:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2736,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"9014:26:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2737,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2128,"src":"9042:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":2738,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","referencedDeclaration":null,"src":"9042:19:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"hexValue":"30","id":2739,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"9063:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":2732,"name":"mergePositionsThroughAllConditions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3100,"src":"8979:34:9","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (uint256,uint256,uint256)"}},"id":2740,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8979:86:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2741,"nodeType":"ExpressionStatement","src":"8979:86:9"},{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2744,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2742,"name":"netCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2552,"src":"9082:7:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"hexValue":"30","id":2743,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"9092:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"9082:11:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":2758,"nodeType":"IfStatement","src":"9079:110:9","trueBody":{"id":2757,"nodeType":"Block","src":"9095:94:9","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2748,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5413,"src":"9146:3:9","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":2749,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"9146:10:9","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2752,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"9163:8:9","subExpression":{"argumentTypes":null,"id":2751,"name":"netCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2552,"src":"9164:7:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2750,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"9158:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2753,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"9158:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address_payable","typeString":"address payable"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2746,"name":"collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2125,"src":"9121:15:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5379","typeString":"contract IERC20"}},"id":2747,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"transfer","nodeType":"MemberAccess","referencedDeclaration":5342,"src":"9121:24:9","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (address,uint256) external returns (bool)"}},"id":2754,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"9121:52:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":2745,"name":"require","nodeType":"Identifier","overloadedDeclarations":[5416,5417],"referencedDeclaration":5416,"src":"9113:7:9","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":2755,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"9113:61:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2756,"nodeType":"ExpressionStatement","src":"9113:61:9"}]}}]}},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2762,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5413,"src":"9235:3:9","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":2763,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"9235:10:9","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},{"argumentTypes":null,"id":2764,"name":"outcomeTokenAmounts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2543,"src":"9247:19:9","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_memory_ptr","typeString":"int256[] memory"}},{"argumentTypes":null,"id":2765,"name":"outcomeTokenNetCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2562,"src":"9268:19:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2767,"name":"fees","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2568,"src":"9294:4:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2766,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"9289:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2768,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"9289:10:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address_payable","typeString":"address payable"},{"typeIdentifier":"t_array$_t_int256_$dyn_memory_ptr","typeString":"int256[] memory"},{"typeIdentifier":"t_int256","typeString":"int256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":2761,"name":"AMMOutcomeTokenTrade","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2121,"src":"9214:20:9","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_array$_t_int256_$dyn_memory_ptr_$_t_int256_$_t_uint256_$returns$__$","typeString":"function (address,int256[] memory,int256,uint256)"}},"id":2769,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"9214:86:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2770,"nodeType":"EmitStatement","src":"9209:91:9"}]},"documentation":"@dev Allows to trade outcome tokens and collateral with the market maker\\n @param outcomeTokenAmounts Amounts of each atomic outcome token to buy or sell. If positive, will buy this amount of outcome token from the market. If negative, will sell this amount back to the market instead. The indices of this array range from 0 to product(all conditions\' outcomeSlotCounts)-1. For example, with two conditions with three outcome slots each and one condition with two outcome slots, you will have 3*3*2=18 total atomic outcome tokens, and the indices will range from 0 to 17. The indices map to atomic outcome slots depending on the order of the conditionIds. Let\'s say the first condition has slots A, B, C the second has slots X, Y, and the third has slots I, J, K. We can associate each atomic outcome token with indices by this map:\\n A&X&I == 0\\n B&X&I == 1\\n C&X&I == 2\\n A&Y&I == 3\\n B&Y&I == 4\\n C&Y&I == 5\\n A&X&J == 6\\n B&X&J == 7\\n C&X&J == 8\\n A&Y&J == 9\\n B&Y&J == 10\\n C&Y&J == 11\\n A&X&K == 12\\n B&X&K == 13\\n C&X&K == 14\\n A&Y&K == 15\\n B&Y&K == 16\\n C&Y&K == 17\\n This order is calculated via the generateAtomicPositionId function below: C&Y&I -> (2, 1, 0) -> 2 + 3 * (1 + 2 * (0 + 3 * (0 + 0)))\\n @param collateralLimit If positive, this is the limit for the amount of collateral tokens which will be sent to the market to conduct the trade. If negative, this is the minimum amount of collateral tokens which will be received from the market for the trade. If zero, there is no limit.\\n @return If positive, the amount of collateral sent to the market. If negative, the amount of collateral received from the market. If zero, no collateral was sent or received.","id":2772,"implemented":true,"kind":"function","modifiers":[{"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2548,"name":"Stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2140,"src":"7177:5:9","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Stage_$2140_$","typeString":"type(enum MarketMaker.Stage)"}},"id":2549,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"Running","nodeType":"MemberAccess","referencedDeclaration":null,"src":"7177:13:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2140","typeString":"enum MarketMaker.Stage"}}],"id":2550,"modifierName":{"argumentTypes":null,"id":2547,"name":"atStage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2152,"src":"7169:7:9","typeDescriptions":{"typeIdentifier":"t_modifier$_t_enum$_Stage_$2140_$","typeString":"modifier (enum MarketMaker.Stage)"}},"nodeType":"ModifierInvocation","src":"7169:22:9"}],"name":"trade","nodeType":"FunctionDefinition","parameters":{"id":2546,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2543,"name":"outcomeTokenAmounts","nodeType":"VariableDeclaration","scope":2772,"src":"7091:32:9","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_memory_ptr","typeString":"int256[]"},"typeName":{"baseType":{"id":2541,"name":"int","nodeType":"ElementaryTypeName","src":"7091:3:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":2542,"length":null,"nodeType":"ArrayTypeName","src":"7091:5:9","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_storage_ptr","typeString":"int256[]"}},"value":null,"visibility":"internal"},{"constant":false,"id":2545,"name":"collateralLimit","nodeType":"VariableDeclaration","scope":2772,"src":"7125:19:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":2544,"name":"int","nodeType":"ElementaryTypeName","src":"7125:3:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"value":null,"visibility":"internal"}],"src":"7090:55:9"},"returnParameters":{"id":2553,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2552,"name":"netCost","nodeType":"VariableDeclaration","scope":2772,"src":"7209:11:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":2551,"name":"int","nodeType":"ElementaryTypeName","src":"7209:3:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"value":null,"visibility":"internal"}],"src":"7208:13:9"},"scope":3101,"src":"7076:2231:9","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"body":{"id":2785,"nodeType":"Block","src":"9562:58:9","statements":[{"expression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2783,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2781,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2779,"name":"outcomeTokenCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2774,"src":"9579:16:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"argumentTypes":null,"id":2780,"name":"fee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2132,"src":"9598:3:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"src":"9579:22:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"argumentTypes":null,"id":2782,"name":"FEE_RANGE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2088,"src":"9604:9:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"src":"9579:34:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":2778,"id":2784,"nodeType":"Return","src":"9572:41:9"}]},"documentation":"@dev Calculates fee to be paid to market maker\\n @param outcomeTokenCost Cost for buying outcome tokens\\n @return Fee for trade","id":2786,"implemented":true,"kind":"function","modifiers":[],"name":"calcMarketFee","nodeType":"FunctionDefinition","parameters":{"id":2775,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2774,"name":"outcomeTokenCost","nodeType":"VariableDeclaration","scope":2786,"src":"9484:21:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2773,"name":"uint","nodeType":"ElementaryTypeName","src":"9484:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"9483:23:9"},"returnParameters":{"id":2778,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2777,"name":"","nodeType":"VariableDeclaration","scope":2786,"src":"9552:4:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2776,"name":"uint","nodeType":"ElementaryTypeName","src":"9552:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"9551:6:9"},"scope":3101,"src":"9461:159:9","stateMutability":"view","superFunction":null,"visibility":"public"},{"body":{"id":2812,"nodeType":"Block","src":"9774:109:9","statements":[{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":2805,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2801,"name":"operator","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2788,"src":"9788:8:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2803,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5450,"src":"9808:4:9","typeDescriptions":{"typeIdentifier":"t_contract$_MarketMaker_$3101","typeString":"contract MarketMaker"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_MarketMaker_$3101","typeString":"contract MarketMaker"}],"id":2802,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"9800:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2804,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"9800:13:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"9788:25:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":2809,"nodeType":"IfStatement","src":"9784:73:9","trueBody":{"id":2808,"nodeType":"Block","src":"9815:42:9","statements":[{"expression":{"argumentTypes":null,"hexValue":"30786632336136653631","id":2806,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"9836:10:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_4063915617_by_1","typeString":"int_const 4063915617"},"value":"0xf23a6e61"},"functionReturnParameters":2800,"id":2807,"nodeType":"Return","src":"9829:17:9"}]}},{"expression":{"argumentTypes":null,"hexValue":"307830","id":2810,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"9873:3:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0x0"},"functionReturnParameters":2800,"id":2811,"nodeType":"Return","src":"9866:10:9"}]},"documentation":null,"id":2813,"implemented":true,"kind":"function","modifiers":[],"name":"onERC1155Received","nodeType":"FunctionDefinition","parameters":{"id":2797,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2788,"name":"operator","nodeType":"VariableDeclaration","scope":2813,"src":"9653:16:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2787,"name":"address","nodeType":"ElementaryTypeName","src":"9653:7:9","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":2790,"name":"","nodeType":"VariableDeclaration","scope":2813,"src":"9671:7:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2789,"name":"address","nodeType":"ElementaryTypeName","src":"9671:7:9","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":2792,"name":"","nodeType":"VariableDeclaration","scope":2813,"src":"9689:7:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2791,"name":"uint256","nodeType":"ElementaryTypeName","src":"9689:7:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":2794,"name":"","nodeType":"VariableDeclaration","scope":2813,"src":"9705:7:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2793,"name":"uint256","nodeType":"ElementaryTypeName","src":"9705:7:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":2796,"name":"","nodeType":"VariableDeclaration","scope":2813,"src":"9724:14:9","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes"},"typeName":{"id":2795,"name":"bytes","nodeType":"ElementaryTypeName","src":"9724:5:9","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"value":null,"visibility":"internal"}],"src":"9652:96:9"},"returnParameters":{"id":2800,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2799,"name":"","nodeType":"VariableDeclaration","scope":2813,"src":"9766:6:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"typeName":{"id":2798,"name":"bytes4","nodeType":"ElementaryTypeName","src":"9766:6:9","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"value":null,"visibility":"internal"}],"src":"9765:8:9"},"scope":3101,"src":"9626:257:9","stateMutability":"nonpayable","superFunction":5045,"visibility":"external"},{"body":{"id":2841,"nodeType":"Block","src":"10067:110:9","statements":[{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":2834,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2830,"name":"_operator","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2815,"src":"10081:9:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2832,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5450,"src":"10102:4:9","typeDescriptions":{"typeIdentifier":"t_contract$_MarketMaker_$3101","typeString":"contract MarketMaker"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_MarketMaker_$3101","typeString":"contract MarketMaker"}],"id":2831,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"10094:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2833,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10094:13:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"10081:26:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":2838,"nodeType":"IfStatement","src":"10077:74:9","trueBody":{"id":2837,"nodeType":"Block","src":"10109:42:9","statements":[{"expression":{"argumentTypes":null,"hexValue":"30786632336136653631","id":2835,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10130:10:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_4063915617_by_1","typeString":"int_const 4063915617"},"value":"0xf23a6e61"},"functionReturnParameters":2829,"id":2836,"nodeType":"Return","src":"10123:17:9"}]}},{"expression":{"argumentTypes":null,"hexValue":"307830","id":2839,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10167:3:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0x0"},"functionReturnParameters":2829,"id":2840,"nodeType":"Return","src":"10160:10:9"}]},"documentation":null,"id":2842,"implemented":true,"kind":"function","modifiers":[],"name":"onERC1155BatchReceived","nodeType":"FunctionDefinition","parameters":{"id":2826,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2815,"name":"_operator","nodeType":"VariableDeclaration","scope":2842,"src":"9921:17:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2814,"name":"address","nodeType":"ElementaryTypeName","src":"9921:7:9","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":2817,"name":"","nodeType":"VariableDeclaration","scope":2842,"src":"9940:7:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2816,"name":"address","nodeType":"ElementaryTypeName","src":"9940:7:9","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":2820,"name":"","nodeType":"VariableDeclaration","scope":2842,"src":"9958:18:9","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":2818,"name":"uint256","nodeType":"ElementaryTypeName","src":"9958:7:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2819,"length":null,"nodeType":"ArrayTypeName","src":"9958:9:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"value":null,"visibility":"internal"},{"constant":false,"id":2823,"name":"","nodeType":"VariableDeclaration","scope":2842,"src":"9986:18:9","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":2821,"name":"uint256","nodeType":"ElementaryTypeName","src":"9986:7:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2822,"length":null,"nodeType":"ArrayTypeName","src":"9986:9:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"value":null,"visibility":"internal"},{"constant":false,"id":2825,"name":"","nodeType":"VariableDeclaration","scope":2842,"src":"10017:14:9","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes"},"typeName":{"id":2824,"name":"bytes","nodeType":"ElementaryTypeName","src":"10017:5:9","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"value":null,"visibility":"internal"}],"src":"9920:121:9"},"returnParameters":{"id":2829,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2828,"name":"","nodeType":"VariableDeclaration","scope":2842,"src":"10059:6:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"typeName":{"id":2827,"name":"bytes4","nodeType":"ElementaryTypeName","src":"10059:6:9","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"value":null,"visibility":"internal"}],"src":"10058:8:9"},"scope":3101,"src":"9889:288:9","stateMutability":"nonpayable","superFunction":5062,"visibility":"external"},{"body":{"id":2882,"nodeType":"Block","src":"10311:180:9","statements":[{"expression":{"argumentTypes":null,"id":2859,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2850,"name":"partition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2848,"src":"10321:9:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2856,"name":"conditionId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2844,"src":"10373:11:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"expression":{"argumentTypes":null,"id":2854,"name":"pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2123,"src":"10344:8:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1594","typeString":"contract PredictionMarketSystem"}},"id":2855,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"getOutcomeSlotCount","nodeType":"MemberAccess","referencedDeclaration":1565,"src":"10344:28:9","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_bytes32_$returns$_t_uint256_$","typeString":"function (bytes32) view external returns (uint256)"}},"id":2857,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10344:41:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":2853,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"NewExpression","src":"10333:10:9","typeDescriptions":{"typeIdentifier":"t_function_objectcreation_pure$_t_uint256_$returns$_t_array$_t_uint256_$dyn_memory_$","typeString":"function (uint256) pure returns (uint256[] memory)"},"typeName":{"baseType":{"id":2851,"name":"uint","nodeType":"ElementaryTypeName","src":"10337:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2852,"length":null,"nodeType":"ArrayTypeName","src":"10337:6:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}}},"id":2858,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10333:53:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory","typeString":"uint256[] memory"}},"src":"10321:65:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":2860,"nodeType":"ExpressionStatement","src":"10321:65:9"},{"body":{"id":2880,"nodeType":"Block","src":"10439:46:9","statements":[{"expression":{"argumentTypes":null,"id":2878,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2872,"name":"partition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2848,"src":"10453:9:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":2874,"indexExpression":{"argumentTypes":null,"id":2873,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2862,"src":"10463:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"10453:12:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2877,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"hexValue":"31","id":2875,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10468:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"nodeType":"BinaryOperation","operator":"<<","rightExpression":{"argumentTypes":null,"id":2876,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2862,"src":"10473:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10468:6:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10453:21:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2879,"nodeType":"ExpressionStatement","src":"10453:21:9"}]},"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2868,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2865,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2862,"src":"10412:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2866,"name":"partition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2848,"src":"10416:9:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":2867,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","referencedDeclaration":null,"src":"10416:16:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10412:20:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":2881,"initializationExpression":{"assignments":[2862],"declarations":[{"constant":false,"id":2862,"name":"i","nodeType":"VariableDeclaration","scope":2881,"src":"10400:6:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2861,"name":"uint","nodeType":"ElementaryTypeName","src":"10400:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":2864,"initialValue":{"argumentTypes":null,"hexValue":"30","id":2863,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10409:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"10400:10:9"},"loopExpression":{"expression":{"argumentTypes":null,"id":2870,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"10434:3:9","subExpression":{"argumentTypes":null,"id":2869,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2862,"src":"10434:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2871,"nodeType":"ExpressionStatement","src":"10434:3:9"},"nodeType":"ForStatement","src":"10396:89:9"}]},"documentation":null,"id":2883,"implemented":true,"kind":"function","modifiers":[],"name":"generateBasicPartition","nodeType":"FunctionDefinition","parameters":{"id":2845,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2844,"name":"conditionId","nodeType":"VariableDeclaration","scope":2883,"src":"10215:19:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":2843,"name":"bytes32","nodeType":"ElementaryTypeName","src":"10215:7:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"internal"}],"src":"10214:21:9"},"returnParameters":{"id":2849,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2848,"name":"partition","nodeType":"VariableDeclaration","scope":2883,"src":"10282:23:9","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":2846,"name":"uint","nodeType":"ElementaryTypeName","src":"10282:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2847,"length":null,"nodeType":"ArrayTypeName","src":"10282:6:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"value":null,"visibility":"internal"}],"src":"10281:25:9"},"scope":3101,"src":"10183:308:9","stateMutability":"view","superFunction":null,"visibility":"private"},{"body":{"id":2949,"nodeType":"Block","src":"10596:480:9","statements":[{"assignments":[2891],"declarations":[{"constant":false,"id":2891,"name":"collectionId","nodeType":"VariableDeclaration","scope":2949,"src":"10606:17:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2890,"name":"uint","nodeType":"ElementaryTypeName","src":"10606:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":2893,"initialValue":{"argumentTypes":null,"hexValue":"30","id":2892,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10626:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"10606:21:9"},{"body":{"id":2937,"nodeType":"Block","src":"10684:280:9","statements":[{"assignments":[2906],"declarations":[{"constant":false,"id":2906,"name":"curOutcomeSlotCount","nodeType":"VariableDeclaration","scope":2937,"src":"10698:24:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2905,"name":"uint","nodeType":"ElementaryTypeName","src":"10698:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":2913,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2909,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2128,"src":"10754:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":2911,"indexExpression":{"argumentTypes":null,"id":2910,"name":"k","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2895,"src":"10767:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"10754:15:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"expression":{"argumentTypes":null,"id":2907,"name":"pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2123,"src":"10725:8:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1594","typeString":"contract PredictionMarketSystem"}},"id":2908,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"getOutcomeSlotCount","nodeType":"MemberAccess","referencedDeclaration":1565,"src":"10725:28:9","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_bytes32_$returns$_t_uint256_$","typeString":"function (bytes32) view external returns (uint256)"}},"id":2912,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10725:45:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"10698:72:9"},{"expression":{"argumentTypes":null,"id":2931,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2914,"name":"collectionId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2891,"src":"10784:12:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"+=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2919,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2128,"src":"10849:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":2921,"indexExpression":{"argumentTypes":null,"id":2920,"name":"k","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2895,"src":"10862:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"10849:15:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2927,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"hexValue":"31","id":2922,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10882:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"nodeType":"BinaryOperation","operator":"<<","rightExpression":{"argumentTypes":null,"components":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2925,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2923,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2885,"src":"10888:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"%","rightExpression":{"argumentTypes":null,"id":2924,"name":"curOutcomeSlotCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2906,"src":"10892:19:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10888:23:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":2926,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"10887:25:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10882:30:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2917,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5400,"src":"10815:3:9","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":2918,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"encodePacked","nodeType":"MemberAccess","referencedDeclaration":null,"src":"10815:16:9","typeDescriptions":{"typeIdentifier":"t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":2928,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10815:98:9","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":2916,"name":"keccak256","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5407,"src":"10805:9:9","typeDescriptions":{"typeIdentifier":"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$","typeString":"function (bytes memory) pure returns (bytes32)"}},"id":2929,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10805:109:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":2915,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"10800:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2930,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10800:115:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10784:131:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2932,"nodeType":"ExpressionStatement","src":"10784:131:9"},{"expression":{"argumentTypes":null,"id":2935,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2933,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2885,"src":"10929:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"/=","rightHandSide":{"argumentTypes":null,"id":2934,"name":"curOutcomeSlotCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2906,"src":"10934:19:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10929:24:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2936,"nodeType":"ExpressionStatement","src":"10929:24:9"}]},"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2901,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2898,"name":"k","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2895,"src":"10654:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2899,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2128,"src":"10658:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":2900,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","referencedDeclaration":null,"src":"10658:19:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10654:23:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":2938,"initializationExpression":{"assignments":[2895],"declarations":[{"constant":false,"id":2895,"name":"k","nodeType":"VariableDeclaration","scope":2938,"src":"10642:6:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2894,"name":"uint","nodeType":"ElementaryTypeName","src":"10642:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":2897,"initialValue":{"argumentTypes":null,"hexValue":"30","id":2896,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10651:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"10642:10:9"},"loopExpression":{"expression":{"argumentTypes":null,"id":2903,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"10679:3:9","subExpression":{"argumentTypes":null,"id":2902,"name":"k","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2895,"src":"10679:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2904,"nodeType":"ExpressionStatement","src":"10679:3:9"},"nodeType":"ForStatement","src":"10638:326:9"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2943,"name":"collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2125,"src":"11025:15:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5379","typeString":"contract IERC20"}},{"argumentTypes":null,"id":2944,"name":"collectionId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2891,"src":"11054:12:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IERC20_$5379","typeString":"contract IERC20"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2941,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5400,"src":"10995:3:9","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":2942,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"encodePacked","nodeType":"MemberAccess","referencedDeclaration":null,"src":"10995:16:9","typeDescriptions":{"typeIdentifier":"t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":2945,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10995:72:9","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":2940,"name":"keccak256","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5407,"src":"10985:9:9","typeDescriptions":{"typeIdentifier":"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$","typeString":"function (bytes memory) pure returns (bytes32)"}},"id":2946,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10985:83:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":2939,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"10980:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2947,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10980:89:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":2889,"id":2948,"nodeType":"Return","src":"10973:96:9"}]},"documentation":null,"id":2950,"implemented":true,"kind":"function","modifiers":[],"name":"generateAtomicPositionId","nodeType":"FunctionDefinition","parameters":{"id":2886,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2885,"name":"i","nodeType":"VariableDeclaration","scope":2950,"src":"10531:6:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2884,"name":"uint","nodeType":"ElementaryTypeName","src":"10531:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"10530:8:9"},"returnParameters":{"id":2889,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2888,"name":"","nodeType":"VariableDeclaration","scope":2950,"src":"10586:4:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2887,"name":"uint","nodeType":"ElementaryTypeName","src":"10586:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"10585:6:9"},"scope":3101,"src":"10497:579:9","stateMutability":"view","superFunction":null,"visibility":"internal"},{"body":{"id":3024,"nodeType":"Block","src":"11204:613:9","statements":[{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2961,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2959,"name":"conditionsLeft","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2954,"src":"11217:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"hexValue":"30","id":2960,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"11235:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"11217:19:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":2963,"nodeType":"IfStatement","src":"11214:31:9","trueBody":{"expression":null,"functionReturnParameters":2958,"id":2962,"nodeType":"Return","src":"11238:7:9"}},{"expression":{"argumentTypes":null,"id":2965,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"--","prefix":false,"src":"11254:16:9","subExpression":{"argumentTypes":null,"id":2964,"name":"conditionsLeft","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2954,"src":"11254:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2966,"nodeType":"ExpressionStatement","src":"11254:16:9"},{"assignments":[2970],"declarations":[{"constant":false,"id":2970,"name":"partition","nodeType":"VariableDeclaration","scope":3024,"src":"11281:23:9","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":2968,"name":"uint","nodeType":"ElementaryTypeName","src":"11281:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2969,"length":null,"nodeType":"ArrayTypeName","src":"11281:6:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"value":null,"visibility":"internal"}],"id":2976,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2972,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2128,"src":"11330:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":2974,"indexExpression":{"argumentTypes":null,"id":2973,"name":"conditionsLeft","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2954,"src":"11343:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"11330:28:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":2971,"name":"generateBasicPartition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2883,"src":"11307:22:9","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_bytes32_$returns$_t_array$_t_uint256_$dyn_memory_ptr_$","typeString":"function (bytes32) view returns (uint256[] memory)"}},"id":2975,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"11307:52:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"nodeType":"VariableDeclarationStatement","src":"11281:78:9"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2980,"name":"collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2125,"src":"11392:15:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5379","typeString":"contract IERC20"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2982,"name":"parentCollectionId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2956,"src":"11417:18:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":2981,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"11409:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_bytes32_$","typeString":"type(bytes32)"},"typeName":"bytes32"},"id":2983,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"11409:27:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2984,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2128,"src":"11438:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":2986,"indexExpression":{"argumentTypes":null,"id":2985,"name":"conditionsLeft","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2954,"src":"11451:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"11438:28:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"argumentTypes":null,"id":2987,"name":"partition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2970,"src":"11468:9:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},{"argumentTypes":null,"id":2988,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2952,"src":"11479:6:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IERC20_$5379","typeString":"contract IERC20"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2977,"name":"pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2123,"src":"11369:8:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1594","typeString":"contract PredictionMarketSystem"}},"id":2979,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"splitPosition","nodeType":"MemberAccess","referencedDeclaration":1089,"src":"11369:22:9","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_contract$_IERC20_$5379_$_t_bytes32_$_t_bytes32_$_t_array$_t_uint256_$dyn_memory_ptr_$_t_uint256_$returns$__$","typeString":"function (contract IERC20,bytes32,bytes32,uint256[] memory,uint256) external"}},"id":2989,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"11369:117:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2990,"nodeType":"ExpressionStatement","src":"11369:117:9"},{"body":{"id":3022,"nodeType":"Block","src":"11539:272:9","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":3003,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2952,"src":"11604:6:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":3004,"name":"conditionsLeft","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2954,"src":"11628:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":3019,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":3005,"name":"parentCollectionId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2956,"src":"11660:18:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":3010,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2128,"src":"11734:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":3012,"indexExpression":{"argumentTypes":null,"id":3011,"name":"conditionsLeft","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2954,"src":"11747:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"11734:28:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":3013,"name":"partition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2970,"src":"11784:9:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":3015,"indexExpression":{"argumentTypes":null,"id":3014,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2992,"src":"11794:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"11784:12:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":3008,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5400,"src":"11696:3:9","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":3009,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"encodePacked","nodeType":"MemberAccess","referencedDeclaration":null,"src":"11696:16:9","typeDescriptions":{"typeIdentifier":"t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":3016,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"11696:101:9","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":3007,"name":"keccak256","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5407,"src":"11686:9:9","typeDescriptions":{"typeIdentifier":"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$","typeString":"function (bytes memory) pure returns (bytes32)"}},"id":3017,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"11686:112:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":3006,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"11681:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":3018,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"11681:118:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"11660:139:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":3002,"name":"splitPositionThroughAllConditions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3025,"src":"11553:33:9","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (uint256,uint256,uint256)"}},"id":3020,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"11553:247:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":3021,"nodeType":"ExpressionStatement","src":"11553:247:9"}]},"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2998,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2995,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2992,"src":"11512:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2996,"name":"partition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2970,"src":"11516:9:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":2997,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","referencedDeclaration":null,"src":"11516:16:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"11512:20:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":3023,"initializationExpression":{"assignments":[2992],"declarations":[{"constant":false,"id":2992,"name":"i","nodeType":"VariableDeclaration","scope":3023,"src":"11500:6:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2991,"name":"uint","nodeType":"ElementaryTypeName","src":"11500:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":2994,"initialValue":{"argumentTypes":null,"hexValue":"30","id":2993,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"11509:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"11500:10:9"},"loopExpression":{"expression":{"argumentTypes":null,"id":3000,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"11534:3:9","subExpression":{"argumentTypes":null,"id":2999,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2992,"src":"11534:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":3001,"nodeType":"ExpressionStatement","src":"11534:3:9"},"nodeType":"ForStatement","src":"11496:315:9"}]},"documentation":null,"id":3025,"implemented":true,"kind":"function","modifiers":[],"name":"splitPositionThroughAllConditions","nodeType":"FunctionDefinition","parameters":{"id":2957,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2952,"name":"amount","nodeType":"VariableDeclaration","scope":3025,"src":"11125:11:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2951,"name":"uint","nodeType":"ElementaryTypeName","src":"11125:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":2954,"name":"conditionsLeft","nodeType":"VariableDeclaration","scope":3025,"src":"11138:19:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2953,"name":"uint","nodeType":"ElementaryTypeName","src":"11138:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":2956,"name":"parentCollectionId","nodeType":"VariableDeclaration","scope":3025,"src":"11159:23:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2955,"name":"uint","nodeType":"ElementaryTypeName","src":"11159:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"11124:59:9"},"returnParameters":{"id":2958,"nodeType":"ParameterList","parameters":[],"src":"11204:0:9"},"scope":3101,"src":"11082:735:9","stateMutability":"nonpayable","superFunction":null,"visibility":"private"},{"body":{"id":3099,"nodeType":"Block","src":"11946:615:9","statements":[{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":3036,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":3034,"name":"conditionsLeft","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3029,"src":"11959:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"hexValue":"30","id":3035,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"11977:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"11959:19:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":3038,"nodeType":"IfStatement","src":"11956:31:9","trueBody":{"expression":null,"functionReturnParameters":3033,"id":3037,"nodeType":"Return","src":"11980:7:9"}},{"expression":{"argumentTypes":null,"id":3040,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"--","prefix":false,"src":"11996:16:9","subExpression":{"argumentTypes":null,"id":3039,"name":"conditionsLeft","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3029,"src":"11996:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":3041,"nodeType":"ExpressionStatement","src":"11996:16:9"},{"assignments":[3045],"declarations":[{"constant":false,"id":3045,"name":"partition","nodeType":"VariableDeclaration","scope":3099,"src":"12023:23:9","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":3043,"name":"uint","nodeType":"ElementaryTypeName","src":"12023:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":3044,"length":null,"nodeType":"ArrayTypeName","src":"12023:6:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"value":null,"visibility":"internal"}],"id":3051,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":3047,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2128,"src":"12072:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":3049,"indexExpression":{"argumentTypes":null,"id":3048,"name":"conditionsLeft","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3029,"src":"12085:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"12072:28:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":3046,"name":"generateBasicPartition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2883,"src":"12049:22:9","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_bytes32_$returns$_t_array$_t_uint256_$dyn_memory_ptr_$","typeString":"function (bytes32) view returns (uint256[] memory)"}},"id":3050,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"12049:52:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"nodeType":"VariableDeclarationStatement","src":"12023:78:9"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":3055,"name":"collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2125,"src":"12135:15:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5379","typeString":"contract IERC20"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":3057,"name":"parentCollectionId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3031,"src":"12160:18:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":3056,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"12152:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_bytes32_$","typeString":"type(bytes32)"},"typeName":"bytes32"},"id":3058,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"12152:27:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":3059,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2128,"src":"12181:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":3061,"indexExpression":{"argumentTypes":null,"id":3060,"name":"conditionsLeft","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3029,"src":"12194:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"12181:28:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"argumentTypes":null,"id":3062,"name":"partition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3045,"src":"12211:9:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},{"argumentTypes":null,"id":3063,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3027,"src":"12222:6:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IERC20_$5379","typeString":"contract IERC20"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":3052,"name":"pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2123,"src":"12111:8:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1594","typeString":"contract PredictionMarketSystem"}},"id":3054,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"mergePositions","nodeType":"MemberAccess","referencedDeclaration":1315,"src":"12111:23:9","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_contract$_IERC20_$5379_$_t_bytes32_$_t_bytes32_$_t_array$_t_uint256_$dyn_memory_ptr_$_t_uint256_$returns$__$","typeString":"function (contract IERC20,bytes32,bytes32,uint256[] memory,uint256) external"}},"id":3064,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"12111:118:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":3065,"nodeType":"ExpressionStatement","src":"12111:118:9"},{"body":{"id":3097,"nodeType":"Block","src":"12282:273:9","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":3078,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3027,"src":"12348:6:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":3079,"name":"conditionsLeft","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3029,"src":"12372:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":3094,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":3080,"name":"parentCollectionId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3031,"src":"12404:18:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":3085,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2128,"src":"12478:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":3087,"indexExpression":{"argumentTypes":null,"id":3086,"name":"conditionsLeft","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3029,"src":"12491:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"12478:28:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":3088,"name":"partition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3045,"src":"12528:9:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":3090,"indexExpression":{"argumentTypes":null,"id":3089,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3067,"src":"12538:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"12528:12:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":3083,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5400,"src":"12440:3:9","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":3084,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"encodePacked","nodeType":"MemberAccess","referencedDeclaration":null,"src":"12440:16:9","typeDescriptions":{"typeIdentifier":"t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":3091,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"12440:101:9","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":3082,"name":"keccak256","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5407,"src":"12430:9:9","typeDescriptions":{"typeIdentifier":"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$","typeString":"function (bytes memory) pure returns (bytes32)"}},"id":3092,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"12430:112:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":3081,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"12425:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":3093,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"12425:118:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"12404:139:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":3077,"name":"mergePositionsThroughAllConditions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3100,"src":"12296:34:9","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (uint256,uint256,uint256)"}},"id":3095,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"12296:248:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":3096,"nodeType":"ExpressionStatement","src":"12296:248:9"}]},"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":3073,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":3070,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3067,"src":"12255:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":3071,"name":"partition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3045,"src":"12259:9:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":3072,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","referencedDeclaration":null,"src":"12259:16:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"12255:20:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":3098,"initializationExpression":{"assignments":[3067],"declarations":[{"constant":false,"id":3067,"name":"i","nodeType":"VariableDeclaration","scope":3098,"src":"12243:6:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":3066,"name":"uint","nodeType":"ElementaryTypeName","src":"12243:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":3069,"initialValue":{"argumentTypes":null,"hexValue":"30","id":3068,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"12252:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"12243:10:9"},"loopExpression":{"expression":{"argumentTypes":null,"id":3075,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"12277:3:9","subExpression":{"argumentTypes":null,"id":3074,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3067,"src":"12277:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":3076,"nodeType":"ExpressionStatement","src":"12277:3:9"},"nodeType":"ForStatement","src":"12239:316:9"}]},"documentation":null,"id":3100,"implemented":true,"kind":"function","modifiers":[],"name":"mergePositionsThroughAllConditions","nodeType":"FunctionDefinition","parameters":{"id":3032,"nodeType":"ParameterList","parameters":[{"constant":false,"id":3027,"name":"amount","nodeType":"VariableDeclaration","scope":3100,"src":"11867:11:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":3026,"name":"uint","nodeType":"ElementaryTypeName","src":"11867:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":3029,"name":"conditionsLeft","nodeType":"VariableDeclaration","scope":3100,"src":"11880:19:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":3028,"name":"uint","nodeType":"ElementaryTypeName","src":"11880:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":3031,"name":"parentCollectionId","nodeType":"VariableDeclaration","scope":3100,"src":"11901:23:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":3030,"name":"uint","nodeType":"ElementaryTypeName","src":"11901:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"11866:59:9"},"returnParameters":{"id":3033,"nodeType":"ParameterList","parameters":[],"src":"11946:0:9"},"scope":3101,"src":"11823:738:9","stateMutability":"nonpayable","superFunction":null,"visibility":"private"}],"scope":3102,"src":"340:12223:9"}],"src":"0:12563:9"},"compiler":{"name":"solc","version":"0.5.1+commit.c8a2cb62.Emscripten.clang"},"networks":{},"schemaVersion":"3.0.1","updatedAt":"2019-02-21T10:11:37.195Z","devdoc":{"methods":{"calcMarketFee(uint256)":{"details":"Calculates fee to be paid to market maker","params":{"outcomeTokenCost":"Cost for buying outcome tokens"},"return":"Fee for trade"},"changeFunding(int256)":{"details":"Allows to fund the market with collateral tokens converting them into outcome tokens Note for the future: should combine splitPosition and mergePositions into one function, as code duplication causes things like this to happen."},"close()":{"details":"Allows market owner to close the markets by transferring all remaining outcome tokens to the owner"},"isOwner()":{"return":"true if `msg.sender` is the owner of the contract."},"owner()":{"return":"the address of the owner."},"renounceOwnership()":{"details":"Allows the current owner to relinquish control of the contract."},"trade(int256[],int256)":{"details":"Allows to trade outcome tokens and collateral with the market maker","params":{"collateralLimit":"If positive, this is the limit for the amount of collateral tokens which will be sent to the market to conduct the trade. If negative, this is the minimum amount of collateral tokens which will be received from the market for the trade. If zero, there is no limit.","outcomeTokenAmounts":"Amounts of each atomic outcome token to buy or sell. If positive, will buy this amount of outcome token from the market. If negative, will sell this amount back to the market instead. The indices of this array range from 0 to product(all conditions\' outcomeSlotCounts)-1. For example, with two conditions with three outcome slots each and one condition with two outcome slots, you will have 3*3*2=18 total atomic outcome tokens, and the indices will range from 0 to 17. The indices map to atomic outcome slots depending on the order of the conditionIds. Let\'s say the first condition has slots A, B, C the second has slots X, Y, and the third has slots I, J, K. We can associate each atomic outcome token with indices by this map: A&X&I == 0 B&X&I == 1 C&X&I == 2 A&Y&I == 3 B&Y&I == 4 C&Y&I == 5 A&X&J == 6 B&X&J == 7 C&X&J == 8 A&Y&J == 9 B&Y&J == 10 C&Y&J == 11 A&X&K == 12 B&X&K == 13 C&X&K == 14 A&Y&K == 15 B&Y&K == 16 C&Y&K == 17 This order is calculated via the generateAtomicPositionId function below: C&Y&I -> (2, 1, 0) -> 2 + 3 * (1 + 2 * (0 + 3 * (0 + 0)))"},"return":"If positive, the amount of collateral sent to the market. If negative, the amount of collateral received from the market. If zero, no collateral was sent or received."},"transferOwnership(address)":{"details":"Allows the current owner to transfer control of the contract to a newOwner.","params":{"newOwner":"The address to transfer ownership to."}},"withdrawFees()":{"details":"Allows market owner to withdraw fees generated by trades","return":"Fee amount"}}},"userdoc":{"methods":{"renounceOwnership()":{"notice":"Renouncing to ownership will leave the contract without an owner. It will not be possible to call the functions with the `onlyOwner` modifier anymore."}}}};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiI1MjIuanMiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///522\n')}}]);