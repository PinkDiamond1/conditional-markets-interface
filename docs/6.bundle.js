(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{501:function(module){eval('module.exports = {"contractName":"MarketMaker","abi":[{"constant":true,"inputs":[],"name":"pmSystem","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"renounceOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"isOwner","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"collateralToken","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"stage","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"funding","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"uint256"}],"name":"conditionIds","outputs":[{"name":"","type":"bytes32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"atomicOutcomeSlotCount","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"fee","outputs":[{"name":"","type":"uint64"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"FEE_RANGE","outputs":[{"name":"","type":"uint64"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[{"name":"_pmSystem","type":"address"},{"name":"_collateralToken","type":"address"},{"name":"_conditionIds","type":"bytes32[]"},{"name":"_fee","type":"uint64"},{"name":"initialFunding","type":"uint256"},{"name":"marketOwner","type":"address"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"name":"initialFunding","type":"uint256"}],"name":"AMMCreated","type":"event"},{"anonymous":false,"inputs":[],"name":"AMMPaused","type":"event"},{"anonymous":false,"inputs":[],"name":"AMMResumed","type":"event"},{"anonymous":false,"inputs":[],"name":"AMMClosed","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"fundingChange","type":"int256"}],"name":"AMMFundingChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"newFee","type":"uint64"}],"name":"AMMFeeChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"fees","type":"uint256"}],"name":"AMMFeeWithdrawal","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"transactor","type":"address"},{"indexed":false,"name":"outcomeTokenAmounts","type":"int256[]"},{"indexed":false,"name":"outcomeTokenNetCost","type":"int256"},{"indexed":false,"name":"marketFees","type":"uint256"}],"name":"AMMOutcomeTokenTrade","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"previousOwner","type":"address"},{"indexed":true,"name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"constant":true,"inputs":[{"name":"outcomeTokenAmounts","type":"int256[]"}],"name":"calcNetCost","outputs":[{"name":"netCost","type":"int256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"fundingChange","type":"int256"}],"name":"changeFunding","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[],"name":"pause","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[],"name":"resume","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_fee","type":"uint64"}],"name":"changeFee","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[],"name":"close","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[],"name":"withdrawFees","outputs":[{"name":"fees","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"outcomeTokenAmounts","type":"int256[]"},{"name":"collateralLimit","type":"int256"}],"name":"trade","outputs":[{"name":"netCost","type":"int256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"outcomeTokenCost","type":"uint256"}],"name":"calcMarketFee","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"operator","type":"address"},{"name":"","type":"address"},{"name":"","type":"uint256"},{"name":"","type":"uint256"},{"name":"","type":"bytes"}],"name":"onERC1155Received","outputs":[{"name":"","type":"bytes4"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_operator","type":"address"},{"name":"","type":"address"},{"name":"","type":"uint256[]"},{"name":"","type":"uint256[]"},{"name":"","type":"bytes"}],"name":"onERC1155BatchReceived","outputs":[{"name":"","type":"bytes4"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"conditionId","type":"bytes32"}],"name":"generateBasicPartition","outputs":[{"name":"partition","type":"uint256[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"i","type":"uint256"}],"name":"generateAtomicPositionId","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"amount","type":"uint256"},{"name":"conditionsLeft","type":"uint256"},{"name":"parentCollectionId","type":"uint256"}],"name":"splitPositionThroughAllConditions","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"}],"bytecode":"0x","deployedBytecode":"0x","sourceMap":"","deployedSourceMap":"","source":"pragma solidity ^0.5.1;\\nimport \\"erc-1155/contracts/IERC1155TokenReceiver.sol\\";\\nimport \\"openzeppelin-solidity/contracts/ownership/Ownable.sol\\";\\nimport \\"openzeppelin-solidity/contracts/math/SafeMath.sol\\";\\nimport \\"@gnosis.pm/util-contracts/contracts/SignedSafeMath.sol\\";\\nimport \\"@gnosis.pm/hg-contracts/contracts/PredictionMarketSystem.sol\\";\\n\\ncontract MarketMaker is Ownable, IERC1155TokenReceiver {\\n    using SignedSafeMath for int;\\n    using SafeMath for uint;\\n    /*\\n     *  Constants\\n     */    \\n    uint64 public constant FEE_RANGE = 10**18;\\n\\n    /*\\n     *  Events\\n     */\\n    event AMMCreated(uint initialFunding);\\n    event AMMPaused();\\n    event AMMResumed();\\n    event AMMClosed();\\n    event AMMFundingChanged(int fundingChange);\\n    event AMMFeeChanged(uint64 newFee);\\n    event AMMFeeWithdrawal(uint fees);\\n    event AMMOutcomeTokenTrade(address indexed transactor, int[] outcomeTokenAmounts, int outcomeTokenNetCost, uint marketFees);\\n    \\n    /*\\n     *  Storage\\n     */\\n    PredictionMarketSystem public pmSystem;\\n    IERC20 public collateralToken;\\n    bytes32[] public conditionIds;\\n    uint public atomicOutcomeSlotCount;\\n    uint64 public fee;\\n    uint public funding;\\n    Stage public stage;\\n    enum Stage {\\n        Running,\\n        Paused,\\n        Closed\\n    }\\n\\n    /*\\n     *  Modifiers\\n     */\\n    modifier atStage(Stage _stage) {\\n        // Contract has to be in given stage\\n        require(stage == _stage);\\n        _;\\n    }\\n\\n    constructor(PredictionMarketSystem _pmSystem, IERC20 _collateralToken, bytes32[] memory _conditionIds, uint64 _fee, uint initialFunding, address marketOwner)\\n        public\\n    {\\n        // Validate inputs\\n        require(address(_pmSystem) != address(0) && _fee < FEE_RANGE);\\n        pmSystem = _pmSystem;\\n        collateralToken = _collateralToken;\\n        conditionIds = _conditionIds;\\n        fee = _fee;\\n\\n        atomicOutcomeSlotCount = 1;\\n        for (uint i = 0; i < conditionIds.length; i++) {\\n            atomicOutcomeSlotCount *= pmSystem.getOutcomeSlotCount(conditionIds[i]);\\n        }\\n        require(atomicOutcomeSlotCount > 1, \\"conditions must be valid\\");\\n\\n        require(collateralToken.transferFrom(marketOwner, address(this), initialFunding) && collateralToken.approve(address(pmSystem), initialFunding));\\n\\n        splitPositionThroughAllConditions(initialFunding, conditionIds.length, 0);\\n\\n        funding = initialFunding;\\n\\n        stage = Stage.Running;\\n        emit AMMCreated(funding);\\n    }\\n\\n    function calcNetCost(int[] memory outcomeTokenAmounts) public view returns (int netCost);\\n\\n    /// @dev Allows to fund the market with collateral tokens converting them into outcome tokens\\n    /// Note for the future: should combine splitPosition and mergePositions into one function, as code duplication causes things like this to happen.\\n    function changeFunding(int fundingChange)\\n        public\\n        onlyOwner\\n        atStage(Stage.Paused)\\n    {\\n        require(fundingChange != 0, \\"A fundingChange of zero is not a fundingChange at all. It is unacceptable.\\");\\n        // Either add or subtract funding based off whether the fundingChange parameter is negative or positive\\n        if (fundingChange > 0) {\\n            require(collateralToken.transferFrom(msg.sender, address(this), uint(fundingChange)) && collateralToken.approve(address(pmSystem), uint(fundingChange)));\\n            splitPositionThroughAllConditions(uint(fundingChange), conditionIds.length, 0);\\n            funding = funding.add(uint(fundingChange));\\n            emit AMMFundingChanged(fundingChange);\\n        }\\n        // THIS FUNCTIONALITY IS NOT READY: It wont work until mergePositionsthroughAllConditions works.\\n        if (fundingChange < 0) {\\n            // mergePositionsThroughAllConditions(uint(-fundingChange), 0, generateAtomicCollectionId(0));\\n            // funding = funding.sub(uint(-fundingChange));\\n            // require(collateralToken.transfer(owner(), uint(-fundingChange)));\\n            // emit AMMFundingChanged(fundingChange);\\n            revert();\\n        }\\n    }\\n\\n    function pause() public onlyOwner atStage(Stage.Running) {\\n        stage = Stage.Paused;\\n        emit AMMPaused();\\n    }\\n    \\n    function resume() public onlyOwner atStage(Stage.Paused) {\\n        stage = Stage.Running;\\n        emit AMMResumed();\\n    }\\n\\n    function changeFee(uint64 _fee) public onlyOwner atStage(Stage.Paused) {\\n        fee = _fee;\\n        emit AMMFeeChanged(fee);\\n    }\\n\\n    /// @dev Allows market owner to close the markets by transferring all remaining outcome tokens to the owner\\n    function close()\\n        public\\n        onlyOwner\\n    {\\n        require(stage == Stage.Running || stage == Stage.Paused, \\"This Market has already been closed\\");\\n        for (uint i = 0; i < atomicOutcomeSlotCount; i++) {\\n            uint positionId = generateAtomicPositionId(i);\\n            pmSystem.safeTransferFrom(address(this), owner(), positionId, pmSystem.balanceOf(address(this), positionId), \\"\\");\\n        }\\n        stage = Stage.Closed;\\n        emit AMMClosed();\\n    }\\n\\n    /// @dev Allows market owner to withdraw fees generated by trades\\n    /// @return Fee amount\\n    function withdrawFees()\\n        public\\n        onlyOwner\\n        returns (uint fees)\\n    {\\n        fees = collateralToken.balanceOf(address(this));\\n        // Transfer fees\\n        require(collateralToken.transfer(owner(), fees));\\n        emit AMMFeeWithdrawal(fees);\\n    }\\n\\n    /// @dev Allows to trade outcome tokens and collateral with the market maker\\n    /// @param outcomeTokenAmounts Amounts of each atomic outcome token to buy or sell. If positive, will buy this amount of outcome token from the market. If negative, will sell this amount back to the market instead. The indices of this array range from 0 to product(all conditions\' outcomeSlotCounts)-1. For example, with two conditions with three outcome slots each and one condition with two outcome slots, you will have 3*3*2=18 total atomic outcome tokens, and the indices will range from 0 to 17. The indices map to atomic outcome slots depending on the order of the conditionIds. Let\'s say the first condition has slots A, B, C the second has slots X, Y, and the third has slots I, J, K. We can associate each atomic outcome token with indices by this map:\\n    /// A&X&I == 0\\n    /// B&X&I == 1\\n    /// C&X&I == 2\\n    /// A&Y&I == 3\\n    /// B&Y&I == 4\\n    /// C&Y&I == 5\\n    /// A&X&J == 6\\n    /// B&X&J == 7\\n    /// C&X&J == 8\\n    /// A&Y&J == 9\\n    /// B&Y&J == 10\\n    /// C&Y&J == 11\\n    /// A&X&K == 12\\n    /// B&X&K == 13\\n    /// C&X&K == 14\\n    /// A&Y&K == 15\\n    /// B&Y&K == 16\\n    /// C&Y&K == 17\\n    /// This order is calculated via the generateAtomicPositionId function below: C&Y&I -> (2, 1, 0) -> 2 + 3 * (1 + 2 * (0 + 3 * (0 + 0)))\\n    /// @param collateralLimit If positive, this is the limit for the amount of collateral tokens which will be sent to the market to conduct the trade. If negative, this is the minimum amount of collateral tokens which will be received from the market for the trade. If zero, there is no limit.\\n    /// @return If positive, the amount of collateral sent to the market. If negative, the amount of collateral received from the market. If zero, no collateral was sent or received.\\n    function trade(int[] memory outcomeTokenAmounts, int collateralLimit)\\n        public\\n        atStage(Stage.Running)\\n        returns (int netCost)\\n    {\\n        require(outcomeTokenAmounts.length == atomicOutcomeSlotCount);\\n\\n        // Calculate net cost for executing trade\\n        int outcomeTokenNetCost = calcNetCost(outcomeTokenAmounts);\\n        int fees;\\n        if(outcomeTokenNetCost < 0)\\n            fees = int(calcMarketFee(uint(-outcomeTokenNetCost)));\\n        else\\n            fees = int(calcMarketFee(uint(outcomeTokenNetCost)));\\n\\n        require(fees >= 0);\\n        netCost = outcomeTokenNetCost.add(fees);\\n\\n        require(\\n            (collateralLimit != 0 && netCost <= collateralLimit) ||\\n            collateralLimit == 0\\n        );\\n\\n        if(outcomeTokenNetCost > 0) {\\n            require(\\n                collateralToken.transferFrom(msg.sender, address(this), uint(netCost)) &&\\n                collateralToken.approve(address(pmSystem), uint(outcomeTokenNetCost))\\n            );\\n\\n            splitPositionThroughAllConditions(uint(outcomeTokenNetCost), conditionIds.length, 0);\\n        }\\n\\n        for (uint i = 0; i < atomicOutcomeSlotCount; i++) {\\n            if(outcomeTokenAmounts[i] != 0) {\\n                uint positionId = generateAtomicPositionId(i);\\n                if(outcomeTokenAmounts[i] < 0) {\\n                    pmSystem.safeTransferFrom(msg.sender, address(this), positionId, uint(-outcomeTokenAmounts[i]), \\"\\");\\n                } else {\\n                    pmSystem.safeTransferFrom(address(this), msg.sender, positionId, uint(outcomeTokenAmounts[i]), \\"\\");\\n                }\\n\\n            }\\n        }\\n\\n        if(outcomeTokenNetCost < 0) {\\n            // This is safe since\\n            // 0x8000000000000000000000000000000000000000000000000000000000000000 ==\\n            // uint(-int(-0x8000000000000000000000000000000000000000000000000000000000000000))\\n            if(netCost < 0) {\\n                for (uint i=0; i<atomicOutcomeSlotCount; i++) {\\n                        uint positionId = generateAtomicPositionId(i);\\n                        pmSystem.safeTransferFrom(address(this), msg.sender, positionId, uint(-netCost), \\"\\");\\n                }\\n            }\\n        }\\n        \\n        emit AMMOutcomeTokenTrade(msg.sender, outcomeTokenAmounts, outcomeTokenNetCost, uint(fees));\\n    }\\n\\n    /// @dev Calculates fee to be paid to market maker\\n    /// @param outcomeTokenCost Cost for buying outcome tokens\\n    /// @return Fee for trade\\n    function calcMarketFee(uint outcomeTokenCost)\\n        public\\n        view\\n        returns (uint)\\n    {\\n        return outcomeTokenCost * fee / FEE_RANGE;\\n    }\\n\\n    function onERC1155Received(address operator, address /*from*/, uint256 /*id*/, uint256 /*value*/, bytes calldata /*data*/) external returns(bytes4) {\\n        if (operator == address(this)) {\\n            return 0xf23a6e61;\\n        }\\n        return 0x0;\\n    }\\n\\n    function onERC1155BatchReceived(address _operator, address /*from*/, uint256[] calldata /*ids*/, uint256[] calldata /*values*/, bytes calldata /*data*/) external returns(bytes4) {\\n        if (_operator == address(this)) {\\n            return 0xf23a6e61;\\n        }\\n        return 0x0;\\n    }\\n\\n    function generateBasicPartition(bytes32 conditionId)\\n        public\\n        view\\n        returns (uint[] memory partition)\\n    {\\n        partition = new uint[](pmSystem.getOutcomeSlotCount(conditionId));\\n        for(uint i = 0; i < partition.length; i++) {\\n            partition[i] = 1 << i;\\n        }\\n    }\\n\\n    function generateAtomicPositionId(uint i)\\n        public\\n        view\\n        returns (uint)\\n    {\\n        uint collectionId = 0;\\n\\n        for(uint k = 0; k < conditionIds.length; k++) {\\n            uint curOutcomeSlotCount = pmSystem.getOutcomeSlotCount(conditionIds[k]);\\n            collectionId += uint(keccak256(abi.encodePacked(\\n                conditionIds[k],\\n                1 << (i % curOutcomeSlotCount))));\\n            i /= curOutcomeSlotCount;\\n        }\\n        return uint(keccak256(abi.encodePacked(\\n            collateralToken,\\n            collectionId)));\\n    }\\n\\n    function splitPositionThroughAllConditions(uint amount, uint conditionsLeft, uint parentCollectionId)\\n        public\\n    {\\n        if(conditionsLeft == 0) return;\\n        conditionsLeft--;\\n\\n        uint[] memory partition = generateBasicPartition(conditionIds[conditionsLeft]);\\n        pmSystem.splitPosition(collateralToken, bytes32(parentCollectionId), conditionIds[conditionsLeft], partition, amount);\\n        for(uint i = 0; i < partition.length; i++) {\\n            splitPositionThroughAllConditions(\\n                amount,\\n                conditionsLeft,\\n                parentCollectionId + uint(keccak256(abi.encodePacked(\\n                    conditionIds[conditionsLeft],\\n                    partition[i]))));\\n        }\\n    }\\n\\n    function mergePositionsThroughAllConditions(uint amount, uint conditionsLeft, uint parentCollectionId)\\n        private\\n    {\\n        if(conditionsLeft == 0) return;\\n        conditionsLeft--;\\n\\n        uint[] memory partition = generateBasicPartition(conditionIds[conditionsLeft]);\\n        pmSystem.mergePositions(collateralToken, bytes32(parentCollectionId), conditionIds[conditionsLeft], partition, amount);\\n        for(uint i = 0; i < partition.length; i++) {\\n            mergePositionsThroughAllConditions(\\n                amount,\\n                conditionsLeft,\\n                parentCollectionId + uint(keccak256(abi.encodePacked(\\n                    conditionIds[conditionsLeft],\\n                    partition[i]))));\\n        }\\n    }\\n}\\n","sourcePath":"@gnosis.pm/hg-market-makers/contracts/MarketMaker.sol","ast":{"absolutePath":"@gnosis.pm/hg-market-makers/contracts/MarketMaker.sol","exportedSymbols":{"MarketMaker":[3082]},"id":3083,"nodeType":"SourceUnit","nodes":[{"id":2070,"literals":["solidity","^","0.5",".1"],"nodeType":"PragmaDirective","src":"0:23:9"},{"absolutePath":"erc-1155/contracts/IERC1155TokenReceiver.sol","file":"erc-1155/contracts/IERC1155TokenReceiver.sol","id":2071,"nodeType":"ImportDirective","scope":3083,"sourceUnit":5045,"src":"24:54:9","symbolAliases":[],"unitAlias":""},{"absolutePath":"openzeppelin-solidity/contracts/ownership/Ownable.sol","file":"openzeppelin-solidity/contracts/ownership/Ownable.sol","id":2072,"nodeType":"ImportDirective","scope":3083,"sourceUnit":5292,"src":"79:63:9","symbolAliases":[],"unitAlias":""},{"absolutePath":"openzeppelin-solidity/contracts/math/SafeMath.sol","file":"openzeppelin-solidity/contracts/math/SafeMath.sol","id":2073,"nodeType":"ImportDirective","scope":3083,"sourceUnit":5183,"src":"143:59:9","symbolAliases":[],"unitAlias":""},{"absolutePath":"@gnosis.pm/util-contracts/contracts/SignedSafeMath.sol","file":"@gnosis.pm/util-contracts/contracts/SignedSafeMath.sol","id":2074,"nodeType":"ImportDirective","scope":3083,"sourceUnit":4234,"src":"203:64:9","symbolAliases":[],"unitAlias":""},{"absolutePath":"@gnosis.pm/hg-contracts/contracts/PredictionMarketSystem.sol","file":"@gnosis.pm/hg-contracts/contracts/PredictionMarketSystem.sol","id":2075,"nodeType":"ImportDirective","scope":3083,"sourceUnit":1597,"src":"268:70:9","symbolAliases":[],"unitAlias":""},{"baseContracts":[{"arguments":null,"baseName":{"contractScope":null,"id":2076,"name":"Ownable","nodeType":"UserDefinedTypeName","referencedDeclaration":5291,"src":"364:7:9","typeDescriptions":{"typeIdentifier":"t_contract$_Ownable_$5291","typeString":"contract Ownable"}},"id":2077,"nodeType":"InheritanceSpecifier","src":"364:7:9"},{"arguments":null,"baseName":{"contractScope":null,"id":2078,"name":"IERC1155TokenReceiver","nodeType":"UserDefinedTypeName","referencedDeclaration":5044,"src":"373:21:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC1155TokenReceiver_$5044","typeString":"contract IERC1155TokenReceiver"}},"id":2079,"nodeType":"InheritanceSpecifier","src":"373:21:9"}],"contractDependencies":[5044,5291],"contractKind":"contract","documentation":null,"fullyImplemented":false,"id":3082,"linearizedBaseContracts":[3082,5044,5291],"name":"MarketMaker","nodeType":"ContractDefinition","nodes":[{"id":2082,"libraryName":{"contractScope":null,"id":2080,"name":"SignedSafeMath","nodeType":"UserDefinedTypeName","referencedDeclaration":4233,"src":"407:14:9","typeDescriptions":{"typeIdentifier":"t_contract$_SignedSafeMath_$4233","typeString":"library SignedSafeMath"}},"nodeType":"UsingForDirective","src":"401:29:9","typeName":{"id":2081,"name":"int","nodeType":"ElementaryTypeName","src":"426:3:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}},{"id":2085,"libraryName":{"contractScope":null,"id":2083,"name":"SafeMath","nodeType":"UserDefinedTypeName","referencedDeclaration":5182,"src":"441:8:9","typeDescriptions":{"typeIdentifier":"t_contract$_SafeMath_$5182","typeString":"library SafeMath"}},"nodeType":"UsingForDirective","src":"435:24:9","typeName":{"id":2084,"name":"uint","nodeType":"ElementaryTypeName","src":"454:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}},{"constant":true,"id":2090,"name":"FEE_RANGE","nodeType":"VariableDeclaration","scope":3082,"src":"501:41:9","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"},"typeName":{"id":2086,"name":"uint64","nodeType":"ElementaryTypeName","src":"501:6:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"value":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_rational_1000000000000000000_by_1","typeString":"int_const 1000000000000000000"},"id":2089,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"hexValue":"3130","id":2087,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"536:2:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_10_by_1","typeString":"int_const 10"},"value":"10"},"nodeType":"BinaryOperation","operator":"**","rightExpression":{"argumentTypes":null,"hexValue":"3138","id":2088,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"540:2:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_18_by_1","typeString":"int_const 18"},"value":"18"},"src":"536:6:9","typeDescriptions":{"typeIdentifier":"t_rational_1000000000000000000_by_1","typeString":"int_const 1000000000000000000"}},"visibility":"public"},{"anonymous":false,"documentation":null,"id":2094,"name":"AMMCreated","nodeType":"EventDefinition","parameters":{"id":2093,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2092,"indexed":false,"name":"initialFunding","nodeType":"VariableDeclaration","scope":2094,"src":"596:19:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2091,"name":"uint","nodeType":"ElementaryTypeName","src":"596:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"595:21:9"},"src":"579:38:9"},{"anonymous":false,"documentation":null,"id":2096,"name":"AMMPaused","nodeType":"EventDefinition","parameters":{"id":2095,"nodeType":"ParameterList","parameters":[],"src":"637:2:9"},"src":"622:18:9"},{"anonymous":false,"documentation":null,"id":2098,"name":"AMMResumed","nodeType":"EventDefinition","parameters":{"id":2097,"nodeType":"ParameterList","parameters":[],"src":"661:2:9"},"src":"645:19:9"},{"anonymous":false,"documentation":null,"id":2100,"name":"AMMClosed","nodeType":"EventDefinition","parameters":{"id":2099,"nodeType":"ParameterList","parameters":[],"src":"684:2:9"},"src":"669:18:9"},{"anonymous":false,"documentation":null,"id":2104,"name":"AMMFundingChanged","nodeType":"EventDefinition","parameters":{"id":2103,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2102,"indexed":false,"name":"fundingChange","nodeType":"VariableDeclaration","scope":2104,"src":"716:17:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":2101,"name":"int","nodeType":"ElementaryTypeName","src":"716:3:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"value":null,"visibility":"internal"}],"src":"715:19:9"},"src":"692:43:9"},{"anonymous":false,"documentation":null,"id":2108,"name":"AMMFeeChanged","nodeType":"EventDefinition","parameters":{"id":2107,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2106,"indexed":false,"name":"newFee","nodeType":"VariableDeclaration","scope":2108,"src":"760:13:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"},"typeName":{"id":2105,"name":"uint64","nodeType":"ElementaryTypeName","src":"760:6:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"value":null,"visibility":"internal"}],"src":"759:15:9"},"src":"740:35:9"},{"anonymous":false,"documentation":null,"id":2112,"name":"AMMFeeWithdrawal","nodeType":"EventDefinition","parameters":{"id":2111,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2110,"indexed":false,"name":"fees","nodeType":"VariableDeclaration","scope":2112,"src":"803:9:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2109,"name":"uint","nodeType":"ElementaryTypeName","src":"803:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"802:11:9"},"src":"780:34:9"},{"anonymous":false,"documentation":null,"id":2123,"name":"AMMOutcomeTokenTrade","nodeType":"EventDefinition","parameters":{"id":2122,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2114,"indexed":true,"name":"transactor","nodeType":"VariableDeclaration","scope":2123,"src":"846:26:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2113,"name":"address","nodeType":"ElementaryTypeName","src":"846:7:9","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":2117,"indexed":false,"name":"outcomeTokenAmounts","nodeType":"VariableDeclaration","scope":2123,"src":"874:25:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_memory_ptr","typeString":"int256[]"},"typeName":{"baseType":{"id":2115,"name":"int","nodeType":"ElementaryTypeName","src":"874:3:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":2116,"length":null,"nodeType":"ArrayTypeName","src":"874:5:9","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_storage_ptr","typeString":"int256[]"}},"value":null,"visibility":"internal"},{"constant":false,"id":2119,"indexed":false,"name":"outcomeTokenNetCost","nodeType":"VariableDeclaration","scope":2123,"src":"901:23:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":2118,"name":"int","nodeType":"ElementaryTypeName","src":"901:3:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"value":null,"visibility":"internal"},{"constant":false,"id":2121,"indexed":false,"name":"marketFees","nodeType":"VariableDeclaration","scope":2123,"src":"926:15:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2120,"name":"uint","nodeType":"ElementaryTypeName","src":"926:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"845:97:9"},"src":"819:124:9"},{"constant":false,"id":2125,"name":"pmSystem","nodeType":"VariableDeclaration","scope":3082,"src":"984:38:9","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"},"typeName":{"contractScope":null,"id":2124,"name":"PredictionMarketSystem","nodeType":"UserDefinedTypeName","referencedDeclaration":1596,"src":"984:22:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}},"value":null,"visibility":"public"},{"constant":false,"id":2127,"name":"collateralToken","nodeType":"VariableDeclaration","scope":3082,"src":"1028:29:9","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5418","typeString":"contract IERC20"},"typeName":{"contractScope":null,"id":2126,"name":"IERC20","nodeType":"UserDefinedTypeName","referencedDeclaration":5418,"src":"1028:6:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5418","typeString":"contract IERC20"}},"value":null,"visibility":"public"},{"constant":false,"id":2130,"name":"conditionIds","nodeType":"VariableDeclaration","scope":3082,"src":"1063:29:9","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[]"},"typeName":{"baseType":{"id":2128,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1063:7:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":2129,"length":null,"nodeType":"ArrayTypeName","src":"1063:9:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage_ptr","typeString":"bytes32[]"}},"value":null,"visibility":"public"},{"constant":false,"id":2132,"name":"atomicOutcomeSlotCount","nodeType":"VariableDeclaration","scope":3082,"src":"1098:34:9","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2131,"name":"uint","nodeType":"ElementaryTypeName","src":"1098:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"public"},{"constant":false,"id":2134,"name":"fee","nodeType":"VariableDeclaration","scope":3082,"src":"1138:17:9","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"},"typeName":{"id":2133,"name":"uint64","nodeType":"ElementaryTypeName","src":"1138:6:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"value":null,"visibility":"public"},{"constant":false,"id":2136,"name":"funding","nodeType":"VariableDeclaration","scope":3082,"src":"1161:19:9","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2135,"name":"uint","nodeType":"ElementaryTypeName","src":"1161:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"public"},{"constant":false,"id":2138,"name":"stage","nodeType":"VariableDeclaration","scope":3082,"src":"1186:18:9","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"},"typeName":{"contractScope":null,"id":2137,"name":"Stage","nodeType":"UserDefinedTypeName","referencedDeclaration":2142,"src":"1186:5:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}},"value":null,"visibility":"public"},{"canonicalName":"MarketMaker.Stage","id":2142,"members":[{"id":2139,"name":"Running","nodeType":"EnumValue","src":"1231:7:9"},{"id":2140,"name":"Paused","nodeType":"EnumValue","src":"1248:6:9"},{"id":2141,"name":"Closed","nodeType":"EnumValue","src":"1264:6:9"}],"name":"Stage","nodeType":"EnumDefinition","src":"1210:66:9"},{"body":{"id":2153,"nodeType":"Block","src":"1346:97:9","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"},"id":2149,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2147,"name":"stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2138,"src":"1409:5:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"id":2148,"name":"_stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2144,"src":"1418:6:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}},"src":"1409:15:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":2146,"name":"require","nodeType":"Identifier","overloadedDeclarations":[5455,5456],"referencedDeclaration":5455,"src":"1401:7:9","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":2150,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1401:24:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2151,"nodeType":"ExpressionStatement","src":"1401:24:9"},{"id":2152,"nodeType":"PlaceholderStatement","src":"1435:1:9"}]},"documentation":null,"id":2154,"name":"atStage","nodeType":"ModifierDefinition","parameters":{"id":2145,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2144,"name":"_stage","nodeType":"VariableDeclaration","scope":2154,"src":"1332:12:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"},"typeName":{"contractScope":null,"id":2143,"name":"Stage","nodeType":"UserDefinedTypeName","referencedDeclaration":2142,"src":"1332:5:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}},"value":null,"visibility":"internal"}],"src":"1331:14:9"},"src":"1315:128:9","visibility":"internal"},{"body":{"id":2272,"nodeType":"Block","src":"1626:838:9","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":2181,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":2177,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2172,"name":"_pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2156,"src":"1679:9:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}],"id":2171,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1671:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2173,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1671:18:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"30","id":2175,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1701:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":2174,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1693:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2176,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1693:10:9","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"src":"1671:32:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint64","typeString":"uint64"},"id":2180,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2178,"name":"_fee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2163,"src":"1707:4:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"id":2179,"name":"FEE_RANGE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2090,"src":"1714:9:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"src":"1707:16:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"1671:52:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":2170,"name":"require","nodeType":"Identifier","overloadedDeclarations":[5455,5456],"referencedDeclaration":5455,"src":"1663:7:9","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":2182,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1663:61:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2183,"nodeType":"ExpressionStatement","src":"1663:61:9"},{"expression":{"argumentTypes":null,"id":2186,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2184,"name":"pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2125,"src":"1734:8:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"id":2185,"name":"_pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2156,"src":"1745:9:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}},"src":"1734:20:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}},"id":2187,"nodeType":"ExpressionStatement","src":"1734:20:9"},{"expression":{"argumentTypes":null,"id":2190,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2188,"name":"collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2127,"src":"1764:15:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5418","typeString":"contract IERC20"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"id":2189,"name":"_collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2158,"src":"1782:16:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5418","typeString":"contract IERC20"}},"src":"1764:34:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5418","typeString":"contract IERC20"}},"id":2191,"nodeType":"ExpressionStatement","src":"1764:34:9"},{"expression":{"argumentTypes":null,"id":2194,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2192,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2130,"src":"1808:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"id":2193,"name":"_conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2161,"src":"1823:13:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_memory_ptr","typeString":"bytes32[] memory"}},"src":"1808:28:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":2195,"nodeType":"ExpressionStatement","src":"1808:28:9"},{"expression":{"argumentTypes":null,"id":2198,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2196,"name":"fee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2134,"src":"1846:3:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"id":2197,"name":"_fee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2163,"src":"1852:4:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"src":"1846:10:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"id":2199,"nodeType":"ExpressionStatement","src":"1846:10:9"},{"expression":{"argumentTypes":null,"id":2202,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2200,"name":"atomicOutcomeSlotCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2132,"src":"1867:22:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"hexValue":"31","id":2201,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1892:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"1867:26:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2203,"nodeType":"ExpressionStatement","src":"1867:26:9"},{"body":{"id":2224,"nodeType":"Block","src":"1950:96:9","statements":[{"expression":{"argumentTypes":null,"id":2222,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2215,"name":"atomicOutcomeSlotCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2132,"src":"1964:22:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"*=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2218,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2130,"src":"2019:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":2220,"indexExpression":{"argumentTypes":null,"id":2219,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2205,"src":"2032:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2019:15:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"expression":{"argumentTypes":null,"id":2216,"name":"pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2125,"src":"1990:8:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}},"id":2217,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"getOutcomeSlotCount","nodeType":"MemberAccess","referencedDeclaration":1567,"src":"1990:28:9","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_bytes32_$returns$_t_uint256_$","typeString":"function (bytes32) view external returns (uint256)"}},"id":2221,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1990:45:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1964:71:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2223,"nodeType":"ExpressionStatement","src":"1964:71:9"}]},"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2211,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2208,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2205,"src":"1920:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2209,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2130,"src":"1924:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":2210,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","referencedDeclaration":null,"src":"1924:19:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1920:23:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":2225,"initializationExpression":{"assignments":[2205],"declarations":[{"constant":false,"id":2205,"name":"i","nodeType":"VariableDeclaration","scope":2225,"src":"1908:6:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2204,"name":"uint","nodeType":"ElementaryTypeName","src":"1908:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":2207,"initialValue":{"argumentTypes":null,"hexValue":"30","id":2206,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1917:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"1908:10:9"},"loopExpression":{"expression":{"argumentTypes":null,"id":2213,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"1945:3:9","subExpression":{"argumentTypes":null,"id":2212,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2205,"src":"1945:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2214,"nodeType":"ExpressionStatement","src":"1945:3:9"},"nodeType":"ForStatement","src":"1903:143:9"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2229,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2227,"name":"atomicOutcomeSlotCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2132,"src":"2063:22:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"argumentTypes":null,"hexValue":"31","id":2228,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2088:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"2063:26:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"636f6e646974696f6e73206d7573742062652076616c6964","id":2230,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"2091:26:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_cd148311b7911b4ee79dcdb6c43a5e3ce4b2c17323005884872aa057fa3bf785","typeString":"literal_string \\"conditions must be valid\\""},"value":"conditions must be valid"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_cd148311b7911b4ee79dcdb6c43a5e3ce4b2c17323005884872aa057fa3bf785","typeString":"literal_string \\"conditions must be valid\\""}],"id":2226,"name":"require","nodeType":"Identifier","overloadedDeclarations":[5455,5456],"referencedDeclaration":5456,"src":"2055:7:9","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":2231,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2055:63:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2232,"nodeType":"ExpressionStatement","src":"2055:63:9"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":2249,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2236,"name":"marketOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2167,"src":"2166:11:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2238,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5489,"src":"2187:4:9","typeDescriptions":{"typeIdentifier":"t_contract$_MarketMaker_$3082","typeString":"contract MarketMaker"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_MarketMaker_$3082","typeString":"contract MarketMaker"}],"id":2237,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2179:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2239,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2179:13:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":2240,"name":"initialFunding","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2165,"src":"2194:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2234,"name":"collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2127,"src":"2137:15:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5418","typeString":"contract IERC20"}},"id":2235,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"transferFrom","nodeType":"MemberAccess","referencedDeclaration":5401,"src":"2137:28:9","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (address,address,uint256) external returns (bool)"}},"id":2241,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2137:72:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2245,"name":"pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2125,"src":"2245:8:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}],"id":2244,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2237:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2246,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2237:17:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":2247,"name":"initialFunding","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2165,"src":"2256:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2242,"name":"collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2127,"src":"2213:15:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5418","typeString":"contract IERC20"}},"id":2243,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"approve","nodeType":"MemberAccess","referencedDeclaration":5390,"src":"2213:23:9","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (address,uint256) external returns (bool)"}},"id":2248,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2213:58:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"2137:134:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":2233,"name":"require","nodeType":"Identifier","overloadedDeclarations":[5455,5456],"referencedDeclaration":5455,"src":"2129:7:9","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":2250,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2129:143:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2251,"nodeType":"ExpressionStatement","src":"2129:143:9"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2253,"name":"initialFunding","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2165,"src":"2317:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2254,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2130,"src":"2333:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":2255,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","referencedDeclaration":null,"src":"2333:19:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"hexValue":"30","id":2256,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2354:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":2252,"name":"splitPositionThroughAllConditions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3006,"src":"2283:33:9","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (uint256,uint256,uint256)"}},"id":2257,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2283:73:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2258,"nodeType":"ExpressionStatement","src":"2283:73:9"},{"expression":{"argumentTypes":null,"id":2261,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2259,"name":"funding","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2136,"src":"2367:7:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"id":2260,"name":"initialFunding","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2165,"src":"2377:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2367:24:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2262,"nodeType":"ExpressionStatement","src":"2367:24:9"},{"expression":{"argumentTypes":null,"id":2266,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2263,"name":"stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2138,"src":"2402:5:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2264,"name":"Stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2142,"src":"2410:5:9","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Stage_$2142_$","typeString":"type(enum MarketMaker.Stage)"}},"id":2265,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"Running","nodeType":"MemberAccess","referencedDeclaration":null,"src":"2410:13:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}},"src":"2402:21:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}},"id":2267,"nodeType":"ExpressionStatement","src":"2402:21:9"},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2269,"name":"funding","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2136,"src":"2449:7:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":2268,"name":"AMMCreated","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2094,"src":"2438:10:9","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_uint256_$returns$__$","typeString":"function (uint256)"}},"id":2270,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2438:19:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2271,"nodeType":"EmitStatement","src":"2433:24:9"}]},"documentation":null,"id":2273,"implemented":true,"kind":"constructor","modifiers":[],"name":"","nodeType":"FunctionDefinition","parameters":{"id":2168,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2156,"name":"_pmSystem","nodeType":"VariableDeclaration","scope":2273,"src":"1461:32:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"},"typeName":{"contractScope":null,"id":2155,"name":"PredictionMarketSystem","nodeType":"UserDefinedTypeName","referencedDeclaration":1596,"src":"1461:22:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}},"value":null,"visibility":"internal"},{"constant":false,"id":2158,"name":"_collateralToken","nodeType":"VariableDeclaration","scope":2273,"src":"1495:23:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5418","typeString":"contract IERC20"},"typeName":{"contractScope":null,"id":2157,"name":"IERC20","nodeType":"UserDefinedTypeName","referencedDeclaration":5418,"src":"1495:6:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5418","typeString":"contract IERC20"}},"value":null,"visibility":"internal"},{"constant":false,"id":2161,"name":"_conditionIds","nodeType":"VariableDeclaration","scope":2273,"src":"1520:30:9","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_memory_ptr","typeString":"bytes32[]"},"typeName":{"baseType":{"id":2159,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1520:7:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":2160,"length":null,"nodeType":"ArrayTypeName","src":"1520:9:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage_ptr","typeString":"bytes32[]"}},"value":null,"visibility":"internal"},{"constant":false,"id":2163,"name":"_fee","nodeType":"VariableDeclaration","scope":2273,"src":"1552:11:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"},"typeName":{"id":2162,"name":"uint64","nodeType":"ElementaryTypeName","src":"1552:6:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"value":null,"visibility":"internal"},{"constant":false,"id":2165,"name":"initialFunding","nodeType":"VariableDeclaration","scope":2273,"src":"1565:19:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2164,"name":"uint","nodeType":"ElementaryTypeName","src":"1565:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":2167,"name":"marketOwner","nodeType":"VariableDeclaration","scope":2273,"src":"1586:19:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2166,"name":"address","nodeType":"ElementaryTypeName","src":"1586:7:9","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"}],"src":"1460:146:9"},"returnParameters":{"id":2169,"nodeType":"ParameterList","parameters":[],"src":"1626:0:9"},"scope":3082,"src":"1449:1015:9","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"body":null,"documentation":null,"id":2281,"implemented":false,"kind":"function","modifiers":[],"name":"calcNetCost","nodeType":"FunctionDefinition","parameters":{"id":2277,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2276,"name":"outcomeTokenAmounts","nodeType":"VariableDeclaration","scope":2281,"src":"2491:32:9","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_memory_ptr","typeString":"int256[]"},"typeName":{"baseType":{"id":2274,"name":"int","nodeType":"ElementaryTypeName","src":"2491:3:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":2275,"length":null,"nodeType":"ArrayTypeName","src":"2491:5:9","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_storage_ptr","typeString":"int256[]"}},"value":null,"visibility":"internal"}],"src":"2490:34:9"},"returnParameters":{"id":2280,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2279,"name":"netCost","nodeType":"VariableDeclaration","scope":2281,"src":"2546:11:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":2278,"name":"int","nodeType":"ElementaryTypeName","src":"2546:3:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"value":null,"visibility":"internal"}],"src":"2545:13:9"},"scope":3082,"src":"2470:89:9","stateMutability":"view","superFunction":null,"visibility":"public"},{"body":{"id":2358,"nodeType":"Block","src":"2923:1114:9","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2295,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2293,"name":"fundingChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2283,"src":"2941:13:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"hexValue":"30","id":2294,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2958:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"2941:18:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"412066756e64696e674368616e6765206f66207a65726f206973206e6f7420612066756e64696e674368616e676520617420616c6c2e20497420697320756e61636365707461626c652e","id":2296,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"2961:76:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_8b0abfd0a6a26cf9e76f3923f83612ab8d81fdb0309d6dce5760bf580777c1fc","typeString":"literal_string \\"A fundingChange of zero is not a fundingChange at all. It is unacceptable.\\""},"value":"A fundingChange of zero is not a fundingChange at all. It is unacceptable."}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_8b0abfd0a6a26cf9e76f3923f83612ab8d81fdb0309d6dce5760bf580777c1fc","typeString":"literal_string \\"A fundingChange of zero is not a fundingChange at all. It is unacceptable.\\""}],"id":2292,"name":"require","nodeType":"Identifier","overloadedDeclarations":[5455,5456],"referencedDeclaration":5456,"src":"2933:7:9","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":2297,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2933:105:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2298,"nodeType":"ExpressionStatement","src":"2933:105:9"},{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2301,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2299,"name":"fundingChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2283,"src":"3164:13:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"argumentTypes":null,"hexValue":"30","id":2300,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3180:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"3164:17:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":2349,"nodeType":"IfStatement","src":"3160:399:9","trueBody":{"id":2348,"nodeType":"Block","src":"3183:376:9","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":2323,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2305,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5452,"src":"3234:3:9","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":2306,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"3234:10:9","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2308,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5489,"src":"3254:4:9","typeDescriptions":{"typeIdentifier":"t_contract$_MarketMaker_$3082","typeString":"contract MarketMaker"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_MarketMaker_$3082","typeString":"contract MarketMaker"}],"id":2307,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3246:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2309,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3246:13:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2311,"name":"fundingChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2283,"src":"3266:13:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2310,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3261:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2312,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3261:19:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address_payable","typeString":"address payable"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2303,"name":"collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2127,"src":"3205:15:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5418","typeString":"contract IERC20"}},"id":2304,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"transferFrom","nodeType":"MemberAccess","referencedDeclaration":5401,"src":"3205:28:9","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (address,address,uint256) external returns (bool)"}},"id":2313,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3205:76:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2317,"name":"pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2125,"src":"3317:8:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}],"id":2316,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3309:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2318,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3309:17:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2320,"name":"fundingChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2283,"src":"3333:13:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2319,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3328:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2321,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3328:19:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2314,"name":"collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2127,"src":"3285:15:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5418","typeString":"contract IERC20"}},"id":2315,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"approve","nodeType":"MemberAccess","referencedDeclaration":5390,"src":"3285:23:9","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (address,uint256) external returns (bool)"}},"id":2322,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3285:63:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"3205:143:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":2302,"name":"require","nodeType":"Identifier","overloadedDeclarations":[5455,5456],"referencedDeclaration":5455,"src":"3197:7:9","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":2324,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3197:152:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2325,"nodeType":"ExpressionStatement","src":"3197:152:9"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2328,"name":"fundingChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2283,"src":"3402:13:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2327,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3397:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2329,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3397:19:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2330,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2130,"src":"3418:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":2331,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","referencedDeclaration":null,"src":"3418:19:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"hexValue":"30","id":2332,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3439:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":2326,"name":"splitPositionThroughAllConditions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3006,"src":"3363:33:9","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (uint256,uint256,uint256)"}},"id":2333,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3363:78:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2334,"nodeType":"ExpressionStatement","src":"3363:78:9"},{"expression":{"argumentTypes":null,"id":2342,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2335,"name":"funding","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2136,"src":"3455:7:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2339,"name":"fundingChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2283,"src":"3482:13:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2338,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3477:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2340,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3477:19:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2336,"name":"funding","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2136,"src":"3465:7:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2337,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"add","nodeType":"MemberAccess","referencedDeclaration":5161,"src":"3465:11:9","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":2341,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3465:32:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3455:42:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2343,"nodeType":"ExpressionStatement","src":"3455:42:9"},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2345,"name":"fundingChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2283,"src":"3534:13:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2344,"name":"AMMFundingChanged","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2104,"src":"3516:17:9","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_int256_$returns$__$","typeString":"function (int256)"}},"id":2346,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3516:32:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2347,"nodeType":"EmitStatement","src":"3511:37:9"}]}},{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2352,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2350,"name":"fundingChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2283,"src":"3677:13:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"hexValue":"30","id":2351,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3693:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"3677:17:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":2357,"nodeType":"IfStatement","src":"3673:358:9","trueBody":{"id":2356,"nodeType":"Block","src":"3696:335:9","statements":[{"expression":{"argumentTypes":null,"arguments":[],"expression":{"argumentTypes":[],"id":2353,"name":"revert","nodeType":"Identifier","overloadedDeclarations":[5457,5458],"referencedDeclaration":5457,"src":"4012:6:9","typeDescriptions":{"typeIdentifier":"t_function_revert_pure$__$returns$__$","typeString":"function () pure"}},"id":2354,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4012:8:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2355,"nodeType":"ExpressionStatement","src":"4012:8:9"}]}}]},"documentation":"@dev Allows to fund the market with collateral tokens converting them into outcome tokens\\n Note for the future: should combine splitPosition and mergePositions into one function, as code duplication causes things like this to happen.","id":2359,"implemented":true,"kind":"function","modifiers":[{"arguments":null,"id":2286,"modifierName":{"argumentTypes":null,"id":2285,"name":"onlyOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5225,"src":"2879:9:9","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"2879:9:9"},{"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2288,"name":"Stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2142,"src":"2905:5:9","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Stage_$2142_$","typeString":"type(enum MarketMaker.Stage)"}},"id":2289,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"Paused","nodeType":"MemberAccess","referencedDeclaration":null,"src":"2905:12:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}}],"id":2290,"modifierName":{"argumentTypes":null,"id":2287,"name":"atStage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2154,"src":"2897:7:9","typeDescriptions":{"typeIdentifier":"t_modifier$_t_enum$_Stage_$2142_$","typeString":"modifier (enum MarketMaker.Stage)"}},"nodeType":"ModifierInvocation","src":"2897:21:9"}],"name":"changeFunding","nodeType":"FunctionDefinition","parameters":{"id":2284,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2283,"name":"fundingChange","nodeType":"VariableDeclaration","scope":2359,"src":"2837:17:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":2282,"name":"int","nodeType":"ElementaryTypeName","src":"2837:3:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"value":null,"visibility":"internal"}],"src":"2836:19:9"},"returnParameters":{"id":2291,"nodeType":"ParameterList","parameters":[],"src":"2923:0:9"},"scope":3082,"src":"2814:1223:9","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"body":{"id":2376,"nodeType":"Block","src":"4100:63:9","statements":[{"expression":{"argumentTypes":null,"id":2371,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2368,"name":"stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2138,"src":"4110:5:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2369,"name":"Stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2142,"src":"4118:5:9","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Stage_$2142_$","typeString":"type(enum MarketMaker.Stage)"}},"id":2370,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"Paused","nodeType":"MemberAccess","referencedDeclaration":null,"src":"4118:12:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}},"src":"4110:20:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}},"id":2372,"nodeType":"ExpressionStatement","src":"4110:20:9"},{"eventCall":{"argumentTypes":null,"arguments":[],"expression":{"argumentTypes":[],"id":2373,"name":"AMMPaused","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2096,"src":"4145:9:9","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$__$returns$__$","typeString":"function ()"}},"id":2374,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4145:11:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2375,"nodeType":"EmitStatement","src":"4140:16:9"}]},"documentation":null,"id":2377,"implemented":true,"kind":"function","modifiers":[{"arguments":null,"id":2362,"modifierName":{"argumentTypes":null,"id":2361,"name":"onlyOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5225,"src":"4067:9:9","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"4067:9:9"},{"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2364,"name":"Stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2142,"src":"4085:5:9","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Stage_$2142_$","typeString":"type(enum MarketMaker.Stage)"}},"id":2365,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"Running","nodeType":"MemberAccess","referencedDeclaration":null,"src":"4085:13:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}}],"id":2366,"modifierName":{"argumentTypes":null,"id":2363,"name":"atStage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2154,"src":"4077:7:9","typeDescriptions":{"typeIdentifier":"t_modifier$_t_enum$_Stage_$2142_$","typeString":"modifier (enum MarketMaker.Stage)"}},"nodeType":"ModifierInvocation","src":"4077:22:9"}],"name":"pause","nodeType":"FunctionDefinition","parameters":{"id":2360,"nodeType":"ParameterList","parameters":[],"src":"4057:2:9"},"returnParameters":{"id":2367,"nodeType":"ParameterList","parameters":[],"src":"4100:0:9"},"scope":3082,"src":"4043:120:9","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"body":{"id":2394,"nodeType":"Block","src":"4230:65:9","statements":[{"expression":{"argumentTypes":null,"id":2389,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2386,"name":"stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2138,"src":"4240:5:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2387,"name":"Stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2142,"src":"4248:5:9","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Stage_$2142_$","typeString":"type(enum MarketMaker.Stage)"}},"id":2388,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"Running","nodeType":"MemberAccess","referencedDeclaration":null,"src":"4248:13:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}},"src":"4240:21:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}},"id":2390,"nodeType":"ExpressionStatement","src":"4240:21:9"},{"eventCall":{"argumentTypes":null,"arguments":[],"expression":{"argumentTypes":[],"id":2391,"name":"AMMResumed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2098,"src":"4276:10:9","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$__$returns$__$","typeString":"function ()"}},"id":2392,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4276:12:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2393,"nodeType":"EmitStatement","src":"4271:17:9"}]},"documentation":null,"id":2395,"implemented":true,"kind":"function","modifiers":[{"arguments":null,"id":2380,"modifierName":{"argumentTypes":null,"id":2379,"name":"onlyOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5225,"src":"4198:9:9","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"4198:9:9"},{"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2382,"name":"Stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2142,"src":"4216:5:9","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Stage_$2142_$","typeString":"type(enum MarketMaker.Stage)"}},"id":2383,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"Paused","nodeType":"MemberAccess","referencedDeclaration":null,"src":"4216:12:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}}],"id":2384,"modifierName":{"argumentTypes":null,"id":2381,"name":"atStage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2154,"src":"4208:7:9","typeDescriptions":{"typeIdentifier":"t_modifier$_t_enum$_Stage_$2142_$","typeString":"modifier (enum MarketMaker.Stage)"}},"nodeType":"ModifierInvocation","src":"4208:21:9"}],"name":"resume","nodeType":"FunctionDefinition","parameters":{"id":2378,"nodeType":"ParameterList","parameters":[],"src":"4188:2:9"},"returnParameters":{"id":2385,"nodeType":"ParameterList","parameters":[],"src":"4230:0:9"},"scope":3082,"src":"4173:122:9","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"body":{"id":2414,"nodeType":"Block","src":"4372:60:9","statements":[{"expression":{"argumentTypes":null,"id":2408,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2406,"name":"fee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2134,"src":"4382:3:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"id":2407,"name":"_fee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2397,"src":"4388:4:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"src":"4382:10:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"id":2409,"nodeType":"ExpressionStatement","src":"4382:10:9"},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2411,"name":"fee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2134,"src":"4421:3:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint64","typeString":"uint64"}],"id":2410,"name":"AMMFeeChanged","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2108,"src":"4407:13:9","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_uint64_$returns$__$","typeString":"function (uint64)"}},"id":2412,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4407:18:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2413,"nodeType":"EmitStatement","src":"4402:23:9"}]},"documentation":null,"id":2415,"implemented":true,"kind":"function","modifiers":[{"arguments":null,"id":2400,"modifierName":{"argumentTypes":null,"id":2399,"name":"onlyOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5225,"src":"4340:9:9","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"4340:9:9"},{"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2402,"name":"Stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2142,"src":"4358:5:9","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Stage_$2142_$","typeString":"type(enum MarketMaker.Stage)"}},"id":2403,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"Paused","nodeType":"MemberAccess","referencedDeclaration":null,"src":"4358:12:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}}],"id":2404,"modifierName":{"argumentTypes":null,"id":2401,"name":"atStage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2154,"src":"4350:7:9","typeDescriptions":{"typeIdentifier":"t_modifier$_t_enum$_Stage_$2142_$","typeString":"modifier (enum MarketMaker.Stage)"}},"nodeType":"ModifierInvocation","src":"4350:21:9"}],"name":"changeFee","nodeType":"FunctionDefinition","parameters":{"id":2398,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2397,"name":"_fee","nodeType":"VariableDeclaration","scope":2415,"src":"4320:11:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"},"typeName":{"id":2396,"name":"uint64","nodeType":"ElementaryTypeName","src":"4320:6:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"value":null,"visibility":"internal"}],"src":"4319:13:9"},"returnParameters":{"id":2405,"nodeType":"ParameterList","parameters":[],"src":"4372:0:9"},"scope":3082,"src":"4301:131:9","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"body":{"id":2478,"nodeType":"Block","src":"4604:423:9","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":2429,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"},"id":2424,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2421,"name":"stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2138,"src":"4622:5:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2422,"name":"Stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2142,"src":"4631:5:9","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Stage_$2142_$","typeString":"type(enum MarketMaker.Stage)"}},"id":2423,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"Running","nodeType":"MemberAccess","referencedDeclaration":null,"src":"4631:13:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}},"src":"4622:22:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"||","rightExpression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"},"id":2428,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2425,"name":"stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2138,"src":"4648:5:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2426,"name":"Stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2142,"src":"4657:5:9","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Stage_$2142_$","typeString":"type(enum MarketMaker.Stage)"}},"id":2427,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"Paused","nodeType":"MemberAccess","referencedDeclaration":null,"src":"4657:12:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}},"src":"4648:21:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"4622:47:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"54686973204d61726b65742068617320616c7265616479206265656e20636c6f736564","id":2430,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"4671:37:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_ce82b757e84d3f085f7655825c68fa1a13fda6cc3913781fbe7409417e74f19c","typeString":"literal_string \\"This Market has already been closed\\""},"value":"This Market has already been closed"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_ce82b757e84d3f085f7655825c68fa1a13fda6cc3913781fbe7409417e74f19c","typeString":"literal_string \\"This Market has already been closed\\""}],"id":2420,"name":"require","nodeType":"Identifier","overloadedDeclarations":[5455,5456],"referencedDeclaration":5456,"src":"4614:7:9","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":2431,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4614:95:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2432,"nodeType":"ExpressionStatement","src":"4614:95:9"},{"body":{"id":2468,"nodeType":"Block","src":"4769:196:9","statements":[{"assignments":[2444],"declarations":[{"constant":false,"id":2444,"name":"positionId","nodeType":"VariableDeclaration","scope":2468,"src":"4783:15:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2443,"name":"uint","nodeType":"ElementaryTypeName","src":"4783:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":2448,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2446,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2434,"src":"4826:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":2445,"name":"generateAtomicPositionId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2931,"src":"4801:24:9","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256) view returns (uint256)"}},"id":2447,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4801:27:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"4783:45:9"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2453,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5489,"src":"4876:4:9","typeDescriptions":{"typeIdentifier":"t_contract$_MarketMaker_$3082","typeString":"contract MarketMaker"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_MarketMaker_$3082","typeString":"contract MarketMaker"}],"id":2452,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4868:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2454,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4868:13:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"arguments":[],"expression":{"argumentTypes":[],"id":2455,"name":"owner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5216,"src":"4883:5:9","typeDescriptions":{"typeIdentifier":"t_function_internal_view$__$returns$_t_address_$","typeString":"function () view returns (address)"}},"id":2456,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4883:7:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":2457,"name":"positionId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2444,"src":"4892:10:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2461,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5489,"src":"4931:4:9","typeDescriptions":{"typeIdentifier":"t_contract$_MarketMaker_$3082","typeString":"contract MarketMaker"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_MarketMaker_$3082","typeString":"contract MarketMaker"}],"id":2460,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4923:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2462,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4923:13:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":2463,"name":"positionId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2444,"src":"4938:10:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2458,"name":"pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2125,"src":"4904:8:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}},"id":2459,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"balanceOf","nodeType":"MemberAccess","referencedDeclaration":4790,"src":"4904:18:9","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$_t_uint256_$returns$_t_uint256_$","typeString":"function (address,uint256) view external returns (uint256)"}},"id":2464,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4904:45:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"hexValue":"","id":2465,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"4951:2:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470","typeString":"literal_string \\"\\""},"value":""}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_stringliteral_c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470","typeString":"literal_string \\"\\""}],"expression":{"argumentTypes":null,"id":2449,"name":"pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2125,"src":"4842:8:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}},"id":2451,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"safeTransferFrom","nodeType":"MemberAccess","referencedDeclaration":4638,"src":"4842:25:9","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_address_$_t_uint256_$_t_uint256_$_t_bytes_memory_ptr_$returns$__$","typeString":"function (address,address,uint256,uint256,bytes memory) external"}},"id":2466,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4842:112:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2467,"nodeType":"ExpressionStatement","src":"4842:112:9"}]},"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2439,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2437,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2434,"src":"4736:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"id":2438,"name":"atomicOutcomeSlotCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2132,"src":"4740:22:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4736:26:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":2469,"initializationExpression":{"assignments":[2434],"declarations":[{"constant":false,"id":2434,"name":"i","nodeType":"VariableDeclaration","scope":2469,"src":"4724:6:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2433,"name":"uint","nodeType":"ElementaryTypeName","src":"4724:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":2436,"initialValue":{"argumentTypes":null,"hexValue":"30","id":2435,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4733:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"4724:10:9"},"loopExpression":{"expression":{"argumentTypes":null,"id":2441,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"4764:3:9","subExpression":{"argumentTypes":null,"id":2440,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2434,"src":"4764:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2442,"nodeType":"ExpressionStatement","src":"4764:3:9"},"nodeType":"ForStatement","src":"4719:246:9"},{"expression":{"argumentTypes":null,"id":2473,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2470,"name":"stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2138,"src":"4974:5:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2471,"name":"Stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2142,"src":"4982:5:9","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Stage_$2142_$","typeString":"type(enum MarketMaker.Stage)"}},"id":2472,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"Closed","nodeType":"MemberAccess","referencedDeclaration":null,"src":"4982:12:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}},"src":"4974:20:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}},"id":2474,"nodeType":"ExpressionStatement","src":"4974:20:9"},{"eventCall":{"argumentTypes":null,"arguments":[],"expression":{"argumentTypes":[],"id":2475,"name":"AMMClosed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2100,"src":"5009:9:9","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$__$returns$__$","typeString":"function ()"}},"id":2476,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5009:11:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2477,"nodeType":"EmitStatement","src":"5004:16:9"}]},"documentation":"@dev Allows market owner to close the markets by transferring all remaining outcome tokens to the owner","id":2479,"implemented":true,"kind":"function","modifiers":[{"arguments":null,"id":2418,"modifierName":{"argumentTypes":null,"id":2417,"name":"onlyOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5225,"src":"4590:9:9","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"4590:9:9"}],"name":"close","nodeType":"FunctionDefinition","parameters":{"id":2416,"nodeType":"ParameterList","parameters":[],"src":"4564:2:9"},"returnParameters":{"id":2419,"nodeType":"ParameterList","parameters":[],"src":"4604:0:9"},"scope":3082,"src":"4550:477:9","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"body":{"id":2508,"nodeType":"Block","src":"5219:184:9","statements":[{"expression":{"argumentTypes":null,"id":2493,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2486,"name":"fees","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2484,"src":"5229:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2490,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5489,"src":"5270:4:9","typeDescriptions":{"typeIdentifier":"t_contract$_MarketMaker_$3082","typeString":"contract MarketMaker"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_MarketMaker_$3082","typeString":"contract MarketMaker"}],"id":2489,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"5262:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2491,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5262:13:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"argumentTypes":null,"id":2487,"name":"collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2127,"src":"5236:15:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5418","typeString":"contract IERC20"}},"id":2488,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"balanceOf","nodeType":"MemberAccess","referencedDeclaration":5363,"src":"5236:25:9","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$returns$_t_uint256_$","typeString":"function (address) view external returns (uint256)"}},"id":2492,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5236:40:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5229:47:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2494,"nodeType":"ExpressionStatement","src":"5229:47:9"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[],"expression":{"argumentTypes":[],"id":2498,"name":"owner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5216,"src":"5344:5:9","typeDescriptions":{"typeIdentifier":"t_function_internal_view$__$returns$_t_address_$","typeString":"function () view returns (address)"}},"id":2499,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5344:7:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":2500,"name":"fees","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2484,"src":"5353:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2496,"name":"collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2127,"src":"5319:15:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5418","typeString":"contract IERC20"}},"id":2497,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"transfer","nodeType":"MemberAccess","referencedDeclaration":5381,"src":"5319:24:9","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (address,uint256) external returns (bool)"}},"id":2501,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5319:39:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":2495,"name":"require","nodeType":"Identifier","overloadedDeclarations":[5455,5456],"referencedDeclaration":5455,"src":"5311:7:9","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":2502,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5311:48:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2503,"nodeType":"ExpressionStatement","src":"5311:48:9"},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2505,"name":"fees","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2484,"src":"5391:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":2504,"name":"AMMFeeWithdrawal","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2112,"src":"5374:16:9","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_uint256_$returns$__$","typeString":"function (uint256)"}},"id":2506,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5374:22:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2507,"nodeType":"EmitStatement","src":"5369:27:9"}]},"documentation":"@dev Allows market owner to withdraw fees generated by trades\\n @return Fee amount","id":2509,"implemented":true,"kind":"function","modifiers":[{"arguments":null,"id":2482,"modifierName":{"argumentTypes":null,"id":2481,"name":"onlyOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5225,"src":"5177:9:9","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"5177:9:9"}],"name":"withdrawFees","nodeType":"FunctionDefinition","parameters":{"id":2480,"nodeType":"ParameterList","parameters":[],"src":"5151:2:9"},"returnParameters":{"id":2485,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2484,"name":"fees","nodeType":"VariableDeclaration","scope":2509,"src":"5204:9:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2483,"name":"uint","nodeType":"ElementaryTypeName","src":"5204:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"5203:11:9"},"scope":3082,"src":"5130:273:9","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"body":{"id":2752,"nodeType":"Block","src":"7375:2173:9","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2527,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2524,"name":"outcomeTokenAmounts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2512,"src":"7393:19:9","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_memory_ptr","typeString":"int256[] memory"}},"id":2525,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","referencedDeclaration":null,"src":"7393:26:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"id":2526,"name":"atomicOutcomeSlotCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2132,"src":"7423:22:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"7393:52:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":2523,"name":"require","nodeType":"Identifier","overloadedDeclarations":[5455,5456],"referencedDeclaration":5455,"src":"7385:7:9","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":2528,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7385:61:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2529,"nodeType":"ExpressionStatement","src":"7385:61:9"},{"assignments":[2531],"declarations":[{"constant":false,"id":2531,"name":"outcomeTokenNetCost","nodeType":"VariableDeclaration","scope":2752,"src":"7507:23:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":2530,"name":"int","nodeType":"ElementaryTypeName","src":"7507:3:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"value":null,"visibility":"internal"}],"id":2535,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2533,"name":"outcomeTokenAmounts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2512,"src":"7545:19:9","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_memory_ptr","typeString":"int256[] memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_array$_t_int256_$dyn_memory_ptr","typeString":"int256[] memory"}],"id":2532,"name":"calcNetCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2281,"src":"7533:11:9","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_array$_t_int256_$dyn_memory_ptr_$returns$_t_int256_$","typeString":"function (int256[] memory) view returns (int256)"}},"id":2534,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7533:32:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"VariableDeclarationStatement","src":"7507:58:9"},{"assignments":[2537],"declarations":[{"constant":false,"id":2537,"name":"fees","nodeType":"VariableDeclaration","scope":2752,"src":"7575:8:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":2536,"name":"int","nodeType":"ElementaryTypeName","src":"7575:3:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"value":null,"visibility":"internal"}],"id":2538,"initialValue":null,"nodeType":"VariableDeclarationStatement","src":"7575:8:9"},{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2541,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2539,"name":"outcomeTokenNetCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2531,"src":"7596:19:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"hexValue":"30","id":2540,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"7618:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"7596:23:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"expression":{"argumentTypes":null,"id":2561,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2553,"name":"fees","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2537,"src":"7713:4:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2557,"name":"outcomeTokenNetCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2531,"src":"7743:19:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2556,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"7738:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2558,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7738:25:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":2555,"name":"calcMarketFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2767,"src":"7724:13:9","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256) view returns (uint256)"}},"id":2559,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7724:40:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":2554,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"7720:3:9","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":"int"},"id":2560,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7720:45:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"7713:52:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":2562,"nodeType":"ExpressionStatement","src":"7713:52:9"},"id":2563,"nodeType":"IfStatement","src":"7593:172:9","trueBody":{"expression":{"argumentTypes":null,"id":2551,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2542,"name":"fees","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2537,"src":"7633:4:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2547,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"7663:20:9","subExpression":{"argumentTypes":null,"id":2546,"name":"outcomeTokenNetCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2531,"src":"7664:19:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2545,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"7658:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2548,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7658:26:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":2544,"name":"calcMarketFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2767,"src":"7644:13:9","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256) view returns (uint256)"}},"id":2549,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7644:41:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":2543,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"7640:3:9","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":"int"},"id":2550,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7640:46:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"7633:53:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":2552,"nodeType":"ExpressionStatement","src":"7633:53:9"}},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2567,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2565,"name":"fees","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2537,"src":"7784:4:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"argumentTypes":null,"hexValue":"30","id":2566,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"7792:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"7784:9:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":2564,"name":"require","nodeType":"Identifier","overloadedDeclarations":[5455,5456],"referencedDeclaration":5455,"src":"7776:7:9","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":2568,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7776:18:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2569,"nodeType":"ExpressionStatement","src":"7776:18:9"},{"expression":{"argumentTypes":null,"id":2575,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2570,"name":"netCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2521,"src":"7804:7:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2573,"name":"fees","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2537,"src":"7838:4:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"expression":{"argumentTypes":null,"id":2571,"name":"outcomeTokenNetCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2531,"src":"7814:19:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":2572,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"add","nodeType":"MemberAccess","referencedDeclaration":4232,"src":"7814:23:9","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_int256_$_t_int256_$returns$_t_int256_$bound_to$_t_int256_$","typeString":"function (int256,int256) pure returns (int256)"}},"id":2574,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7814:29:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"7804:39:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":2576,"nodeType":"ExpressionStatement","src":"7804:39:9"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":2589,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"components":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":2584,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2580,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2578,"name":"collateralLimit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2514,"src":"7876:15:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"hexValue":"30","id":2579,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"7895:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"7876:20:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2583,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2581,"name":"netCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2521,"src":"7900:7:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"<=","rightExpression":{"argumentTypes":null,"id":2582,"name":"collateralLimit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2514,"src":"7911:15:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"7900:26:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"7876:50:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"id":2585,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"7875:52:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"||","rightExpression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2588,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2586,"name":"collateralLimit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2514,"src":"7943:15:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"hexValue":"30","id":2587,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"7962:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"7943:20:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"7875:88:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":2577,"name":"require","nodeType":"Identifier","overloadedDeclarations":[5455,5456],"referencedDeclaration":5455,"src":"7854:7:9","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":2590,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7854:119:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2591,"nodeType":"ExpressionStatement","src":"7854:119:9"},{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2594,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2592,"name":"outcomeTokenNetCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2531,"src":"7987:19:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"argumentTypes":null,"hexValue":"30","id":2593,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8009:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"7987:23:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":2629,"nodeType":"IfStatement","src":"7984:350:9","trueBody":{"id":2628,"nodeType":"Block","src":"8012:322:9","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":2616,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2598,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5452,"src":"8080:3:9","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":2599,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"8080:10:9","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2601,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5489,"src":"8100:4:9","typeDescriptions":{"typeIdentifier":"t_contract$_MarketMaker_$3082","typeString":"contract MarketMaker"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_MarketMaker_$3082","typeString":"contract MarketMaker"}],"id":2600,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"8092:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2602,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8092:13:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2604,"name":"netCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2521,"src":"8112:7:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2603,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"8107:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2605,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8107:13:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address_payable","typeString":"address payable"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2596,"name":"collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2127,"src":"8051:15:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5418","typeString":"contract IERC20"}},"id":2597,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"transferFrom","nodeType":"MemberAccess","referencedDeclaration":5401,"src":"8051:28:9","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (address,address,uint256) external returns (bool)"}},"id":2606,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8051:70:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2610,"name":"pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2125,"src":"8173:8:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}],"id":2609,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"8165:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2611,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8165:17:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2613,"name":"outcomeTokenNetCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2531,"src":"8189:19:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2612,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"8184:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2614,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8184:25:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2607,"name":"collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2127,"src":"8141:15:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5418","typeString":"contract IERC20"}},"id":2608,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"approve","nodeType":"MemberAccess","referencedDeclaration":5390,"src":"8141:23:9","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (address,uint256) external returns (bool)"}},"id":2615,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8141:69:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"8051:159:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":2595,"name":"require","nodeType":"Identifier","overloadedDeclarations":[5455,5456],"referencedDeclaration":5455,"src":"8026:7:9","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":2617,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8026:198:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2618,"nodeType":"ExpressionStatement","src":"8026:198:9"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2621,"name":"outcomeTokenNetCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2531,"src":"8278:19:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2620,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"8273:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2622,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8273:25:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2623,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2130,"src":"8300:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":2624,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","referencedDeclaration":null,"src":"8300:19:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"hexValue":"30","id":2625,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8321:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":2619,"name":"splitPositionThroughAllConditions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3006,"src":"8239:33:9","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (uint256,uint256,uint256)"}},"id":2626,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8239:84:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2627,"nodeType":"ExpressionStatement","src":"8239:84:9"}]}},{"body":{"id":2696,"nodeType":"Block","src":"8394:468:9","statements":[{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2644,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2640,"name":"outcomeTokenAmounts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2512,"src":"8411:19:9","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_memory_ptr","typeString":"int256[] memory"}},"id":2642,"indexExpression":{"argumentTypes":null,"id":2641,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2631,"src":"8431:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"8411:22:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"hexValue":"30","id":2643,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8437:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"8411:27:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":2695,"nodeType":"IfStatement","src":"8408:444:9","trueBody":{"id":2694,"nodeType":"Block","src":"8440:412:9","statements":[{"assignments":[2646],"declarations":[{"constant":false,"id":2646,"name":"positionId","nodeType":"VariableDeclaration","scope":2694,"src":"8458:15:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2645,"name":"uint","nodeType":"ElementaryTypeName","src":"8458:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":2650,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2648,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2631,"src":"8501:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":2647,"name":"generateAtomicPositionId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2931,"src":"8476:24:9","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256) view returns (uint256)"}},"id":2649,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8476:27:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"8458:45:9"},{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2655,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2651,"name":"outcomeTokenAmounts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2512,"src":"8524:19:9","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_memory_ptr","typeString":"int256[] memory"}},"id":2653,"indexExpression":{"argumentTypes":null,"id":2652,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2631,"src":"8544:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"8524:22:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"hexValue":"30","id":2654,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8549:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"8524:26:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":2692,"nodeType":"Block","src":"8698:139:9","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2679,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5489,"src":"8754:4:9","typeDescriptions":{"typeIdentifier":"t_contract$_MarketMaker_$3082","typeString":"contract MarketMaker"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_MarketMaker_$3082","typeString":"contract MarketMaker"}],"id":2678,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"8746:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2680,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8746:13:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2681,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5452,"src":"8761:3:9","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":2682,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"8761:10:9","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},{"argumentTypes":null,"id":2683,"name":"positionId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2646,"src":"8773:10:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2685,"name":"outcomeTokenAmounts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2512,"src":"8790:19:9","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_memory_ptr","typeString":"int256[] memory"}},"id":2687,"indexExpression":{"argumentTypes":null,"id":2686,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2631,"src":"8810:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"8790:22:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2684,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"8785:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2688,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8785:28:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"hexValue":"","id":2689,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"8815:2:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470","typeString":"literal_string \\"\\""},"value":""}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address_payable","typeString":"address payable"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_stringliteral_c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470","typeString":"literal_string \\"\\""}],"expression":{"argumentTypes":null,"id":2675,"name":"pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2125,"src":"8720:8:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}},"id":2677,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"safeTransferFrom","nodeType":"MemberAccess","referencedDeclaration":4638,"src":"8720:25:9","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_address_$_t_uint256_$_t_uint256_$_t_bytes_memory_ptr_$returns$__$","typeString":"function (address,address,uint256,uint256,bytes memory) external"}},"id":2690,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8720:98:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2691,"nodeType":"ExpressionStatement","src":"8720:98:9"}]},"id":2693,"nodeType":"IfStatement","src":"8521:316:9","trueBody":{"id":2674,"nodeType":"Block","src":"8552:140:9","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2659,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5452,"src":"8600:3:9","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":2660,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"8600:10:9","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2662,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5489,"src":"8620:4:9","typeDescriptions":{"typeIdentifier":"t_contract$_MarketMaker_$3082","typeString":"contract MarketMaker"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_MarketMaker_$3082","typeString":"contract MarketMaker"}],"id":2661,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"8612:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2663,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8612:13:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":2664,"name":"positionId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2646,"src":"8627:10:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2669,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"8644:23:9","subExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2666,"name":"outcomeTokenAmounts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2512,"src":"8645:19:9","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_memory_ptr","typeString":"int256[] memory"}},"id":2668,"indexExpression":{"argumentTypes":null,"id":2667,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2631,"src":"8665:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"8645:22:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2665,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"8639:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2670,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8639:29:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"hexValue":"","id":2671,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"8670:2:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470","typeString":"literal_string \\"\\""},"value":""}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address_payable","typeString":"address payable"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_stringliteral_c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470","typeString":"literal_string \\"\\""}],"expression":{"argumentTypes":null,"id":2656,"name":"pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2125,"src":"8574:8:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}},"id":2658,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"safeTransferFrom","nodeType":"MemberAccess","referencedDeclaration":4638,"src":"8574:25:9","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_address_$_t_uint256_$_t_uint256_$_t_bytes_memory_ptr_$returns$__$","typeString":"function (address,address,uint256,uint256,bytes memory) external"}},"id":2672,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8574:99:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2673,"nodeType":"ExpressionStatement","src":"8574:99:9"}]}}]}}]},"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2636,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2634,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2631,"src":"8361:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"id":2635,"name":"atomicOutcomeSlotCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2132,"src":"8365:22:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8361:26:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":2697,"initializationExpression":{"assignments":[2631],"declarations":[{"constant":false,"id":2631,"name":"i","nodeType":"VariableDeclaration","scope":2697,"src":"8349:6:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2630,"name":"uint","nodeType":"ElementaryTypeName","src":"8349:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":2633,"initialValue":{"argumentTypes":null,"hexValue":"30","id":2632,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8358:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"8349:10:9"},"loopExpression":{"expression":{"argumentTypes":null,"id":2638,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"8389:3:9","subExpression":{"argumentTypes":null,"id":2637,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2631,"src":"8389:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2639,"nodeType":"ExpressionStatement","src":"8389:3:9"},"nodeType":"ForStatement","src":"8344:518:9"},{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2700,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2698,"name":"outcomeTokenNetCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2531,"src":"8875:19:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"hexValue":"30","id":2699,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8897:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"8875:23:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":2741,"nodeType":"IfStatement","src":"8872:560:9","trueBody":{"id":2740,"nodeType":"Block","src":"8900:532:9","statements":[{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2703,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2701,"name":"netCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2521,"src":"9131:7:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"hexValue":"30","id":2702,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"9141:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"9131:11:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":2739,"nodeType":"IfStatement","src":"9128:294:9","trueBody":{"id":2738,"nodeType":"Block","src":"9144:278:9","statements":[{"body":{"id":2736,"nodeType":"Block","src":"9208:200:9","statements":[{"assignments":[2715],"declarations":[{"constant":false,"id":2715,"name":"positionId","nodeType":"VariableDeclaration","scope":2736,"src":"9234:15:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2714,"name":"uint","nodeType":"ElementaryTypeName","src":"9234:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":2719,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2717,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2705,"src":"9277:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":2716,"name":"generateAtomicPositionId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2931,"src":"9252:24:9","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256) view returns (uint256)"}},"id":2718,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"9252:27:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"9234:45:9"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2724,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5489,"src":"9339:4:9","typeDescriptions":{"typeIdentifier":"t_contract$_MarketMaker_$3082","typeString":"contract MarketMaker"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_MarketMaker_$3082","typeString":"contract MarketMaker"}],"id":2723,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"9331:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2725,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"9331:13:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2726,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5452,"src":"9346:3:9","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":2727,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"9346:10:9","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},{"argumentTypes":null,"id":2728,"name":"positionId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2715,"src":"9358:10:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2731,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"9375:8:9","subExpression":{"argumentTypes":null,"id":2730,"name":"netCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2521,"src":"9376:7:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2729,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"9370:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2732,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"9370:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"hexValue":"","id":2733,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"9386:2:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470","typeString":"literal_string \\"\\""},"value":""}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address_payable","typeString":"address payable"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_stringliteral_c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470","typeString":"literal_string \\"\\""}],"expression":{"argumentTypes":null,"id":2720,"name":"pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2125,"src":"9305:8:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}},"id":2722,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"safeTransferFrom","nodeType":"MemberAccess","referencedDeclaration":4638,"src":"9305:25:9","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_address_$_t_uint256_$_t_uint256_$_t_bytes_memory_ptr_$returns$__$","typeString":"function (address,address,uint256,uint256,bytes memory) external"}},"id":2734,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"9305:84:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2735,"nodeType":"ExpressionStatement","src":"9305:84:9"}]},"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2710,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2708,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2705,"src":"9177:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"id":2709,"name":"atomicOutcomeSlotCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2132,"src":"9179:22:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"9177:24:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":2737,"initializationExpression":{"assignments":[2705],"declarations":[{"constant":false,"id":2705,"name":"i","nodeType":"VariableDeclaration","scope":2737,"src":"9167:6:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2704,"name":"uint","nodeType":"ElementaryTypeName","src":"9167:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":2707,"initialValue":{"argumentTypes":null,"hexValue":"30","id":2706,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"9174:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"9167:8:9"},"loopExpression":{"expression":{"argumentTypes":null,"id":2712,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"9203:3:9","subExpression":{"argumentTypes":null,"id":2711,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2705,"src":"9203:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2713,"nodeType":"ExpressionStatement","src":"9203:3:9"},"nodeType":"ForStatement","src":"9162:246:9"}]}}]}},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2743,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5452,"src":"9476:3:9","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":2744,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"9476:10:9","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},{"argumentTypes":null,"id":2745,"name":"outcomeTokenAmounts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2512,"src":"9488:19:9","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_memory_ptr","typeString":"int256[] memory"}},{"argumentTypes":null,"id":2746,"name":"outcomeTokenNetCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2531,"src":"9509:19:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2748,"name":"fees","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2537,"src":"9535:4:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2747,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"9530:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2749,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"9530:10:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address_payable","typeString":"address payable"},{"typeIdentifier":"t_array$_t_int256_$dyn_memory_ptr","typeString":"int256[] memory"},{"typeIdentifier":"t_int256","typeString":"int256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":2742,"name":"AMMOutcomeTokenTrade","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2123,"src":"9455:20:9","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_array$_t_int256_$dyn_memory_ptr_$_t_int256_$_t_uint256_$returns$__$","typeString":"function (address,int256[] memory,int256,uint256)"}},"id":2750,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"9455:86:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2751,"nodeType":"EmitStatement","src":"9450:91:9"}]},"documentation":"@dev Allows to trade outcome tokens and collateral with the market maker\\n @param outcomeTokenAmounts Amounts of each atomic outcome token to buy or sell. If positive, will buy this amount of outcome token from the market. If negative, will sell this amount back to the market instead. The indices of this array range from 0 to product(all conditions\' outcomeSlotCounts)-1. For example, with two conditions with three outcome slots each and one condition with two outcome slots, you will have 3*3*2=18 total atomic outcome tokens, and the indices will range from 0 to 17. The indices map to atomic outcome slots depending on the order of the conditionIds. Let\'s say the first condition has slots A, B, C the second has slots X, Y, and the third has slots I, J, K. We can associate each atomic outcome token with indices by this map:\\n A&X&I == 0\\n B&X&I == 1\\n C&X&I == 2\\n A&Y&I == 3\\n B&Y&I == 4\\n C&Y&I == 5\\n A&X&J == 6\\n B&X&J == 7\\n C&X&J == 8\\n A&Y&J == 9\\n B&Y&J == 10\\n C&Y&J == 11\\n A&X&K == 12\\n B&X&K == 13\\n C&X&K == 14\\n A&Y&K == 15\\n B&Y&K == 16\\n C&Y&K == 17\\n This order is calculated via the generateAtomicPositionId function below: C&Y&I -> (2, 1, 0) -> 2 + 3 * (1 + 2 * (0 + 3 * (0 + 0)))\\n @param collateralLimit If positive, this is the limit for the amount of collateral tokens which will be sent to the market to conduct the trade. If negative, this is the minimum amount of collateral tokens which will be received from the market for the trade. If zero, there is no limit.\\n @return If positive, the amount of collateral sent to the market. If negative, the amount of collateral received from the market. If zero, no collateral was sent or received.","id":2753,"implemented":true,"kind":"function","modifiers":[{"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2517,"name":"Stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2142,"src":"7326:5:9","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Stage_$2142_$","typeString":"type(enum MarketMaker.Stage)"}},"id":2518,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"Running","nodeType":"MemberAccess","referencedDeclaration":null,"src":"7326:13:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}}],"id":2519,"modifierName":{"argumentTypes":null,"id":2516,"name":"atStage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2154,"src":"7318:7:9","typeDescriptions":{"typeIdentifier":"t_modifier$_t_enum$_Stage_$2142_$","typeString":"modifier (enum MarketMaker.Stage)"}},"nodeType":"ModifierInvocation","src":"7318:22:9"}],"name":"trade","nodeType":"FunctionDefinition","parameters":{"id":2515,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2512,"name":"outcomeTokenAmounts","nodeType":"VariableDeclaration","scope":2753,"src":"7240:32:9","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_memory_ptr","typeString":"int256[]"},"typeName":{"baseType":{"id":2510,"name":"int","nodeType":"ElementaryTypeName","src":"7240:3:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":2511,"length":null,"nodeType":"ArrayTypeName","src":"7240:5:9","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_storage_ptr","typeString":"int256[]"}},"value":null,"visibility":"internal"},{"constant":false,"id":2514,"name":"collateralLimit","nodeType":"VariableDeclaration","scope":2753,"src":"7274:19:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":2513,"name":"int","nodeType":"ElementaryTypeName","src":"7274:3:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"value":null,"visibility":"internal"}],"src":"7239:55:9"},"returnParameters":{"id":2522,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2521,"name":"netCost","nodeType":"VariableDeclaration","scope":2753,"src":"7358:11:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":2520,"name":"int","nodeType":"ElementaryTypeName","src":"7358:3:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"value":null,"visibility":"internal"}],"src":"7357:13:9"},"scope":3082,"src":"7225:2323:9","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"body":{"id":2766,"nodeType":"Block","src":"9803:58:9","statements":[{"expression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2764,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2762,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2760,"name":"outcomeTokenCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2755,"src":"9820:16:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"argumentTypes":null,"id":2761,"name":"fee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2134,"src":"9839:3:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"src":"9820:22:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"argumentTypes":null,"id":2763,"name":"FEE_RANGE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2090,"src":"9845:9:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"src":"9820:34:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":2759,"id":2765,"nodeType":"Return","src":"9813:41:9"}]},"documentation":"@dev Calculates fee to be paid to market maker\\n @param outcomeTokenCost Cost for buying outcome tokens\\n @return Fee for trade","id":2767,"implemented":true,"kind":"function","modifiers":[],"name":"calcMarketFee","nodeType":"FunctionDefinition","parameters":{"id":2756,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2755,"name":"outcomeTokenCost","nodeType":"VariableDeclaration","scope":2767,"src":"9725:21:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2754,"name":"uint","nodeType":"ElementaryTypeName","src":"9725:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"9724:23:9"},"returnParameters":{"id":2759,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2758,"name":"","nodeType":"VariableDeclaration","scope":2767,"src":"9793:4:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2757,"name":"uint","nodeType":"ElementaryTypeName","src":"9793:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"9792:6:9"},"scope":3082,"src":"9702:159:9","stateMutability":"view","superFunction":null,"visibility":"public"},{"body":{"id":2793,"nodeType":"Block","src":"10015:109:9","statements":[{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":2786,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2782,"name":"operator","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2769,"src":"10029:8:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2784,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5489,"src":"10049:4:9","typeDescriptions":{"typeIdentifier":"t_contract$_MarketMaker_$3082","typeString":"contract MarketMaker"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_MarketMaker_$3082","typeString":"contract MarketMaker"}],"id":2783,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"10041:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2785,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10041:13:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"10029:25:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":2790,"nodeType":"IfStatement","src":"10025:73:9","trueBody":{"id":2789,"nodeType":"Block","src":"10056:42:9","statements":[{"expression":{"argumentTypes":null,"hexValue":"30786632336136653631","id":2787,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10077:10:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_4063915617_by_1","typeString":"int_const 4063915617"},"value":"0xf23a6e61"},"functionReturnParameters":2781,"id":2788,"nodeType":"Return","src":"10070:17:9"}]}},{"expression":{"argumentTypes":null,"hexValue":"307830","id":2791,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10114:3:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0x0"},"functionReturnParameters":2781,"id":2792,"nodeType":"Return","src":"10107:10:9"}]},"documentation":null,"id":2794,"implemented":true,"kind":"function","modifiers":[],"name":"onERC1155Received","nodeType":"FunctionDefinition","parameters":{"id":2778,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2769,"name":"operator","nodeType":"VariableDeclaration","scope":2794,"src":"9894:16:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2768,"name":"address","nodeType":"ElementaryTypeName","src":"9894:7:9","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":2771,"name":"","nodeType":"VariableDeclaration","scope":2794,"src":"9912:7:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2770,"name":"address","nodeType":"ElementaryTypeName","src":"9912:7:9","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":2773,"name":"","nodeType":"VariableDeclaration","scope":2794,"src":"9930:7:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2772,"name":"uint256","nodeType":"ElementaryTypeName","src":"9930:7:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":2775,"name":"","nodeType":"VariableDeclaration","scope":2794,"src":"9946:7:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2774,"name":"uint256","nodeType":"ElementaryTypeName","src":"9946:7:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":2777,"name":"","nodeType":"VariableDeclaration","scope":2794,"src":"9965:14:9","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes"},"typeName":{"id":2776,"name":"bytes","nodeType":"ElementaryTypeName","src":"9965:5:9","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"value":null,"visibility":"internal"}],"src":"9893:96:9"},"returnParameters":{"id":2781,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2780,"name":"","nodeType":"VariableDeclaration","scope":2794,"src":"10007:6:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"typeName":{"id":2779,"name":"bytes4","nodeType":"ElementaryTypeName","src":"10007:6:9","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"value":null,"visibility":"internal"}],"src":"10006:8:9"},"scope":3082,"src":"9867:257:9","stateMutability":"nonpayable","superFunction":5026,"visibility":"external"},{"body":{"id":2822,"nodeType":"Block","src":"10308:110:9","statements":[{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":2815,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2811,"name":"_operator","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2796,"src":"10322:9:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2813,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5489,"src":"10343:4:9","typeDescriptions":{"typeIdentifier":"t_contract$_MarketMaker_$3082","typeString":"contract MarketMaker"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_MarketMaker_$3082","typeString":"contract MarketMaker"}],"id":2812,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"10335:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2814,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10335:13:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"10322:26:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":2819,"nodeType":"IfStatement","src":"10318:74:9","trueBody":{"id":2818,"nodeType":"Block","src":"10350:42:9","statements":[{"expression":{"argumentTypes":null,"hexValue":"30786632336136653631","id":2816,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10371:10:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_4063915617_by_1","typeString":"int_const 4063915617"},"value":"0xf23a6e61"},"functionReturnParameters":2810,"id":2817,"nodeType":"Return","src":"10364:17:9"}]}},{"expression":{"argumentTypes":null,"hexValue":"307830","id":2820,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10408:3:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0x0"},"functionReturnParameters":2810,"id":2821,"nodeType":"Return","src":"10401:10:9"}]},"documentation":null,"id":2823,"implemented":true,"kind":"function","modifiers":[],"name":"onERC1155BatchReceived","nodeType":"FunctionDefinition","parameters":{"id":2807,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2796,"name":"_operator","nodeType":"VariableDeclaration","scope":2823,"src":"10162:17:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2795,"name":"address","nodeType":"ElementaryTypeName","src":"10162:7:9","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":2798,"name":"","nodeType":"VariableDeclaration","scope":2823,"src":"10181:7:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2797,"name":"address","nodeType":"ElementaryTypeName","src":"10181:7:9","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":2801,"name":"","nodeType":"VariableDeclaration","scope":2823,"src":"10199:18:9","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":2799,"name":"uint256","nodeType":"ElementaryTypeName","src":"10199:7:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2800,"length":null,"nodeType":"ArrayTypeName","src":"10199:9:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"value":null,"visibility":"internal"},{"constant":false,"id":2804,"name":"","nodeType":"VariableDeclaration","scope":2823,"src":"10227:18:9","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":2802,"name":"uint256","nodeType":"ElementaryTypeName","src":"10227:7:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2803,"length":null,"nodeType":"ArrayTypeName","src":"10227:9:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"value":null,"visibility":"internal"},{"constant":false,"id":2806,"name":"","nodeType":"VariableDeclaration","scope":2823,"src":"10258:14:9","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes"},"typeName":{"id":2805,"name":"bytes","nodeType":"ElementaryTypeName","src":"10258:5:9","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"value":null,"visibility":"internal"}],"src":"10161:121:9"},"returnParameters":{"id":2810,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2809,"name":"","nodeType":"VariableDeclaration","scope":2823,"src":"10300:6:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"typeName":{"id":2808,"name":"bytes4","nodeType":"ElementaryTypeName","src":"10300:6:9","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"value":null,"visibility":"internal"}],"src":"10299:8:9"},"scope":3082,"src":"10130:288:9","stateMutability":"nonpayable","superFunction":5043,"visibility":"external"},{"body":{"id":2863,"nodeType":"Block","src":"10551:180:9","statements":[{"expression":{"argumentTypes":null,"id":2840,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2831,"name":"partition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2829,"src":"10561:9:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2837,"name":"conditionId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2825,"src":"10613:11:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"expression":{"argumentTypes":null,"id":2835,"name":"pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2125,"src":"10584:8:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}},"id":2836,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"getOutcomeSlotCount","nodeType":"MemberAccess","referencedDeclaration":1567,"src":"10584:28:9","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_bytes32_$returns$_t_uint256_$","typeString":"function (bytes32) view external returns (uint256)"}},"id":2838,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10584:41:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":2834,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"NewExpression","src":"10573:10:9","typeDescriptions":{"typeIdentifier":"t_function_objectcreation_pure$_t_uint256_$returns$_t_array$_t_uint256_$dyn_memory_$","typeString":"function (uint256) pure returns (uint256[] memory)"},"typeName":{"baseType":{"id":2832,"name":"uint","nodeType":"ElementaryTypeName","src":"10577:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2833,"length":null,"nodeType":"ArrayTypeName","src":"10577:6:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}}},"id":2839,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10573:53:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory","typeString":"uint256[] memory"}},"src":"10561:65:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":2841,"nodeType":"ExpressionStatement","src":"10561:65:9"},{"body":{"id":2861,"nodeType":"Block","src":"10679:46:9","statements":[{"expression":{"argumentTypes":null,"id":2859,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2853,"name":"partition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2829,"src":"10693:9:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":2855,"indexExpression":{"argumentTypes":null,"id":2854,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2843,"src":"10703:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"10693:12:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2858,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"hexValue":"31","id":2856,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10708:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"nodeType":"BinaryOperation","operator":"<<","rightExpression":{"argumentTypes":null,"id":2857,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2843,"src":"10713:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10708:6:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10693:21:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2860,"nodeType":"ExpressionStatement","src":"10693:21:9"}]},"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2849,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2846,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2843,"src":"10652:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2847,"name":"partition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2829,"src":"10656:9:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":2848,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","referencedDeclaration":null,"src":"10656:16:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10652:20:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":2862,"initializationExpression":{"assignments":[2843],"declarations":[{"constant":false,"id":2843,"name":"i","nodeType":"VariableDeclaration","scope":2862,"src":"10640:6:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2842,"name":"uint","nodeType":"ElementaryTypeName","src":"10640:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":2845,"initialValue":{"argumentTypes":null,"hexValue":"30","id":2844,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10649:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"10640:10:9"},"loopExpression":{"expression":{"argumentTypes":null,"id":2851,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"10674:3:9","subExpression":{"argumentTypes":null,"id":2850,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2843,"src":"10674:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2852,"nodeType":"ExpressionStatement","src":"10674:3:9"},"nodeType":"ForStatement","src":"10636:89:9"}]},"documentation":null,"id":2864,"implemented":true,"kind":"function","modifiers":[],"name":"generateBasicPartition","nodeType":"FunctionDefinition","parameters":{"id":2826,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2825,"name":"conditionId","nodeType":"VariableDeclaration","scope":2864,"src":"10456:19:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":2824,"name":"bytes32","nodeType":"ElementaryTypeName","src":"10456:7:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"internal"}],"src":"10455:21:9"},"returnParameters":{"id":2830,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2829,"name":"partition","nodeType":"VariableDeclaration","scope":2864,"src":"10522:23:9","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":2827,"name":"uint","nodeType":"ElementaryTypeName","src":"10522:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2828,"length":null,"nodeType":"ArrayTypeName","src":"10522:6:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"value":null,"visibility":"internal"}],"src":"10521:25:9"},"scope":3082,"src":"10424:307:9","stateMutability":"view","superFunction":null,"visibility":"public"},{"body":{"id":2930,"nodeType":"Block","src":"10834:480:9","statements":[{"assignments":[2872],"declarations":[{"constant":false,"id":2872,"name":"collectionId","nodeType":"VariableDeclaration","scope":2930,"src":"10844:17:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2871,"name":"uint","nodeType":"ElementaryTypeName","src":"10844:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":2874,"initialValue":{"argumentTypes":null,"hexValue":"30","id":2873,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10864:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"10844:21:9"},{"body":{"id":2918,"nodeType":"Block","src":"10922:280:9","statements":[{"assignments":[2887],"declarations":[{"constant":false,"id":2887,"name":"curOutcomeSlotCount","nodeType":"VariableDeclaration","scope":2918,"src":"10936:24:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2886,"name":"uint","nodeType":"ElementaryTypeName","src":"10936:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":2894,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2890,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2130,"src":"10992:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":2892,"indexExpression":{"argumentTypes":null,"id":2891,"name":"k","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2876,"src":"11005:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"10992:15:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"expression":{"argumentTypes":null,"id":2888,"name":"pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2125,"src":"10963:8:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}},"id":2889,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"getOutcomeSlotCount","nodeType":"MemberAccess","referencedDeclaration":1567,"src":"10963:28:9","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_bytes32_$returns$_t_uint256_$","typeString":"function (bytes32) view external returns (uint256)"}},"id":2893,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10963:45:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"10936:72:9"},{"expression":{"argumentTypes":null,"id":2912,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2895,"name":"collectionId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2872,"src":"11022:12:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"+=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2900,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2130,"src":"11087:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":2902,"indexExpression":{"argumentTypes":null,"id":2901,"name":"k","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2876,"src":"11100:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"11087:15:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2908,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"hexValue":"31","id":2903,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"11120:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"nodeType":"BinaryOperation","operator":"<<","rightExpression":{"argumentTypes":null,"components":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2906,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2904,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2866,"src":"11126:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"%","rightExpression":{"argumentTypes":null,"id":2905,"name":"curOutcomeSlotCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2887,"src":"11130:19:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"11126:23:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":2907,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"11125:25:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"11120:30:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2898,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5439,"src":"11053:3:9","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":2899,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"encodePacked","nodeType":"MemberAccess","referencedDeclaration":null,"src":"11053:16:9","typeDescriptions":{"typeIdentifier":"t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":2909,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"11053:98:9","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":2897,"name":"keccak256","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5446,"src":"11043:9:9","typeDescriptions":{"typeIdentifier":"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$","typeString":"function (bytes memory) pure returns (bytes32)"}},"id":2910,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"11043:109:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":2896,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"11038:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2911,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"11038:115:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"11022:131:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2913,"nodeType":"ExpressionStatement","src":"11022:131:9"},{"expression":{"argumentTypes":null,"id":2916,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2914,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2866,"src":"11167:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"/=","rightHandSide":{"argumentTypes":null,"id":2915,"name":"curOutcomeSlotCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2887,"src":"11172:19:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"11167:24:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2917,"nodeType":"ExpressionStatement","src":"11167:24:9"}]},"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2882,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2879,"name":"k","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2876,"src":"10892:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2880,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2130,"src":"10896:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":2881,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","referencedDeclaration":null,"src":"10896:19:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10892:23:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":2919,"initializationExpression":{"assignments":[2876],"declarations":[{"constant":false,"id":2876,"name":"k","nodeType":"VariableDeclaration","scope":2919,"src":"10880:6:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2875,"name":"uint","nodeType":"ElementaryTypeName","src":"10880:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":2878,"initialValue":{"argumentTypes":null,"hexValue":"30","id":2877,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10889:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"10880:10:9"},"loopExpression":{"expression":{"argumentTypes":null,"id":2884,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"10917:3:9","subExpression":{"argumentTypes":null,"id":2883,"name":"k","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2876,"src":"10917:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2885,"nodeType":"ExpressionStatement","src":"10917:3:9"},"nodeType":"ForStatement","src":"10876:326:9"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2924,"name":"collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2127,"src":"11263:15:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5418","typeString":"contract IERC20"}},{"argumentTypes":null,"id":2925,"name":"collectionId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2872,"src":"11292:12:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IERC20_$5418","typeString":"contract IERC20"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2922,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5439,"src":"11233:3:9","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":2923,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"encodePacked","nodeType":"MemberAccess","referencedDeclaration":null,"src":"11233:16:9","typeDescriptions":{"typeIdentifier":"t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":2926,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"11233:72:9","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":2921,"name":"keccak256","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5446,"src":"11223:9:9","typeDescriptions":{"typeIdentifier":"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$","typeString":"function (bytes memory) pure returns (bytes32)"}},"id":2927,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"11223:83:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":2920,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"11218:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2928,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"11218:89:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":2870,"id":2929,"nodeType":"Return","src":"11211:96:9"}]},"documentation":null,"id":2931,"implemented":true,"kind":"function","modifiers":[],"name":"generateAtomicPositionId","nodeType":"FunctionDefinition","parameters":{"id":2867,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2866,"name":"i","nodeType":"VariableDeclaration","scope":2931,"src":"10771:6:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2865,"name":"uint","nodeType":"ElementaryTypeName","src":"10771:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"10770:8:9"},"returnParameters":{"id":2870,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2869,"name":"","nodeType":"VariableDeclaration","scope":2931,"src":"10824:4:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2868,"name":"uint","nodeType":"ElementaryTypeName","src":"10824:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"10823:6:9"},"scope":3082,"src":"10737:577:9","stateMutability":"view","superFunction":null,"visibility":"public"},{"body":{"id":3005,"nodeType":"Block","src":"11441:613:9","statements":[{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2942,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2940,"name":"conditionsLeft","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2935,"src":"11454:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"hexValue":"30","id":2941,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"11472:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"11454:19:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":2944,"nodeType":"IfStatement","src":"11451:31:9","trueBody":{"expression":null,"functionReturnParameters":2939,"id":2943,"nodeType":"Return","src":"11475:7:9"}},{"expression":{"argumentTypes":null,"id":2946,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"--","prefix":false,"src":"11491:16:9","subExpression":{"argumentTypes":null,"id":2945,"name":"conditionsLeft","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2935,"src":"11491:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2947,"nodeType":"ExpressionStatement","src":"11491:16:9"},{"assignments":[2951],"declarations":[{"constant":false,"id":2951,"name":"partition","nodeType":"VariableDeclaration","scope":3005,"src":"11518:23:9","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":2949,"name":"uint","nodeType":"ElementaryTypeName","src":"11518:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2950,"length":null,"nodeType":"ArrayTypeName","src":"11518:6:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"value":null,"visibility":"internal"}],"id":2957,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2953,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2130,"src":"11567:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":2955,"indexExpression":{"argumentTypes":null,"id":2954,"name":"conditionsLeft","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2935,"src":"11580:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"11567:28:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":2952,"name":"generateBasicPartition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2864,"src":"11544:22:9","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_bytes32_$returns$_t_array$_t_uint256_$dyn_memory_ptr_$","typeString":"function (bytes32) view returns (uint256[] memory)"}},"id":2956,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"11544:52:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"nodeType":"VariableDeclarationStatement","src":"11518:78:9"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2961,"name":"collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2127,"src":"11629:15:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5418","typeString":"contract IERC20"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2963,"name":"parentCollectionId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2937,"src":"11654:18:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":2962,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"11646:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_bytes32_$","typeString":"type(bytes32)"},"typeName":"bytes32"},"id":2964,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"11646:27:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2965,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2130,"src":"11675:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":2967,"indexExpression":{"argumentTypes":null,"id":2966,"name":"conditionsLeft","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2935,"src":"11688:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"11675:28:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"argumentTypes":null,"id":2968,"name":"partition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2951,"src":"11705:9:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},{"argumentTypes":null,"id":2969,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2933,"src":"11716:6:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IERC20_$5418","typeString":"contract IERC20"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2958,"name":"pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2125,"src":"11606:8:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}},"id":2960,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"splitPosition","nodeType":"MemberAccess","referencedDeclaration":1091,"src":"11606:22:9","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_contract$_IERC20_$5418_$_t_bytes32_$_t_bytes32_$_t_array$_t_uint256_$dyn_memory_ptr_$_t_uint256_$returns$__$","typeString":"function (contract IERC20,bytes32,bytes32,uint256[] memory,uint256) external"}},"id":2970,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"11606:117:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2971,"nodeType":"ExpressionStatement","src":"11606:117:9"},{"body":{"id":3003,"nodeType":"Block","src":"11776:272:9","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2984,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2933,"src":"11841:6:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":2985,"name":"conditionsLeft","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2935,"src":"11865:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":3000,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2986,"name":"parentCollectionId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2937,"src":"11897:18:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2991,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2130,"src":"11971:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":2993,"indexExpression":{"argumentTypes":null,"id":2992,"name":"conditionsLeft","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2935,"src":"11984:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"11971:28:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2994,"name":"partition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2951,"src":"12021:9:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":2996,"indexExpression":{"argumentTypes":null,"id":2995,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2973,"src":"12031:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"12021:12:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2989,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5439,"src":"11933:3:9","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":2990,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"encodePacked","nodeType":"MemberAccess","referencedDeclaration":null,"src":"11933:16:9","typeDescriptions":{"typeIdentifier":"t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":2997,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"11933:101:9","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":2988,"name":"keccak256","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5446,"src":"11923:9:9","typeDescriptions":{"typeIdentifier":"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$","typeString":"function (bytes memory) pure returns (bytes32)"}},"id":2998,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"11923:112:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":2987,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"11918:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2999,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"11918:118:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"11897:139:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":2983,"name":"splitPositionThroughAllConditions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3006,"src":"11790:33:9","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (uint256,uint256,uint256)"}},"id":3001,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"11790:247:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":3002,"nodeType":"ExpressionStatement","src":"11790:247:9"}]},"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2979,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2976,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2973,"src":"11749:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2977,"name":"partition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2951,"src":"11753:9:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":2978,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","referencedDeclaration":null,"src":"11753:16:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"11749:20:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":3004,"initializationExpression":{"assignments":[2973],"declarations":[{"constant":false,"id":2973,"name":"i","nodeType":"VariableDeclaration","scope":3004,"src":"11737:6:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2972,"name":"uint","nodeType":"ElementaryTypeName","src":"11737:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":2975,"initialValue":{"argumentTypes":null,"hexValue":"30","id":2974,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"11746:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"11737:10:9"},"loopExpression":{"expression":{"argumentTypes":null,"id":2981,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"11771:3:9","subExpression":{"argumentTypes":null,"id":2980,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2973,"src":"11771:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2982,"nodeType":"ExpressionStatement","src":"11771:3:9"},"nodeType":"ForStatement","src":"11733:315:9"}]},"documentation":null,"id":3006,"implemented":true,"kind":"function","modifiers":[],"name":"splitPositionThroughAllConditions","nodeType":"FunctionDefinition","parameters":{"id":2938,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2933,"name":"amount","nodeType":"VariableDeclaration","scope":3006,"src":"11363:11:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2932,"name":"uint","nodeType":"ElementaryTypeName","src":"11363:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":2935,"name":"conditionsLeft","nodeType":"VariableDeclaration","scope":3006,"src":"11376:19:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2934,"name":"uint","nodeType":"ElementaryTypeName","src":"11376:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":2937,"name":"parentCollectionId","nodeType":"VariableDeclaration","scope":3006,"src":"11397:23:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2936,"name":"uint","nodeType":"ElementaryTypeName","src":"11397:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"11362:59:9"},"returnParameters":{"id":2939,"nodeType":"ParameterList","parameters":[],"src":"11441:0:9"},"scope":3082,"src":"11320:734:9","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"body":{"id":3080,"nodeType":"Block","src":"12183:615:9","statements":[{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":3017,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":3015,"name":"conditionsLeft","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3010,"src":"12196:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"hexValue":"30","id":3016,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"12214:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"12196:19:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":3019,"nodeType":"IfStatement","src":"12193:31:9","trueBody":{"expression":null,"functionReturnParameters":3014,"id":3018,"nodeType":"Return","src":"12217:7:9"}},{"expression":{"argumentTypes":null,"id":3021,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"--","prefix":false,"src":"12233:16:9","subExpression":{"argumentTypes":null,"id":3020,"name":"conditionsLeft","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3010,"src":"12233:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":3022,"nodeType":"ExpressionStatement","src":"12233:16:9"},{"assignments":[3026],"declarations":[{"constant":false,"id":3026,"name":"partition","nodeType":"VariableDeclaration","scope":3080,"src":"12260:23:9","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":3024,"name":"uint","nodeType":"ElementaryTypeName","src":"12260:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":3025,"length":null,"nodeType":"ArrayTypeName","src":"12260:6:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"value":null,"visibility":"internal"}],"id":3032,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":3028,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2130,"src":"12309:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":3030,"indexExpression":{"argumentTypes":null,"id":3029,"name":"conditionsLeft","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3010,"src":"12322:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"12309:28:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":3027,"name":"generateBasicPartition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2864,"src":"12286:22:9","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_bytes32_$returns$_t_array$_t_uint256_$dyn_memory_ptr_$","typeString":"function (bytes32) view returns (uint256[] memory)"}},"id":3031,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"12286:52:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"nodeType":"VariableDeclarationStatement","src":"12260:78:9"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":3036,"name":"collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2127,"src":"12372:15:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5418","typeString":"contract IERC20"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":3038,"name":"parentCollectionId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3012,"src":"12397:18:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":3037,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"12389:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_bytes32_$","typeString":"type(bytes32)"},"typeName":"bytes32"},"id":3039,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"12389:27:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":3040,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2130,"src":"12418:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":3042,"indexExpression":{"argumentTypes":null,"id":3041,"name":"conditionsLeft","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3010,"src":"12431:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"12418:28:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"argumentTypes":null,"id":3043,"name":"partition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3026,"src":"12448:9:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},{"argumentTypes":null,"id":3044,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3008,"src":"12459:6:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IERC20_$5418","typeString":"contract IERC20"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":3033,"name":"pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2125,"src":"12348:8:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}},"id":3035,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"mergePositions","nodeType":"MemberAccess","referencedDeclaration":1317,"src":"12348:23:9","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_contract$_IERC20_$5418_$_t_bytes32_$_t_bytes32_$_t_array$_t_uint256_$dyn_memory_ptr_$_t_uint256_$returns$__$","typeString":"function (contract IERC20,bytes32,bytes32,uint256[] memory,uint256) external"}},"id":3045,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"12348:118:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":3046,"nodeType":"ExpressionStatement","src":"12348:118:9"},{"body":{"id":3078,"nodeType":"Block","src":"12519:273:9","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":3059,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3008,"src":"12585:6:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":3060,"name":"conditionsLeft","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3010,"src":"12609:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":3075,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":3061,"name":"parentCollectionId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3012,"src":"12641:18:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":3066,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2130,"src":"12715:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":3068,"indexExpression":{"argumentTypes":null,"id":3067,"name":"conditionsLeft","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3010,"src":"12728:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"12715:28:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":3069,"name":"partition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3026,"src":"12765:9:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":3071,"indexExpression":{"argumentTypes":null,"id":3070,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3048,"src":"12775:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"12765:12:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":3064,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5439,"src":"12677:3:9","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":3065,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"encodePacked","nodeType":"MemberAccess","referencedDeclaration":null,"src":"12677:16:9","typeDescriptions":{"typeIdentifier":"t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":3072,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"12677:101:9","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":3063,"name":"keccak256","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5446,"src":"12667:9:9","typeDescriptions":{"typeIdentifier":"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$","typeString":"function (bytes memory) pure returns (bytes32)"}},"id":3073,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"12667:112:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":3062,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"12662:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":3074,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"12662:118:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"12641:139:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":3058,"name":"mergePositionsThroughAllConditions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3081,"src":"12533:34:9","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (uint256,uint256,uint256)"}},"id":3076,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"12533:248:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":3077,"nodeType":"ExpressionStatement","src":"12533:248:9"}]},"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":3054,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":3051,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3048,"src":"12492:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":3052,"name":"partition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3026,"src":"12496:9:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":3053,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","referencedDeclaration":null,"src":"12496:16:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"12492:20:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":3079,"initializationExpression":{"assignments":[3048],"declarations":[{"constant":false,"id":3048,"name":"i","nodeType":"VariableDeclaration","scope":3079,"src":"12480:6:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":3047,"name":"uint","nodeType":"ElementaryTypeName","src":"12480:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":3050,"initialValue":{"argumentTypes":null,"hexValue":"30","id":3049,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"12489:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"12480:10:9"},"loopExpression":{"expression":{"argumentTypes":null,"id":3056,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"12514:3:9","subExpression":{"argumentTypes":null,"id":3055,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3048,"src":"12514:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":3057,"nodeType":"ExpressionStatement","src":"12514:3:9"},"nodeType":"ForStatement","src":"12476:316:9"}]},"documentation":null,"id":3081,"implemented":true,"kind":"function","modifiers":[],"name":"mergePositionsThroughAllConditions","nodeType":"FunctionDefinition","parameters":{"id":3013,"nodeType":"ParameterList","parameters":[{"constant":false,"id":3008,"name":"amount","nodeType":"VariableDeclaration","scope":3081,"src":"12104:11:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":3007,"name":"uint","nodeType":"ElementaryTypeName","src":"12104:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":3010,"name":"conditionsLeft","nodeType":"VariableDeclaration","scope":3081,"src":"12117:19:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":3009,"name":"uint","nodeType":"ElementaryTypeName","src":"12117:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":3012,"name":"parentCollectionId","nodeType":"VariableDeclaration","scope":3081,"src":"12138:23:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":3011,"name":"uint","nodeType":"ElementaryTypeName","src":"12138:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"12103:59:9"},"returnParameters":{"id":3014,"nodeType":"ParameterList","parameters":[],"src":"12183:0:9"},"scope":3082,"src":"12060:738:9","stateMutability":"nonpayable","superFunction":null,"visibility":"private"}],"scope":3083,"src":"340:12460:9"}],"src":"0:12801:9"},"legacyAST":{"absolutePath":"@gnosis.pm/hg-market-makers/contracts/MarketMaker.sol","exportedSymbols":{"MarketMaker":[3082]},"id":3083,"nodeType":"SourceUnit","nodes":[{"id":2070,"literals":["solidity","^","0.5",".1"],"nodeType":"PragmaDirective","src":"0:23:9"},{"absolutePath":"erc-1155/contracts/IERC1155TokenReceiver.sol","file":"erc-1155/contracts/IERC1155TokenReceiver.sol","id":2071,"nodeType":"ImportDirective","scope":3083,"sourceUnit":5045,"src":"24:54:9","symbolAliases":[],"unitAlias":""},{"absolutePath":"openzeppelin-solidity/contracts/ownership/Ownable.sol","file":"openzeppelin-solidity/contracts/ownership/Ownable.sol","id":2072,"nodeType":"ImportDirective","scope":3083,"sourceUnit":5292,"src":"79:63:9","symbolAliases":[],"unitAlias":""},{"absolutePath":"openzeppelin-solidity/contracts/math/SafeMath.sol","file":"openzeppelin-solidity/contracts/math/SafeMath.sol","id":2073,"nodeType":"ImportDirective","scope":3083,"sourceUnit":5183,"src":"143:59:9","symbolAliases":[],"unitAlias":""},{"absolutePath":"@gnosis.pm/util-contracts/contracts/SignedSafeMath.sol","file":"@gnosis.pm/util-contracts/contracts/SignedSafeMath.sol","id":2074,"nodeType":"ImportDirective","scope":3083,"sourceUnit":4234,"src":"203:64:9","symbolAliases":[],"unitAlias":""},{"absolutePath":"@gnosis.pm/hg-contracts/contracts/PredictionMarketSystem.sol","file":"@gnosis.pm/hg-contracts/contracts/PredictionMarketSystem.sol","id":2075,"nodeType":"ImportDirective","scope":3083,"sourceUnit":1597,"src":"268:70:9","symbolAliases":[],"unitAlias":""},{"baseContracts":[{"arguments":null,"baseName":{"contractScope":null,"id":2076,"name":"Ownable","nodeType":"UserDefinedTypeName","referencedDeclaration":5291,"src":"364:7:9","typeDescriptions":{"typeIdentifier":"t_contract$_Ownable_$5291","typeString":"contract Ownable"}},"id":2077,"nodeType":"InheritanceSpecifier","src":"364:7:9"},{"arguments":null,"baseName":{"contractScope":null,"id":2078,"name":"IERC1155TokenReceiver","nodeType":"UserDefinedTypeName","referencedDeclaration":5044,"src":"373:21:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC1155TokenReceiver_$5044","typeString":"contract IERC1155TokenReceiver"}},"id":2079,"nodeType":"InheritanceSpecifier","src":"373:21:9"}],"contractDependencies":[5044,5291],"contractKind":"contract","documentation":null,"fullyImplemented":false,"id":3082,"linearizedBaseContracts":[3082,5044,5291],"name":"MarketMaker","nodeType":"ContractDefinition","nodes":[{"id":2082,"libraryName":{"contractScope":null,"id":2080,"name":"SignedSafeMath","nodeType":"UserDefinedTypeName","referencedDeclaration":4233,"src":"407:14:9","typeDescriptions":{"typeIdentifier":"t_contract$_SignedSafeMath_$4233","typeString":"library SignedSafeMath"}},"nodeType":"UsingForDirective","src":"401:29:9","typeName":{"id":2081,"name":"int","nodeType":"ElementaryTypeName","src":"426:3:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}},{"id":2085,"libraryName":{"contractScope":null,"id":2083,"name":"SafeMath","nodeType":"UserDefinedTypeName","referencedDeclaration":5182,"src":"441:8:9","typeDescriptions":{"typeIdentifier":"t_contract$_SafeMath_$5182","typeString":"library SafeMath"}},"nodeType":"UsingForDirective","src":"435:24:9","typeName":{"id":2084,"name":"uint","nodeType":"ElementaryTypeName","src":"454:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}},{"constant":true,"id":2090,"name":"FEE_RANGE","nodeType":"VariableDeclaration","scope":3082,"src":"501:41:9","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"},"typeName":{"id":2086,"name":"uint64","nodeType":"ElementaryTypeName","src":"501:6:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"value":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_rational_1000000000000000000_by_1","typeString":"int_const 1000000000000000000"},"id":2089,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"hexValue":"3130","id":2087,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"536:2:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_10_by_1","typeString":"int_const 10"},"value":"10"},"nodeType":"BinaryOperation","operator":"**","rightExpression":{"argumentTypes":null,"hexValue":"3138","id":2088,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"540:2:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_18_by_1","typeString":"int_const 18"},"value":"18"},"src":"536:6:9","typeDescriptions":{"typeIdentifier":"t_rational_1000000000000000000_by_1","typeString":"int_const 1000000000000000000"}},"visibility":"public"},{"anonymous":false,"documentation":null,"id":2094,"name":"AMMCreated","nodeType":"EventDefinition","parameters":{"id":2093,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2092,"indexed":false,"name":"initialFunding","nodeType":"VariableDeclaration","scope":2094,"src":"596:19:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2091,"name":"uint","nodeType":"ElementaryTypeName","src":"596:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"595:21:9"},"src":"579:38:9"},{"anonymous":false,"documentation":null,"id":2096,"name":"AMMPaused","nodeType":"EventDefinition","parameters":{"id":2095,"nodeType":"ParameterList","parameters":[],"src":"637:2:9"},"src":"622:18:9"},{"anonymous":false,"documentation":null,"id":2098,"name":"AMMResumed","nodeType":"EventDefinition","parameters":{"id":2097,"nodeType":"ParameterList","parameters":[],"src":"661:2:9"},"src":"645:19:9"},{"anonymous":false,"documentation":null,"id":2100,"name":"AMMClosed","nodeType":"EventDefinition","parameters":{"id":2099,"nodeType":"ParameterList","parameters":[],"src":"684:2:9"},"src":"669:18:9"},{"anonymous":false,"documentation":null,"id":2104,"name":"AMMFundingChanged","nodeType":"EventDefinition","parameters":{"id":2103,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2102,"indexed":false,"name":"fundingChange","nodeType":"VariableDeclaration","scope":2104,"src":"716:17:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":2101,"name":"int","nodeType":"ElementaryTypeName","src":"716:3:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"value":null,"visibility":"internal"}],"src":"715:19:9"},"src":"692:43:9"},{"anonymous":false,"documentation":null,"id":2108,"name":"AMMFeeChanged","nodeType":"EventDefinition","parameters":{"id":2107,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2106,"indexed":false,"name":"newFee","nodeType":"VariableDeclaration","scope":2108,"src":"760:13:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"},"typeName":{"id":2105,"name":"uint64","nodeType":"ElementaryTypeName","src":"760:6:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"value":null,"visibility":"internal"}],"src":"759:15:9"},"src":"740:35:9"},{"anonymous":false,"documentation":null,"id":2112,"name":"AMMFeeWithdrawal","nodeType":"EventDefinition","parameters":{"id":2111,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2110,"indexed":false,"name":"fees","nodeType":"VariableDeclaration","scope":2112,"src":"803:9:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2109,"name":"uint","nodeType":"ElementaryTypeName","src":"803:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"802:11:9"},"src":"780:34:9"},{"anonymous":false,"documentation":null,"id":2123,"name":"AMMOutcomeTokenTrade","nodeType":"EventDefinition","parameters":{"id":2122,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2114,"indexed":true,"name":"transactor","nodeType":"VariableDeclaration","scope":2123,"src":"846:26:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2113,"name":"address","nodeType":"ElementaryTypeName","src":"846:7:9","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":2117,"indexed":false,"name":"outcomeTokenAmounts","nodeType":"VariableDeclaration","scope":2123,"src":"874:25:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_memory_ptr","typeString":"int256[]"},"typeName":{"baseType":{"id":2115,"name":"int","nodeType":"ElementaryTypeName","src":"874:3:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":2116,"length":null,"nodeType":"ArrayTypeName","src":"874:5:9","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_storage_ptr","typeString":"int256[]"}},"value":null,"visibility":"internal"},{"constant":false,"id":2119,"indexed":false,"name":"outcomeTokenNetCost","nodeType":"VariableDeclaration","scope":2123,"src":"901:23:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":2118,"name":"int","nodeType":"ElementaryTypeName","src":"901:3:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"value":null,"visibility":"internal"},{"constant":false,"id":2121,"indexed":false,"name":"marketFees","nodeType":"VariableDeclaration","scope":2123,"src":"926:15:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2120,"name":"uint","nodeType":"ElementaryTypeName","src":"926:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"845:97:9"},"src":"819:124:9"},{"constant":false,"id":2125,"name":"pmSystem","nodeType":"VariableDeclaration","scope":3082,"src":"984:38:9","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"},"typeName":{"contractScope":null,"id":2124,"name":"PredictionMarketSystem","nodeType":"UserDefinedTypeName","referencedDeclaration":1596,"src":"984:22:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}},"value":null,"visibility":"public"},{"constant":false,"id":2127,"name":"collateralToken","nodeType":"VariableDeclaration","scope":3082,"src":"1028:29:9","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5418","typeString":"contract IERC20"},"typeName":{"contractScope":null,"id":2126,"name":"IERC20","nodeType":"UserDefinedTypeName","referencedDeclaration":5418,"src":"1028:6:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5418","typeString":"contract IERC20"}},"value":null,"visibility":"public"},{"constant":false,"id":2130,"name":"conditionIds","nodeType":"VariableDeclaration","scope":3082,"src":"1063:29:9","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[]"},"typeName":{"baseType":{"id":2128,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1063:7:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":2129,"length":null,"nodeType":"ArrayTypeName","src":"1063:9:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage_ptr","typeString":"bytes32[]"}},"value":null,"visibility":"public"},{"constant":false,"id":2132,"name":"atomicOutcomeSlotCount","nodeType":"VariableDeclaration","scope":3082,"src":"1098:34:9","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2131,"name":"uint","nodeType":"ElementaryTypeName","src":"1098:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"public"},{"constant":false,"id":2134,"name":"fee","nodeType":"VariableDeclaration","scope":3082,"src":"1138:17:9","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"},"typeName":{"id":2133,"name":"uint64","nodeType":"ElementaryTypeName","src":"1138:6:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"value":null,"visibility":"public"},{"constant":false,"id":2136,"name":"funding","nodeType":"VariableDeclaration","scope":3082,"src":"1161:19:9","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2135,"name":"uint","nodeType":"ElementaryTypeName","src":"1161:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"public"},{"constant":false,"id":2138,"name":"stage","nodeType":"VariableDeclaration","scope":3082,"src":"1186:18:9","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"},"typeName":{"contractScope":null,"id":2137,"name":"Stage","nodeType":"UserDefinedTypeName","referencedDeclaration":2142,"src":"1186:5:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}},"value":null,"visibility":"public"},{"canonicalName":"MarketMaker.Stage","id":2142,"members":[{"id":2139,"name":"Running","nodeType":"EnumValue","src":"1231:7:9"},{"id":2140,"name":"Paused","nodeType":"EnumValue","src":"1248:6:9"},{"id":2141,"name":"Closed","nodeType":"EnumValue","src":"1264:6:9"}],"name":"Stage","nodeType":"EnumDefinition","src":"1210:66:9"},{"body":{"id":2153,"nodeType":"Block","src":"1346:97:9","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"},"id":2149,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2147,"name":"stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2138,"src":"1409:5:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"id":2148,"name":"_stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2144,"src":"1418:6:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}},"src":"1409:15:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":2146,"name":"require","nodeType":"Identifier","overloadedDeclarations":[5455,5456],"referencedDeclaration":5455,"src":"1401:7:9","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":2150,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1401:24:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2151,"nodeType":"ExpressionStatement","src":"1401:24:9"},{"id":2152,"nodeType":"PlaceholderStatement","src":"1435:1:9"}]},"documentation":null,"id":2154,"name":"atStage","nodeType":"ModifierDefinition","parameters":{"id":2145,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2144,"name":"_stage","nodeType":"VariableDeclaration","scope":2154,"src":"1332:12:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"},"typeName":{"contractScope":null,"id":2143,"name":"Stage","nodeType":"UserDefinedTypeName","referencedDeclaration":2142,"src":"1332:5:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}},"value":null,"visibility":"internal"}],"src":"1331:14:9"},"src":"1315:128:9","visibility":"internal"},{"body":{"id":2272,"nodeType":"Block","src":"1626:838:9","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":2181,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":2177,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2172,"name":"_pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2156,"src":"1679:9:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}],"id":2171,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1671:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2173,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1671:18:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"30","id":2175,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1701:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":2174,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1693:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2176,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1693:10:9","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"src":"1671:32:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint64","typeString":"uint64"},"id":2180,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2178,"name":"_fee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2163,"src":"1707:4:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"id":2179,"name":"FEE_RANGE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2090,"src":"1714:9:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"src":"1707:16:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"1671:52:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":2170,"name":"require","nodeType":"Identifier","overloadedDeclarations":[5455,5456],"referencedDeclaration":5455,"src":"1663:7:9","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":2182,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1663:61:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2183,"nodeType":"ExpressionStatement","src":"1663:61:9"},{"expression":{"argumentTypes":null,"id":2186,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2184,"name":"pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2125,"src":"1734:8:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"id":2185,"name":"_pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2156,"src":"1745:9:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}},"src":"1734:20:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}},"id":2187,"nodeType":"ExpressionStatement","src":"1734:20:9"},{"expression":{"argumentTypes":null,"id":2190,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2188,"name":"collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2127,"src":"1764:15:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5418","typeString":"contract IERC20"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"id":2189,"name":"_collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2158,"src":"1782:16:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5418","typeString":"contract IERC20"}},"src":"1764:34:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5418","typeString":"contract IERC20"}},"id":2191,"nodeType":"ExpressionStatement","src":"1764:34:9"},{"expression":{"argumentTypes":null,"id":2194,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2192,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2130,"src":"1808:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"id":2193,"name":"_conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2161,"src":"1823:13:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_memory_ptr","typeString":"bytes32[] memory"}},"src":"1808:28:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":2195,"nodeType":"ExpressionStatement","src":"1808:28:9"},{"expression":{"argumentTypes":null,"id":2198,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2196,"name":"fee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2134,"src":"1846:3:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"id":2197,"name":"_fee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2163,"src":"1852:4:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"src":"1846:10:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"id":2199,"nodeType":"ExpressionStatement","src":"1846:10:9"},{"expression":{"argumentTypes":null,"id":2202,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2200,"name":"atomicOutcomeSlotCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2132,"src":"1867:22:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"hexValue":"31","id":2201,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1892:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"1867:26:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2203,"nodeType":"ExpressionStatement","src":"1867:26:9"},{"body":{"id":2224,"nodeType":"Block","src":"1950:96:9","statements":[{"expression":{"argumentTypes":null,"id":2222,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2215,"name":"atomicOutcomeSlotCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2132,"src":"1964:22:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"*=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2218,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2130,"src":"2019:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":2220,"indexExpression":{"argumentTypes":null,"id":2219,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2205,"src":"2032:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2019:15:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"expression":{"argumentTypes":null,"id":2216,"name":"pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2125,"src":"1990:8:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}},"id":2217,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"getOutcomeSlotCount","nodeType":"MemberAccess","referencedDeclaration":1567,"src":"1990:28:9","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_bytes32_$returns$_t_uint256_$","typeString":"function (bytes32) view external returns (uint256)"}},"id":2221,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1990:45:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1964:71:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2223,"nodeType":"ExpressionStatement","src":"1964:71:9"}]},"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2211,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2208,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2205,"src":"1920:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2209,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2130,"src":"1924:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":2210,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","referencedDeclaration":null,"src":"1924:19:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1920:23:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":2225,"initializationExpression":{"assignments":[2205],"declarations":[{"constant":false,"id":2205,"name":"i","nodeType":"VariableDeclaration","scope":2225,"src":"1908:6:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2204,"name":"uint","nodeType":"ElementaryTypeName","src":"1908:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":2207,"initialValue":{"argumentTypes":null,"hexValue":"30","id":2206,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1917:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"1908:10:9"},"loopExpression":{"expression":{"argumentTypes":null,"id":2213,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"1945:3:9","subExpression":{"argumentTypes":null,"id":2212,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2205,"src":"1945:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2214,"nodeType":"ExpressionStatement","src":"1945:3:9"},"nodeType":"ForStatement","src":"1903:143:9"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2229,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2227,"name":"atomicOutcomeSlotCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2132,"src":"2063:22:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"argumentTypes":null,"hexValue":"31","id":2228,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2088:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"2063:26:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"636f6e646974696f6e73206d7573742062652076616c6964","id":2230,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"2091:26:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_cd148311b7911b4ee79dcdb6c43a5e3ce4b2c17323005884872aa057fa3bf785","typeString":"literal_string \\"conditions must be valid\\""},"value":"conditions must be valid"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_cd148311b7911b4ee79dcdb6c43a5e3ce4b2c17323005884872aa057fa3bf785","typeString":"literal_string \\"conditions must be valid\\""}],"id":2226,"name":"require","nodeType":"Identifier","overloadedDeclarations":[5455,5456],"referencedDeclaration":5456,"src":"2055:7:9","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":2231,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2055:63:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2232,"nodeType":"ExpressionStatement","src":"2055:63:9"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":2249,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2236,"name":"marketOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2167,"src":"2166:11:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2238,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5489,"src":"2187:4:9","typeDescriptions":{"typeIdentifier":"t_contract$_MarketMaker_$3082","typeString":"contract MarketMaker"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_MarketMaker_$3082","typeString":"contract MarketMaker"}],"id":2237,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2179:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2239,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2179:13:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":2240,"name":"initialFunding","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2165,"src":"2194:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2234,"name":"collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2127,"src":"2137:15:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5418","typeString":"contract IERC20"}},"id":2235,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"transferFrom","nodeType":"MemberAccess","referencedDeclaration":5401,"src":"2137:28:9","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (address,address,uint256) external returns (bool)"}},"id":2241,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2137:72:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2245,"name":"pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2125,"src":"2245:8:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}],"id":2244,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2237:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2246,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2237:17:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":2247,"name":"initialFunding","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2165,"src":"2256:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2242,"name":"collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2127,"src":"2213:15:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5418","typeString":"contract IERC20"}},"id":2243,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"approve","nodeType":"MemberAccess","referencedDeclaration":5390,"src":"2213:23:9","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (address,uint256) external returns (bool)"}},"id":2248,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2213:58:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"2137:134:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":2233,"name":"require","nodeType":"Identifier","overloadedDeclarations":[5455,5456],"referencedDeclaration":5455,"src":"2129:7:9","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":2250,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2129:143:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2251,"nodeType":"ExpressionStatement","src":"2129:143:9"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2253,"name":"initialFunding","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2165,"src":"2317:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2254,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2130,"src":"2333:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":2255,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","referencedDeclaration":null,"src":"2333:19:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"hexValue":"30","id":2256,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2354:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":2252,"name":"splitPositionThroughAllConditions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3006,"src":"2283:33:9","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (uint256,uint256,uint256)"}},"id":2257,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2283:73:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2258,"nodeType":"ExpressionStatement","src":"2283:73:9"},{"expression":{"argumentTypes":null,"id":2261,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2259,"name":"funding","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2136,"src":"2367:7:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"id":2260,"name":"initialFunding","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2165,"src":"2377:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2367:24:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2262,"nodeType":"ExpressionStatement","src":"2367:24:9"},{"expression":{"argumentTypes":null,"id":2266,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2263,"name":"stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2138,"src":"2402:5:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2264,"name":"Stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2142,"src":"2410:5:9","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Stage_$2142_$","typeString":"type(enum MarketMaker.Stage)"}},"id":2265,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"Running","nodeType":"MemberAccess","referencedDeclaration":null,"src":"2410:13:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}},"src":"2402:21:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}},"id":2267,"nodeType":"ExpressionStatement","src":"2402:21:9"},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2269,"name":"funding","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2136,"src":"2449:7:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":2268,"name":"AMMCreated","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2094,"src":"2438:10:9","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_uint256_$returns$__$","typeString":"function (uint256)"}},"id":2270,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2438:19:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2271,"nodeType":"EmitStatement","src":"2433:24:9"}]},"documentation":null,"id":2273,"implemented":true,"kind":"constructor","modifiers":[],"name":"","nodeType":"FunctionDefinition","parameters":{"id":2168,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2156,"name":"_pmSystem","nodeType":"VariableDeclaration","scope":2273,"src":"1461:32:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"},"typeName":{"contractScope":null,"id":2155,"name":"PredictionMarketSystem","nodeType":"UserDefinedTypeName","referencedDeclaration":1596,"src":"1461:22:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}},"value":null,"visibility":"internal"},{"constant":false,"id":2158,"name":"_collateralToken","nodeType":"VariableDeclaration","scope":2273,"src":"1495:23:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5418","typeString":"contract IERC20"},"typeName":{"contractScope":null,"id":2157,"name":"IERC20","nodeType":"UserDefinedTypeName","referencedDeclaration":5418,"src":"1495:6:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5418","typeString":"contract IERC20"}},"value":null,"visibility":"internal"},{"constant":false,"id":2161,"name":"_conditionIds","nodeType":"VariableDeclaration","scope":2273,"src":"1520:30:9","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_memory_ptr","typeString":"bytes32[]"},"typeName":{"baseType":{"id":2159,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1520:7:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":2160,"length":null,"nodeType":"ArrayTypeName","src":"1520:9:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage_ptr","typeString":"bytes32[]"}},"value":null,"visibility":"internal"},{"constant":false,"id":2163,"name":"_fee","nodeType":"VariableDeclaration","scope":2273,"src":"1552:11:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"},"typeName":{"id":2162,"name":"uint64","nodeType":"ElementaryTypeName","src":"1552:6:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"value":null,"visibility":"internal"},{"constant":false,"id":2165,"name":"initialFunding","nodeType":"VariableDeclaration","scope":2273,"src":"1565:19:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2164,"name":"uint","nodeType":"ElementaryTypeName","src":"1565:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":2167,"name":"marketOwner","nodeType":"VariableDeclaration","scope":2273,"src":"1586:19:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2166,"name":"address","nodeType":"ElementaryTypeName","src":"1586:7:9","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"}],"src":"1460:146:9"},"returnParameters":{"id":2169,"nodeType":"ParameterList","parameters":[],"src":"1626:0:9"},"scope":3082,"src":"1449:1015:9","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"body":null,"documentation":null,"id":2281,"implemented":false,"kind":"function","modifiers":[],"name":"calcNetCost","nodeType":"FunctionDefinition","parameters":{"id":2277,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2276,"name":"outcomeTokenAmounts","nodeType":"VariableDeclaration","scope":2281,"src":"2491:32:9","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_memory_ptr","typeString":"int256[]"},"typeName":{"baseType":{"id":2274,"name":"int","nodeType":"ElementaryTypeName","src":"2491:3:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":2275,"length":null,"nodeType":"ArrayTypeName","src":"2491:5:9","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_storage_ptr","typeString":"int256[]"}},"value":null,"visibility":"internal"}],"src":"2490:34:9"},"returnParameters":{"id":2280,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2279,"name":"netCost","nodeType":"VariableDeclaration","scope":2281,"src":"2546:11:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":2278,"name":"int","nodeType":"ElementaryTypeName","src":"2546:3:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"value":null,"visibility":"internal"}],"src":"2545:13:9"},"scope":3082,"src":"2470:89:9","stateMutability":"view","superFunction":null,"visibility":"public"},{"body":{"id":2358,"nodeType":"Block","src":"2923:1114:9","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2295,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2293,"name":"fundingChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2283,"src":"2941:13:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"hexValue":"30","id":2294,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2958:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"2941:18:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"412066756e64696e674368616e6765206f66207a65726f206973206e6f7420612066756e64696e674368616e676520617420616c6c2e20497420697320756e61636365707461626c652e","id":2296,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"2961:76:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_8b0abfd0a6a26cf9e76f3923f83612ab8d81fdb0309d6dce5760bf580777c1fc","typeString":"literal_string \\"A fundingChange of zero is not a fundingChange at all. It is unacceptable.\\""},"value":"A fundingChange of zero is not a fundingChange at all. It is unacceptable."}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_8b0abfd0a6a26cf9e76f3923f83612ab8d81fdb0309d6dce5760bf580777c1fc","typeString":"literal_string \\"A fundingChange of zero is not a fundingChange at all. It is unacceptable.\\""}],"id":2292,"name":"require","nodeType":"Identifier","overloadedDeclarations":[5455,5456],"referencedDeclaration":5456,"src":"2933:7:9","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":2297,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2933:105:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2298,"nodeType":"ExpressionStatement","src":"2933:105:9"},{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2301,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2299,"name":"fundingChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2283,"src":"3164:13:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"argumentTypes":null,"hexValue":"30","id":2300,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3180:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"3164:17:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":2349,"nodeType":"IfStatement","src":"3160:399:9","trueBody":{"id":2348,"nodeType":"Block","src":"3183:376:9","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":2323,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2305,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5452,"src":"3234:3:9","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":2306,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"3234:10:9","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2308,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5489,"src":"3254:4:9","typeDescriptions":{"typeIdentifier":"t_contract$_MarketMaker_$3082","typeString":"contract MarketMaker"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_MarketMaker_$3082","typeString":"contract MarketMaker"}],"id":2307,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3246:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2309,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3246:13:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2311,"name":"fundingChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2283,"src":"3266:13:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2310,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3261:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2312,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3261:19:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address_payable","typeString":"address payable"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2303,"name":"collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2127,"src":"3205:15:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5418","typeString":"contract IERC20"}},"id":2304,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"transferFrom","nodeType":"MemberAccess","referencedDeclaration":5401,"src":"3205:28:9","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (address,address,uint256) external returns (bool)"}},"id":2313,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3205:76:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2317,"name":"pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2125,"src":"3317:8:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}],"id":2316,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3309:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2318,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3309:17:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2320,"name":"fundingChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2283,"src":"3333:13:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2319,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3328:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2321,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3328:19:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2314,"name":"collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2127,"src":"3285:15:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5418","typeString":"contract IERC20"}},"id":2315,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"approve","nodeType":"MemberAccess","referencedDeclaration":5390,"src":"3285:23:9","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (address,uint256) external returns (bool)"}},"id":2322,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3285:63:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"3205:143:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":2302,"name":"require","nodeType":"Identifier","overloadedDeclarations":[5455,5456],"referencedDeclaration":5455,"src":"3197:7:9","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":2324,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3197:152:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2325,"nodeType":"ExpressionStatement","src":"3197:152:9"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2328,"name":"fundingChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2283,"src":"3402:13:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2327,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3397:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2329,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3397:19:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2330,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2130,"src":"3418:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":2331,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","referencedDeclaration":null,"src":"3418:19:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"hexValue":"30","id":2332,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3439:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":2326,"name":"splitPositionThroughAllConditions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3006,"src":"3363:33:9","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (uint256,uint256,uint256)"}},"id":2333,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3363:78:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2334,"nodeType":"ExpressionStatement","src":"3363:78:9"},{"expression":{"argumentTypes":null,"id":2342,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2335,"name":"funding","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2136,"src":"3455:7:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2339,"name":"fundingChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2283,"src":"3482:13:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2338,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3477:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2340,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3477:19:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2336,"name":"funding","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2136,"src":"3465:7:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2337,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"add","nodeType":"MemberAccess","referencedDeclaration":5161,"src":"3465:11:9","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":2341,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3465:32:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3455:42:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2343,"nodeType":"ExpressionStatement","src":"3455:42:9"},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2345,"name":"fundingChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2283,"src":"3534:13:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2344,"name":"AMMFundingChanged","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2104,"src":"3516:17:9","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_int256_$returns$__$","typeString":"function (int256)"}},"id":2346,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3516:32:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2347,"nodeType":"EmitStatement","src":"3511:37:9"}]}},{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2352,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2350,"name":"fundingChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2283,"src":"3677:13:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"hexValue":"30","id":2351,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3693:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"3677:17:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":2357,"nodeType":"IfStatement","src":"3673:358:9","trueBody":{"id":2356,"nodeType":"Block","src":"3696:335:9","statements":[{"expression":{"argumentTypes":null,"arguments":[],"expression":{"argumentTypes":[],"id":2353,"name":"revert","nodeType":"Identifier","overloadedDeclarations":[5457,5458],"referencedDeclaration":5457,"src":"4012:6:9","typeDescriptions":{"typeIdentifier":"t_function_revert_pure$__$returns$__$","typeString":"function () pure"}},"id":2354,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4012:8:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2355,"nodeType":"ExpressionStatement","src":"4012:8:9"}]}}]},"documentation":"@dev Allows to fund the market with collateral tokens converting them into outcome tokens\\n Note for the future: should combine splitPosition and mergePositions into one function, as code duplication causes things like this to happen.","id":2359,"implemented":true,"kind":"function","modifiers":[{"arguments":null,"id":2286,"modifierName":{"argumentTypes":null,"id":2285,"name":"onlyOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5225,"src":"2879:9:9","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"2879:9:9"},{"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2288,"name":"Stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2142,"src":"2905:5:9","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Stage_$2142_$","typeString":"type(enum MarketMaker.Stage)"}},"id":2289,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"Paused","nodeType":"MemberAccess","referencedDeclaration":null,"src":"2905:12:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}}],"id":2290,"modifierName":{"argumentTypes":null,"id":2287,"name":"atStage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2154,"src":"2897:7:9","typeDescriptions":{"typeIdentifier":"t_modifier$_t_enum$_Stage_$2142_$","typeString":"modifier (enum MarketMaker.Stage)"}},"nodeType":"ModifierInvocation","src":"2897:21:9"}],"name":"changeFunding","nodeType":"FunctionDefinition","parameters":{"id":2284,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2283,"name":"fundingChange","nodeType":"VariableDeclaration","scope":2359,"src":"2837:17:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":2282,"name":"int","nodeType":"ElementaryTypeName","src":"2837:3:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"value":null,"visibility":"internal"}],"src":"2836:19:9"},"returnParameters":{"id":2291,"nodeType":"ParameterList","parameters":[],"src":"2923:0:9"},"scope":3082,"src":"2814:1223:9","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"body":{"id":2376,"nodeType":"Block","src":"4100:63:9","statements":[{"expression":{"argumentTypes":null,"id":2371,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2368,"name":"stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2138,"src":"4110:5:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2369,"name":"Stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2142,"src":"4118:5:9","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Stage_$2142_$","typeString":"type(enum MarketMaker.Stage)"}},"id":2370,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"Paused","nodeType":"MemberAccess","referencedDeclaration":null,"src":"4118:12:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}},"src":"4110:20:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}},"id":2372,"nodeType":"ExpressionStatement","src":"4110:20:9"},{"eventCall":{"argumentTypes":null,"arguments":[],"expression":{"argumentTypes":[],"id":2373,"name":"AMMPaused","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2096,"src":"4145:9:9","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$__$returns$__$","typeString":"function ()"}},"id":2374,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4145:11:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2375,"nodeType":"EmitStatement","src":"4140:16:9"}]},"documentation":null,"id":2377,"implemented":true,"kind":"function","modifiers":[{"arguments":null,"id":2362,"modifierName":{"argumentTypes":null,"id":2361,"name":"onlyOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5225,"src":"4067:9:9","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"4067:9:9"},{"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2364,"name":"Stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2142,"src":"4085:5:9","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Stage_$2142_$","typeString":"type(enum MarketMaker.Stage)"}},"id":2365,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"Running","nodeType":"MemberAccess","referencedDeclaration":null,"src":"4085:13:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}}],"id":2366,"modifierName":{"argumentTypes":null,"id":2363,"name":"atStage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2154,"src":"4077:7:9","typeDescriptions":{"typeIdentifier":"t_modifier$_t_enum$_Stage_$2142_$","typeString":"modifier (enum MarketMaker.Stage)"}},"nodeType":"ModifierInvocation","src":"4077:22:9"}],"name":"pause","nodeType":"FunctionDefinition","parameters":{"id":2360,"nodeType":"ParameterList","parameters":[],"src":"4057:2:9"},"returnParameters":{"id":2367,"nodeType":"ParameterList","parameters":[],"src":"4100:0:9"},"scope":3082,"src":"4043:120:9","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"body":{"id":2394,"nodeType":"Block","src":"4230:65:9","statements":[{"expression":{"argumentTypes":null,"id":2389,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2386,"name":"stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2138,"src":"4240:5:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2387,"name":"Stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2142,"src":"4248:5:9","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Stage_$2142_$","typeString":"type(enum MarketMaker.Stage)"}},"id":2388,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"Running","nodeType":"MemberAccess","referencedDeclaration":null,"src":"4248:13:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}},"src":"4240:21:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}},"id":2390,"nodeType":"ExpressionStatement","src":"4240:21:9"},{"eventCall":{"argumentTypes":null,"arguments":[],"expression":{"argumentTypes":[],"id":2391,"name":"AMMResumed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2098,"src":"4276:10:9","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$__$returns$__$","typeString":"function ()"}},"id":2392,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4276:12:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2393,"nodeType":"EmitStatement","src":"4271:17:9"}]},"documentation":null,"id":2395,"implemented":true,"kind":"function","modifiers":[{"arguments":null,"id":2380,"modifierName":{"argumentTypes":null,"id":2379,"name":"onlyOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5225,"src":"4198:9:9","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"4198:9:9"},{"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2382,"name":"Stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2142,"src":"4216:5:9","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Stage_$2142_$","typeString":"type(enum MarketMaker.Stage)"}},"id":2383,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"Paused","nodeType":"MemberAccess","referencedDeclaration":null,"src":"4216:12:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}}],"id":2384,"modifierName":{"argumentTypes":null,"id":2381,"name":"atStage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2154,"src":"4208:7:9","typeDescriptions":{"typeIdentifier":"t_modifier$_t_enum$_Stage_$2142_$","typeString":"modifier (enum MarketMaker.Stage)"}},"nodeType":"ModifierInvocation","src":"4208:21:9"}],"name":"resume","nodeType":"FunctionDefinition","parameters":{"id":2378,"nodeType":"ParameterList","parameters":[],"src":"4188:2:9"},"returnParameters":{"id":2385,"nodeType":"ParameterList","parameters":[],"src":"4230:0:9"},"scope":3082,"src":"4173:122:9","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"body":{"id":2414,"nodeType":"Block","src":"4372:60:9","statements":[{"expression":{"argumentTypes":null,"id":2408,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2406,"name":"fee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2134,"src":"4382:3:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"id":2407,"name":"_fee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2397,"src":"4388:4:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"src":"4382:10:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"id":2409,"nodeType":"ExpressionStatement","src":"4382:10:9"},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2411,"name":"fee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2134,"src":"4421:3:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint64","typeString":"uint64"}],"id":2410,"name":"AMMFeeChanged","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2108,"src":"4407:13:9","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_uint64_$returns$__$","typeString":"function (uint64)"}},"id":2412,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4407:18:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2413,"nodeType":"EmitStatement","src":"4402:23:9"}]},"documentation":null,"id":2415,"implemented":true,"kind":"function","modifiers":[{"arguments":null,"id":2400,"modifierName":{"argumentTypes":null,"id":2399,"name":"onlyOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5225,"src":"4340:9:9","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"4340:9:9"},{"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2402,"name":"Stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2142,"src":"4358:5:9","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Stage_$2142_$","typeString":"type(enum MarketMaker.Stage)"}},"id":2403,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"Paused","nodeType":"MemberAccess","referencedDeclaration":null,"src":"4358:12:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}}],"id":2404,"modifierName":{"argumentTypes":null,"id":2401,"name":"atStage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2154,"src":"4350:7:9","typeDescriptions":{"typeIdentifier":"t_modifier$_t_enum$_Stage_$2142_$","typeString":"modifier (enum MarketMaker.Stage)"}},"nodeType":"ModifierInvocation","src":"4350:21:9"}],"name":"changeFee","nodeType":"FunctionDefinition","parameters":{"id":2398,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2397,"name":"_fee","nodeType":"VariableDeclaration","scope":2415,"src":"4320:11:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"},"typeName":{"id":2396,"name":"uint64","nodeType":"ElementaryTypeName","src":"4320:6:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"value":null,"visibility":"internal"}],"src":"4319:13:9"},"returnParameters":{"id":2405,"nodeType":"ParameterList","parameters":[],"src":"4372:0:9"},"scope":3082,"src":"4301:131:9","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"body":{"id":2478,"nodeType":"Block","src":"4604:423:9","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":2429,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"},"id":2424,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2421,"name":"stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2138,"src":"4622:5:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2422,"name":"Stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2142,"src":"4631:5:9","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Stage_$2142_$","typeString":"type(enum MarketMaker.Stage)"}},"id":2423,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"Running","nodeType":"MemberAccess","referencedDeclaration":null,"src":"4631:13:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}},"src":"4622:22:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"||","rightExpression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"},"id":2428,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2425,"name":"stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2138,"src":"4648:5:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2426,"name":"Stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2142,"src":"4657:5:9","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Stage_$2142_$","typeString":"type(enum MarketMaker.Stage)"}},"id":2427,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"Paused","nodeType":"MemberAccess","referencedDeclaration":null,"src":"4657:12:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}},"src":"4648:21:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"4622:47:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"54686973204d61726b65742068617320616c7265616479206265656e20636c6f736564","id":2430,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"4671:37:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_ce82b757e84d3f085f7655825c68fa1a13fda6cc3913781fbe7409417e74f19c","typeString":"literal_string \\"This Market has already been closed\\""},"value":"This Market has already been closed"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_ce82b757e84d3f085f7655825c68fa1a13fda6cc3913781fbe7409417e74f19c","typeString":"literal_string \\"This Market has already been closed\\""}],"id":2420,"name":"require","nodeType":"Identifier","overloadedDeclarations":[5455,5456],"referencedDeclaration":5456,"src":"4614:7:9","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":2431,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4614:95:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2432,"nodeType":"ExpressionStatement","src":"4614:95:9"},{"body":{"id":2468,"nodeType":"Block","src":"4769:196:9","statements":[{"assignments":[2444],"declarations":[{"constant":false,"id":2444,"name":"positionId","nodeType":"VariableDeclaration","scope":2468,"src":"4783:15:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2443,"name":"uint","nodeType":"ElementaryTypeName","src":"4783:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":2448,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2446,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2434,"src":"4826:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":2445,"name":"generateAtomicPositionId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2931,"src":"4801:24:9","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256) view returns (uint256)"}},"id":2447,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4801:27:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"4783:45:9"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2453,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5489,"src":"4876:4:9","typeDescriptions":{"typeIdentifier":"t_contract$_MarketMaker_$3082","typeString":"contract MarketMaker"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_MarketMaker_$3082","typeString":"contract MarketMaker"}],"id":2452,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4868:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2454,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4868:13:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"arguments":[],"expression":{"argumentTypes":[],"id":2455,"name":"owner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5216,"src":"4883:5:9","typeDescriptions":{"typeIdentifier":"t_function_internal_view$__$returns$_t_address_$","typeString":"function () view returns (address)"}},"id":2456,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4883:7:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":2457,"name":"positionId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2444,"src":"4892:10:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2461,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5489,"src":"4931:4:9","typeDescriptions":{"typeIdentifier":"t_contract$_MarketMaker_$3082","typeString":"contract MarketMaker"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_MarketMaker_$3082","typeString":"contract MarketMaker"}],"id":2460,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4923:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2462,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4923:13:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":2463,"name":"positionId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2444,"src":"4938:10:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2458,"name":"pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2125,"src":"4904:8:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}},"id":2459,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"balanceOf","nodeType":"MemberAccess","referencedDeclaration":4790,"src":"4904:18:9","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$_t_uint256_$returns$_t_uint256_$","typeString":"function (address,uint256) view external returns (uint256)"}},"id":2464,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4904:45:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"hexValue":"","id":2465,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"4951:2:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470","typeString":"literal_string \\"\\""},"value":""}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_stringliteral_c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470","typeString":"literal_string \\"\\""}],"expression":{"argumentTypes":null,"id":2449,"name":"pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2125,"src":"4842:8:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}},"id":2451,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"safeTransferFrom","nodeType":"MemberAccess","referencedDeclaration":4638,"src":"4842:25:9","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_address_$_t_uint256_$_t_uint256_$_t_bytes_memory_ptr_$returns$__$","typeString":"function (address,address,uint256,uint256,bytes memory) external"}},"id":2466,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4842:112:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2467,"nodeType":"ExpressionStatement","src":"4842:112:9"}]},"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2439,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2437,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2434,"src":"4736:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"id":2438,"name":"atomicOutcomeSlotCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2132,"src":"4740:22:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4736:26:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":2469,"initializationExpression":{"assignments":[2434],"declarations":[{"constant":false,"id":2434,"name":"i","nodeType":"VariableDeclaration","scope":2469,"src":"4724:6:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2433,"name":"uint","nodeType":"ElementaryTypeName","src":"4724:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":2436,"initialValue":{"argumentTypes":null,"hexValue":"30","id":2435,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4733:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"4724:10:9"},"loopExpression":{"expression":{"argumentTypes":null,"id":2441,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"4764:3:9","subExpression":{"argumentTypes":null,"id":2440,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2434,"src":"4764:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2442,"nodeType":"ExpressionStatement","src":"4764:3:9"},"nodeType":"ForStatement","src":"4719:246:9"},{"expression":{"argumentTypes":null,"id":2473,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2470,"name":"stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2138,"src":"4974:5:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2471,"name":"Stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2142,"src":"4982:5:9","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Stage_$2142_$","typeString":"type(enum MarketMaker.Stage)"}},"id":2472,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"Closed","nodeType":"MemberAccess","referencedDeclaration":null,"src":"4982:12:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}},"src":"4974:20:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}},"id":2474,"nodeType":"ExpressionStatement","src":"4974:20:9"},{"eventCall":{"argumentTypes":null,"arguments":[],"expression":{"argumentTypes":[],"id":2475,"name":"AMMClosed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2100,"src":"5009:9:9","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$__$returns$__$","typeString":"function ()"}},"id":2476,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5009:11:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2477,"nodeType":"EmitStatement","src":"5004:16:9"}]},"documentation":"@dev Allows market owner to close the markets by transferring all remaining outcome tokens to the owner","id":2479,"implemented":true,"kind":"function","modifiers":[{"arguments":null,"id":2418,"modifierName":{"argumentTypes":null,"id":2417,"name":"onlyOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5225,"src":"4590:9:9","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"4590:9:9"}],"name":"close","nodeType":"FunctionDefinition","parameters":{"id":2416,"nodeType":"ParameterList","parameters":[],"src":"4564:2:9"},"returnParameters":{"id":2419,"nodeType":"ParameterList","parameters":[],"src":"4604:0:9"},"scope":3082,"src":"4550:477:9","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"body":{"id":2508,"nodeType":"Block","src":"5219:184:9","statements":[{"expression":{"argumentTypes":null,"id":2493,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2486,"name":"fees","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2484,"src":"5229:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2490,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5489,"src":"5270:4:9","typeDescriptions":{"typeIdentifier":"t_contract$_MarketMaker_$3082","typeString":"contract MarketMaker"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_MarketMaker_$3082","typeString":"contract MarketMaker"}],"id":2489,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"5262:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2491,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5262:13:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"argumentTypes":null,"id":2487,"name":"collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2127,"src":"5236:15:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5418","typeString":"contract IERC20"}},"id":2488,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"balanceOf","nodeType":"MemberAccess","referencedDeclaration":5363,"src":"5236:25:9","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$returns$_t_uint256_$","typeString":"function (address) view external returns (uint256)"}},"id":2492,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5236:40:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5229:47:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2494,"nodeType":"ExpressionStatement","src":"5229:47:9"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[],"expression":{"argumentTypes":[],"id":2498,"name":"owner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5216,"src":"5344:5:9","typeDescriptions":{"typeIdentifier":"t_function_internal_view$__$returns$_t_address_$","typeString":"function () view returns (address)"}},"id":2499,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5344:7:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":2500,"name":"fees","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2484,"src":"5353:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2496,"name":"collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2127,"src":"5319:15:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5418","typeString":"contract IERC20"}},"id":2497,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"transfer","nodeType":"MemberAccess","referencedDeclaration":5381,"src":"5319:24:9","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (address,uint256) external returns (bool)"}},"id":2501,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5319:39:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":2495,"name":"require","nodeType":"Identifier","overloadedDeclarations":[5455,5456],"referencedDeclaration":5455,"src":"5311:7:9","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":2502,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5311:48:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2503,"nodeType":"ExpressionStatement","src":"5311:48:9"},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2505,"name":"fees","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2484,"src":"5391:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":2504,"name":"AMMFeeWithdrawal","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2112,"src":"5374:16:9","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_uint256_$returns$__$","typeString":"function (uint256)"}},"id":2506,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5374:22:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2507,"nodeType":"EmitStatement","src":"5369:27:9"}]},"documentation":"@dev Allows market owner to withdraw fees generated by trades\\n @return Fee amount","id":2509,"implemented":true,"kind":"function","modifiers":[{"arguments":null,"id":2482,"modifierName":{"argumentTypes":null,"id":2481,"name":"onlyOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5225,"src":"5177:9:9","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"5177:9:9"}],"name":"withdrawFees","nodeType":"FunctionDefinition","parameters":{"id":2480,"nodeType":"ParameterList","parameters":[],"src":"5151:2:9"},"returnParameters":{"id":2485,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2484,"name":"fees","nodeType":"VariableDeclaration","scope":2509,"src":"5204:9:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2483,"name":"uint","nodeType":"ElementaryTypeName","src":"5204:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"5203:11:9"},"scope":3082,"src":"5130:273:9","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"body":{"id":2752,"nodeType":"Block","src":"7375:2173:9","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2527,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2524,"name":"outcomeTokenAmounts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2512,"src":"7393:19:9","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_memory_ptr","typeString":"int256[] memory"}},"id":2525,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","referencedDeclaration":null,"src":"7393:26:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"id":2526,"name":"atomicOutcomeSlotCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2132,"src":"7423:22:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"7393:52:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":2523,"name":"require","nodeType":"Identifier","overloadedDeclarations":[5455,5456],"referencedDeclaration":5455,"src":"7385:7:9","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":2528,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7385:61:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2529,"nodeType":"ExpressionStatement","src":"7385:61:9"},{"assignments":[2531],"declarations":[{"constant":false,"id":2531,"name":"outcomeTokenNetCost","nodeType":"VariableDeclaration","scope":2752,"src":"7507:23:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":2530,"name":"int","nodeType":"ElementaryTypeName","src":"7507:3:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"value":null,"visibility":"internal"}],"id":2535,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2533,"name":"outcomeTokenAmounts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2512,"src":"7545:19:9","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_memory_ptr","typeString":"int256[] memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_array$_t_int256_$dyn_memory_ptr","typeString":"int256[] memory"}],"id":2532,"name":"calcNetCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2281,"src":"7533:11:9","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_array$_t_int256_$dyn_memory_ptr_$returns$_t_int256_$","typeString":"function (int256[] memory) view returns (int256)"}},"id":2534,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7533:32:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"VariableDeclarationStatement","src":"7507:58:9"},{"assignments":[2537],"declarations":[{"constant":false,"id":2537,"name":"fees","nodeType":"VariableDeclaration","scope":2752,"src":"7575:8:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":2536,"name":"int","nodeType":"ElementaryTypeName","src":"7575:3:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"value":null,"visibility":"internal"}],"id":2538,"initialValue":null,"nodeType":"VariableDeclarationStatement","src":"7575:8:9"},{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2541,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2539,"name":"outcomeTokenNetCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2531,"src":"7596:19:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"hexValue":"30","id":2540,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"7618:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"7596:23:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"expression":{"argumentTypes":null,"id":2561,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2553,"name":"fees","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2537,"src":"7713:4:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2557,"name":"outcomeTokenNetCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2531,"src":"7743:19:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2556,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"7738:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2558,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7738:25:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":2555,"name":"calcMarketFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2767,"src":"7724:13:9","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256) view returns (uint256)"}},"id":2559,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7724:40:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":2554,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"7720:3:9","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":"int"},"id":2560,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7720:45:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"7713:52:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":2562,"nodeType":"ExpressionStatement","src":"7713:52:9"},"id":2563,"nodeType":"IfStatement","src":"7593:172:9","trueBody":{"expression":{"argumentTypes":null,"id":2551,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2542,"name":"fees","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2537,"src":"7633:4:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2547,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"7663:20:9","subExpression":{"argumentTypes":null,"id":2546,"name":"outcomeTokenNetCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2531,"src":"7664:19:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2545,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"7658:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2548,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7658:26:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":2544,"name":"calcMarketFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2767,"src":"7644:13:9","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256) view returns (uint256)"}},"id":2549,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7644:41:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":2543,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"7640:3:9","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":"int"},"id":2550,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7640:46:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"7633:53:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":2552,"nodeType":"ExpressionStatement","src":"7633:53:9"}},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2567,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2565,"name":"fees","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2537,"src":"7784:4:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"argumentTypes":null,"hexValue":"30","id":2566,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"7792:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"7784:9:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":2564,"name":"require","nodeType":"Identifier","overloadedDeclarations":[5455,5456],"referencedDeclaration":5455,"src":"7776:7:9","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":2568,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7776:18:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2569,"nodeType":"ExpressionStatement","src":"7776:18:9"},{"expression":{"argumentTypes":null,"id":2575,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2570,"name":"netCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2521,"src":"7804:7:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2573,"name":"fees","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2537,"src":"7838:4:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"expression":{"argumentTypes":null,"id":2571,"name":"outcomeTokenNetCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2531,"src":"7814:19:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":2572,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"add","nodeType":"MemberAccess","referencedDeclaration":4232,"src":"7814:23:9","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_int256_$_t_int256_$returns$_t_int256_$bound_to$_t_int256_$","typeString":"function (int256,int256) pure returns (int256)"}},"id":2574,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7814:29:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"7804:39:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":2576,"nodeType":"ExpressionStatement","src":"7804:39:9"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":2589,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"components":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":2584,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2580,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2578,"name":"collateralLimit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2514,"src":"7876:15:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"hexValue":"30","id":2579,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"7895:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"7876:20:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2583,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2581,"name":"netCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2521,"src":"7900:7:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"<=","rightExpression":{"argumentTypes":null,"id":2582,"name":"collateralLimit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2514,"src":"7911:15:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"7900:26:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"7876:50:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"id":2585,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"7875:52:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"||","rightExpression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2588,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2586,"name":"collateralLimit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2514,"src":"7943:15:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"hexValue":"30","id":2587,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"7962:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"7943:20:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"7875:88:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":2577,"name":"require","nodeType":"Identifier","overloadedDeclarations":[5455,5456],"referencedDeclaration":5455,"src":"7854:7:9","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":2590,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7854:119:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2591,"nodeType":"ExpressionStatement","src":"7854:119:9"},{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2594,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2592,"name":"outcomeTokenNetCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2531,"src":"7987:19:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"argumentTypes":null,"hexValue":"30","id":2593,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8009:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"7987:23:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":2629,"nodeType":"IfStatement","src":"7984:350:9","trueBody":{"id":2628,"nodeType":"Block","src":"8012:322:9","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":2616,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2598,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5452,"src":"8080:3:9","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":2599,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"8080:10:9","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2601,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5489,"src":"8100:4:9","typeDescriptions":{"typeIdentifier":"t_contract$_MarketMaker_$3082","typeString":"contract MarketMaker"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_MarketMaker_$3082","typeString":"contract MarketMaker"}],"id":2600,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"8092:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2602,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8092:13:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2604,"name":"netCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2521,"src":"8112:7:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2603,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"8107:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2605,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8107:13:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address_payable","typeString":"address payable"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2596,"name":"collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2127,"src":"8051:15:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5418","typeString":"contract IERC20"}},"id":2597,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"transferFrom","nodeType":"MemberAccess","referencedDeclaration":5401,"src":"8051:28:9","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (address,address,uint256) external returns (bool)"}},"id":2606,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8051:70:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2610,"name":"pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2125,"src":"8173:8:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}],"id":2609,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"8165:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2611,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8165:17:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2613,"name":"outcomeTokenNetCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2531,"src":"8189:19:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2612,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"8184:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2614,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8184:25:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2607,"name":"collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2127,"src":"8141:15:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5418","typeString":"contract IERC20"}},"id":2608,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"approve","nodeType":"MemberAccess","referencedDeclaration":5390,"src":"8141:23:9","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (address,uint256) external returns (bool)"}},"id":2615,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8141:69:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"8051:159:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":2595,"name":"require","nodeType":"Identifier","overloadedDeclarations":[5455,5456],"referencedDeclaration":5455,"src":"8026:7:9","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":2617,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8026:198:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2618,"nodeType":"ExpressionStatement","src":"8026:198:9"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2621,"name":"outcomeTokenNetCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2531,"src":"8278:19:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2620,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"8273:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2622,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8273:25:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2623,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2130,"src":"8300:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":2624,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","referencedDeclaration":null,"src":"8300:19:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"hexValue":"30","id":2625,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8321:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":2619,"name":"splitPositionThroughAllConditions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3006,"src":"8239:33:9","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (uint256,uint256,uint256)"}},"id":2626,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8239:84:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2627,"nodeType":"ExpressionStatement","src":"8239:84:9"}]}},{"body":{"id":2696,"nodeType":"Block","src":"8394:468:9","statements":[{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2644,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2640,"name":"outcomeTokenAmounts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2512,"src":"8411:19:9","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_memory_ptr","typeString":"int256[] memory"}},"id":2642,"indexExpression":{"argumentTypes":null,"id":2641,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2631,"src":"8431:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"8411:22:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"hexValue":"30","id":2643,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8437:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"8411:27:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":2695,"nodeType":"IfStatement","src":"8408:444:9","trueBody":{"id":2694,"nodeType":"Block","src":"8440:412:9","statements":[{"assignments":[2646],"declarations":[{"constant":false,"id":2646,"name":"positionId","nodeType":"VariableDeclaration","scope":2694,"src":"8458:15:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2645,"name":"uint","nodeType":"ElementaryTypeName","src":"8458:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":2650,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2648,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2631,"src":"8501:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":2647,"name":"generateAtomicPositionId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2931,"src":"8476:24:9","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256) view returns (uint256)"}},"id":2649,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8476:27:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"8458:45:9"},{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2655,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2651,"name":"outcomeTokenAmounts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2512,"src":"8524:19:9","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_memory_ptr","typeString":"int256[] memory"}},"id":2653,"indexExpression":{"argumentTypes":null,"id":2652,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2631,"src":"8544:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"8524:22:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"hexValue":"30","id":2654,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8549:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"8524:26:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":2692,"nodeType":"Block","src":"8698:139:9","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2679,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5489,"src":"8754:4:9","typeDescriptions":{"typeIdentifier":"t_contract$_MarketMaker_$3082","typeString":"contract MarketMaker"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_MarketMaker_$3082","typeString":"contract MarketMaker"}],"id":2678,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"8746:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2680,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8746:13:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2681,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5452,"src":"8761:3:9","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":2682,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"8761:10:9","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},{"argumentTypes":null,"id":2683,"name":"positionId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2646,"src":"8773:10:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2685,"name":"outcomeTokenAmounts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2512,"src":"8790:19:9","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_memory_ptr","typeString":"int256[] memory"}},"id":2687,"indexExpression":{"argumentTypes":null,"id":2686,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2631,"src":"8810:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"8790:22:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2684,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"8785:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2688,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8785:28:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"hexValue":"","id":2689,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"8815:2:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470","typeString":"literal_string \\"\\""},"value":""}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address_payable","typeString":"address payable"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_stringliteral_c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470","typeString":"literal_string \\"\\""}],"expression":{"argumentTypes":null,"id":2675,"name":"pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2125,"src":"8720:8:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}},"id":2677,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"safeTransferFrom","nodeType":"MemberAccess","referencedDeclaration":4638,"src":"8720:25:9","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_address_$_t_uint256_$_t_uint256_$_t_bytes_memory_ptr_$returns$__$","typeString":"function (address,address,uint256,uint256,bytes memory) external"}},"id":2690,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8720:98:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2691,"nodeType":"ExpressionStatement","src":"8720:98:9"}]},"id":2693,"nodeType":"IfStatement","src":"8521:316:9","trueBody":{"id":2674,"nodeType":"Block","src":"8552:140:9","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2659,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5452,"src":"8600:3:9","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":2660,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"8600:10:9","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2662,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5489,"src":"8620:4:9","typeDescriptions":{"typeIdentifier":"t_contract$_MarketMaker_$3082","typeString":"contract MarketMaker"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_MarketMaker_$3082","typeString":"contract MarketMaker"}],"id":2661,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"8612:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2663,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8612:13:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":2664,"name":"positionId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2646,"src":"8627:10:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2669,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"8644:23:9","subExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2666,"name":"outcomeTokenAmounts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2512,"src":"8645:19:9","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_memory_ptr","typeString":"int256[] memory"}},"id":2668,"indexExpression":{"argumentTypes":null,"id":2667,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2631,"src":"8665:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"8645:22:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2665,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"8639:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2670,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8639:29:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"hexValue":"","id":2671,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"8670:2:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470","typeString":"literal_string \\"\\""},"value":""}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address_payable","typeString":"address payable"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_stringliteral_c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470","typeString":"literal_string \\"\\""}],"expression":{"argumentTypes":null,"id":2656,"name":"pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2125,"src":"8574:8:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}},"id":2658,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"safeTransferFrom","nodeType":"MemberAccess","referencedDeclaration":4638,"src":"8574:25:9","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_address_$_t_uint256_$_t_uint256_$_t_bytes_memory_ptr_$returns$__$","typeString":"function (address,address,uint256,uint256,bytes memory) external"}},"id":2672,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8574:99:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2673,"nodeType":"ExpressionStatement","src":"8574:99:9"}]}}]}}]},"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2636,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2634,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2631,"src":"8361:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"id":2635,"name":"atomicOutcomeSlotCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2132,"src":"8365:22:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8361:26:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":2697,"initializationExpression":{"assignments":[2631],"declarations":[{"constant":false,"id":2631,"name":"i","nodeType":"VariableDeclaration","scope":2697,"src":"8349:6:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2630,"name":"uint","nodeType":"ElementaryTypeName","src":"8349:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":2633,"initialValue":{"argumentTypes":null,"hexValue":"30","id":2632,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8358:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"8349:10:9"},"loopExpression":{"expression":{"argumentTypes":null,"id":2638,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"8389:3:9","subExpression":{"argumentTypes":null,"id":2637,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2631,"src":"8389:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2639,"nodeType":"ExpressionStatement","src":"8389:3:9"},"nodeType":"ForStatement","src":"8344:518:9"},{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2700,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2698,"name":"outcomeTokenNetCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2531,"src":"8875:19:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"hexValue":"30","id":2699,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8897:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"8875:23:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":2741,"nodeType":"IfStatement","src":"8872:560:9","trueBody":{"id":2740,"nodeType":"Block","src":"8900:532:9","statements":[{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2703,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2701,"name":"netCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2521,"src":"9131:7:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"hexValue":"30","id":2702,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"9141:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"9131:11:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":2739,"nodeType":"IfStatement","src":"9128:294:9","trueBody":{"id":2738,"nodeType":"Block","src":"9144:278:9","statements":[{"body":{"id":2736,"nodeType":"Block","src":"9208:200:9","statements":[{"assignments":[2715],"declarations":[{"constant":false,"id":2715,"name":"positionId","nodeType":"VariableDeclaration","scope":2736,"src":"9234:15:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2714,"name":"uint","nodeType":"ElementaryTypeName","src":"9234:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":2719,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2717,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2705,"src":"9277:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":2716,"name":"generateAtomicPositionId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2931,"src":"9252:24:9","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256) view returns (uint256)"}},"id":2718,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"9252:27:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"9234:45:9"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2724,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5489,"src":"9339:4:9","typeDescriptions":{"typeIdentifier":"t_contract$_MarketMaker_$3082","typeString":"contract MarketMaker"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_MarketMaker_$3082","typeString":"contract MarketMaker"}],"id":2723,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"9331:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2725,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"9331:13:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2726,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5452,"src":"9346:3:9","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":2727,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"9346:10:9","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},{"argumentTypes":null,"id":2728,"name":"positionId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2715,"src":"9358:10:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2731,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"9375:8:9","subExpression":{"argumentTypes":null,"id":2730,"name":"netCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2521,"src":"9376:7:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2729,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"9370:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2732,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"9370:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"hexValue":"","id":2733,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"9386:2:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470","typeString":"literal_string \\"\\""},"value":""}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address_payable","typeString":"address payable"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_stringliteral_c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470","typeString":"literal_string \\"\\""}],"expression":{"argumentTypes":null,"id":2720,"name":"pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2125,"src":"9305:8:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}},"id":2722,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"safeTransferFrom","nodeType":"MemberAccess","referencedDeclaration":4638,"src":"9305:25:9","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_address_$_t_uint256_$_t_uint256_$_t_bytes_memory_ptr_$returns$__$","typeString":"function (address,address,uint256,uint256,bytes memory) external"}},"id":2734,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"9305:84:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2735,"nodeType":"ExpressionStatement","src":"9305:84:9"}]},"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2710,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2708,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2705,"src":"9177:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"id":2709,"name":"atomicOutcomeSlotCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2132,"src":"9179:22:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"9177:24:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":2737,"initializationExpression":{"assignments":[2705],"declarations":[{"constant":false,"id":2705,"name":"i","nodeType":"VariableDeclaration","scope":2737,"src":"9167:6:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2704,"name":"uint","nodeType":"ElementaryTypeName","src":"9167:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":2707,"initialValue":{"argumentTypes":null,"hexValue":"30","id":2706,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"9174:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"9167:8:9"},"loopExpression":{"expression":{"argumentTypes":null,"id":2712,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"9203:3:9","subExpression":{"argumentTypes":null,"id":2711,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2705,"src":"9203:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2713,"nodeType":"ExpressionStatement","src":"9203:3:9"},"nodeType":"ForStatement","src":"9162:246:9"}]}}]}},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2743,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5452,"src":"9476:3:9","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":2744,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"9476:10:9","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},{"argumentTypes":null,"id":2745,"name":"outcomeTokenAmounts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2512,"src":"9488:19:9","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_memory_ptr","typeString":"int256[] memory"}},{"argumentTypes":null,"id":2746,"name":"outcomeTokenNetCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2531,"src":"9509:19:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2748,"name":"fees","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2537,"src":"9535:4:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2747,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"9530:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2749,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"9530:10:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address_payable","typeString":"address payable"},{"typeIdentifier":"t_array$_t_int256_$dyn_memory_ptr","typeString":"int256[] memory"},{"typeIdentifier":"t_int256","typeString":"int256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":2742,"name":"AMMOutcomeTokenTrade","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2123,"src":"9455:20:9","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_array$_t_int256_$dyn_memory_ptr_$_t_int256_$_t_uint256_$returns$__$","typeString":"function (address,int256[] memory,int256,uint256)"}},"id":2750,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"9455:86:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2751,"nodeType":"EmitStatement","src":"9450:91:9"}]},"documentation":"@dev Allows to trade outcome tokens and collateral with the market maker\\n @param outcomeTokenAmounts Amounts of each atomic outcome token to buy or sell. If positive, will buy this amount of outcome token from the market. If negative, will sell this amount back to the market instead. The indices of this array range from 0 to product(all conditions\' outcomeSlotCounts)-1. For example, with two conditions with three outcome slots each and one condition with two outcome slots, you will have 3*3*2=18 total atomic outcome tokens, and the indices will range from 0 to 17. The indices map to atomic outcome slots depending on the order of the conditionIds. Let\'s say the first condition has slots A, B, C the second has slots X, Y, and the third has slots I, J, K. We can associate each atomic outcome token with indices by this map:\\n A&X&I == 0\\n B&X&I == 1\\n C&X&I == 2\\n A&Y&I == 3\\n B&Y&I == 4\\n C&Y&I == 5\\n A&X&J == 6\\n B&X&J == 7\\n C&X&J == 8\\n A&Y&J == 9\\n B&Y&J == 10\\n C&Y&J == 11\\n A&X&K == 12\\n B&X&K == 13\\n C&X&K == 14\\n A&Y&K == 15\\n B&Y&K == 16\\n C&Y&K == 17\\n This order is calculated via the generateAtomicPositionId function below: C&Y&I -> (2, 1, 0) -> 2 + 3 * (1 + 2 * (0 + 3 * (0 + 0)))\\n @param collateralLimit If positive, this is the limit for the amount of collateral tokens which will be sent to the market to conduct the trade. If negative, this is the minimum amount of collateral tokens which will be received from the market for the trade. If zero, there is no limit.\\n @return If positive, the amount of collateral sent to the market. If negative, the amount of collateral received from the market. If zero, no collateral was sent or received.","id":2753,"implemented":true,"kind":"function","modifiers":[{"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2517,"name":"Stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2142,"src":"7326:5:9","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Stage_$2142_$","typeString":"type(enum MarketMaker.Stage)"}},"id":2518,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"Running","nodeType":"MemberAccess","referencedDeclaration":null,"src":"7326:13:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}}],"id":2519,"modifierName":{"argumentTypes":null,"id":2516,"name":"atStage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2154,"src":"7318:7:9","typeDescriptions":{"typeIdentifier":"t_modifier$_t_enum$_Stage_$2142_$","typeString":"modifier (enum MarketMaker.Stage)"}},"nodeType":"ModifierInvocation","src":"7318:22:9"}],"name":"trade","nodeType":"FunctionDefinition","parameters":{"id":2515,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2512,"name":"outcomeTokenAmounts","nodeType":"VariableDeclaration","scope":2753,"src":"7240:32:9","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_memory_ptr","typeString":"int256[]"},"typeName":{"baseType":{"id":2510,"name":"int","nodeType":"ElementaryTypeName","src":"7240:3:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":2511,"length":null,"nodeType":"ArrayTypeName","src":"7240:5:9","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_storage_ptr","typeString":"int256[]"}},"value":null,"visibility":"internal"},{"constant":false,"id":2514,"name":"collateralLimit","nodeType":"VariableDeclaration","scope":2753,"src":"7274:19:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":2513,"name":"int","nodeType":"ElementaryTypeName","src":"7274:3:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"value":null,"visibility":"internal"}],"src":"7239:55:9"},"returnParameters":{"id":2522,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2521,"name":"netCost","nodeType":"VariableDeclaration","scope":2753,"src":"7358:11:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":2520,"name":"int","nodeType":"ElementaryTypeName","src":"7358:3:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"value":null,"visibility":"internal"}],"src":"7357:13:9"},"scope":3082,"src":"7225:2323:9","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"body":{"id":2766,"nodeType":"Block","src":"9803:58:9","statements":[{"expression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2764,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2762,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2760,"name":"outcomeTokenCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2755,"src":"9820:16:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"argumentTypes":null,"id":2761,"name":"fee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2134,"src":"9839:3:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"src":"9820:22:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"argumentTypes":null,"id":2763,"name":"FEE_RANGE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2090,"src":"9845:9:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"src":"9820:34:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":2759,"id":2765,"nodeType":"Return","src":"9813:41:9"}]},"documentation":"@dev Calculates fee to be paid to market maker\\n @param outcomeTokenCost Cost for buying outcome tokens\\n @return Fee for trade","id":2767,"implemented":true,"kind":"function","modifiers":[],"name":"calcMarketFee","nodeType":"FunctionDefinition","parameters":{"id":2756,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2755,"name":"outcomeTokenCost","nodeType":"VariableDeclaration","scope":2767,"src":"9725:21:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2754,"name":"uint","nodeType":"ElementaryTypeName","src":"9725:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"9724:23:9"},"returnParameters":{"id":2759,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2758,"name":"","nodeType":"VariableDeclaration","scope":2767,"src":"9793:4:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2757,"name":"uint","nodeType":"ElementaryTypeName","src":"9793:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"9792:6:9"},"scope":3082,"src":"9702:159:9","stateMutability":"view","superFunction":null,"visibility":"public"},{"body":{"id":2793,"nodeType":"Block","src":"10015:109:9","statements":[{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":2786,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2782,"name":"operator","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2769,"src":"10029:8:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2784,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5489,"src":"10049:4:9","typeDescriptions":{"typeIdentifier":"t_contract$_MarketMaker_$3082","typeString":"contract MarketMaker"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_MarketMaker_$3082","typeString":"contract MarketMaker"}],"id":2783,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"10041:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2785,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10041:13:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"10029:25:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":2790,"nodeType":"IfStatement","src":"10025:73:9","trueBody":{"id":2789,"nodeType":"Block","src":"10056:42:9","statements":[{"expression":{"argumentTypes":null,"hexValue":"30786632336136653631","id":2787,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10077:10:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_4063915617_by_1","typeString":"int_const 4063915617"},"value":"0xf23a6e61"},"functionReturnParameters":2781,"id":2788,"nodeType":"Return","src":"10070:17:9"}]}},{"expression":{"argumentTypes":null,"hexValue":"307830","id":2791,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10114:3:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0x0"},"functionReturnParameters":2781,"id":2792,"nodeType":"Return","src":"10107:10:9"}]},"documentation":null,"id":2794,"implemented":true,"kind":"function","modifiers":[],"name":"onERC1155Received","nodeType":"FunctionDefinition","parameters":{"id":2778,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2769,"name":"operator","nodeType":"VariableDeclaration","scope":2794,"src":"9894:16:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2768,"name":"address","nodeType":"ElementaryTypeName","src":"9894:7:9","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":2771,"name":"","nodeType":"VariableDeclaration","scope":2794,"src":"9912:7:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2770,"name":"address","nodeType":"ElementaryTypeName","src":"9912:7:9","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":2773,"name":"","nodeType":"VariableDeclaration","scope":2794,"src":"9930:7:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2772,"name":"uint256","nodeType":"ElementaryTypeName","src":"9930:7:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":2775,"name":"","nodeType":"VariableDeclaration","scope":2794,"src":"9946:7:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2774,"name":"uint256","nodeType":"ElementaryTypeName","src":"9946:7:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":2777,"name":"","nodeType":"VariableDeclaration","scope":2794,"src":"9965:14:9","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes"},"typeName":{"id":2776,"name":"bytes","nodeType":"ElementaryTypeName","src":"9965:5:9","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"value":null,"visibility":"internal"}],"src":"9893:96:9"},"returnParameters":{"id":2781,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2780,"name":"","nodeType":"VariableDeclaration","scope":2794,"src":"10007:6:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"typeName":{"id":2779,"name":"bytes4","nodeType":"ElementaryTypeName","src":"10007:6:9","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"value":null,"visibility":"internal"}],"src":"10006:8:9"},"scope":3082,"src":"9867:257:9","stateMutability":"nonpayable","superFunction":5026,"visibility":"external"},{"body":{"id":2822,"nodeType":"Block","src":"10308:110:9","statements":[{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":2815,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2811,"name":"_operator","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2796,"src":"10322:9:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2813,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5489,"src":"10343:4:9","typeDescriptions":{"typeIdentifier":"t_contract$_MarketMaker_$3082","typeString":"contract MarketMaker"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_MarketMaker_$3082","typeString":"contract MarketMaker"}],"id":2812,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"10335:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2814,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10335:13:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"10322:26:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":2819,"nodeType":"IfStatement","src":"10318:74:9","trueBody":{"id":2818,"nodeType":"Block","src":"10350:42:9","statements":[{"expression":{"argumentTypes":null,"hexValue":"30786632336136653631","id":2816,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10371:10:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_4063915617_by_1","typeString":"int_const 4063915617"},"value":"0xf23a6e61"},"functionReturnParameters":2810,"id":2817,"nodeType":"Return","src":"10364:17:9"}]}},{"expression":{"argumentTypes":null,"hexValue":"307830","id":2820,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10408:3:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0x0"},"functionReturnParameters":2810,"id":2821,"nodeType":"Return","src":"10401:10:9"}]},"documentation":null,"id":2823,"implemented":true,"kind":"function","modifiers":[],"name":"onERC1155BatchReceived","nodeType":"FunctionDefinition","parameters":{"id":2807,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2796,"name":"_operator","nodeType":"VariableDeclaration","scope":2823,"src":"10162:17:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2795,"name":"address","nodeType":"ElementaryTypeName","src":"10162:7:9","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":2798,"name":"","nodeType":"VariableDeclaration","scope":2823,"src":"10181:7:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2797,"name":"address","nodeType":"ElementaryTypeName","src":"10181:7:9","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":2801,"name":"","nodeType":"VariableDeclaration","scope":2823,"src":"10199:18:9","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":2799,"name":"uint256","nodeType":"ElementaryTypeName","src":"10199:7:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2800,"length":null,"nodeType":"ArrayTypeName","src":"10199:9:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"value":null,"visibility":"internal"},{"constant":false,"id":2804,"name":"","nodeType":"VariableDeclaration","scope":2823,"src":"10227:18:9","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":2802,"name":"uint256","nodeType":"ElementaryTypeName","src":"10227:7:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2803,"length":null,"nodeType":"ArrayTypeName","src":"10227:9:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"value":null,"visibility":"internal"},{"constant":false,"id":2806,"name":"","nodeType":"VariableDeclaration","scope":2823,"src":"10258:14:9","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes"},"typeName":{"id":2805,"name":"bytes","nodeType":"ElementaryTypeName","src":"10258:5:9","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"value":null,"visibility":"internal"}],"src":"10161:121:9"},"returnParameters":{"id":2810,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2809,"name":"","nodeType":"VariableDeclaration","scope":2823,"src":"10300:6:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"typeName":{"id":2808,"name":"bytes4","nodeType":"ElementaryTypeName","src":"10300:6:9","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"value":null,"visibility":"internal"}],"src":"10299:8:9"},"scope":3082,"src":"10130:288:9","stateMutability":"nonpayable","superFunction":5043,"visibility":"external"},{"body":{"id":2863,"nodeType":"Block","src":"10551:180:9","statements":[{"expression":{"argumentTypes":null,"id":2840,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2831,"name":"partition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2829,"src":"10561:9:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2837,"name":"conditionId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2825,"src":"10613:11:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"expression":{"argumentTypes":null,"id":2835,"name":"pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2125,"src":"10584:8:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}},"id":2836,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"getOutcomeSlotCount","nodeType":"MemberAccess","referencedDeclaration":1567,"src":"10584:28:9","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_bytes32_$returns$_t_uint256_$","typeString":"function (bytes32) view external returns (uint256)"}},"id":2838,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10584:41:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":2834,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"NewExpression","src":"10573:10:9","typeDescriptions":{"typeIdentifier":"t_function_objectcreation_pure$_t_uint256_$returns$_t_array$_t_uint256_$dyn_memory_$","typeString":"function (uint256) pure returns (uint256[] memory)"},"typeName":{"baseType":{"id":2832,"name":"uint","nodeType":"ElementaryTypeName","src":"10577:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2833,"length":null,"nodeType":"ArrayTypeName","src":"10577:6:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}}},"id":2839,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10573:53:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory","typeString":"uint256[] memory"}},"src":"10561:65:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":2841,"nodeType":"ExpressionStatement","src":"10561:65:9"},{"body":{"id":2861,"nodeType":"Block","src":"10679:46:9","statements":[{"expression":{"argumentTypes":null,"id":2859,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2853,"name":"partition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2829,"src":"10693:9:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":2855,"indexExpression":{"argumentTypes":null,"id":2854,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2843,"src":"10703:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"10693:12:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2858,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"hexValue":"31","id":2856,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10708:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"nodeType":"BinaryOperation","operator":"<<","rightExpression":{"argumentTypes":null,"id":2857,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2843,"src":"10713:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10708:6:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10693:21:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2860,"nodeType":"ExpressionStatement","src":"10693:21:9"}]},"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2849,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2846,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2843,"src":"10652:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2847,"name":"partition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2829,"src":"10656:9:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":2848,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","referencedDeclaration":null,"src":"10656:16:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10652:20:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":2862,"initializationExpression":{"assignments":[2843],"declarations":[{"constant":false,"id":2843,"name":"i","nodeType":"VariableDeclaration","scope":2862,"src":"10640:6:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2842,"name":"uint","nodeType":"ElementaryTypeName","src":"10640:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":2845,"initialValue":{"argumentTypes":null,"hexValue":"30","id":2844,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10649:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"10640:10:9"},"loopExpression":{"expression":{"argumentTypes":null,"id":2851,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"10674:3:9","subExpression":{"argumentTypes":null,"id":2850,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2843,"src":"10674:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2852,"nodeType":"ExpressionStatement","src":"10674:3:9"},"nodeType":"ForStatement","src":"10636:89:9"}]},"documentation":null,"id":2864,"implemented":true,"kind":"function","modifiers":[],"name":"generateBasicPartition","nodeType":"FunctionDefinition","parameters":{"id":2826,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2825,"name":"conditionId","nodeType":"VariableDeclaration","scope":2864,"src":"10456:19:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":2824,"name":"bytes32","nodeType":"ElementaryTypeName","src":"10456:7:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"internal"}],"src":"10455:21:9"},"returnParameters":{"id":2830,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2829,"name":"partition","nodeType":"VariableDeclaration","scope":2864,"src":"10522:23:9","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":2827,"name":"uint","nodeType":"ElementaryTypeName","src":"10522:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2828,"length":null,"nodeType":"ArrayTypeName","src":"10522:6:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"value":null,"visibility":"internal"}],"src":"10521:25:9"},"scope":3082,"src":"10424:307:9","stateMutability":"view","superFunction":null,"visibility":"public"},{"body":{"id":2930,"nodeType":"Block","src":"10834:480:9","statements":[{"assignments":[2872],"declarations":[{"constant":false,"id":2872,"name":"collectionId","nodeType":"VariableDeclaration","scope":2930,"src":"10844:17:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2871,"name":"uint","nodeType":"ElementaryTypeName","src":"10844:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":2874,"initialValue":{"argumentTypes":null,"hexValue":"30","id":2873,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10864:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"10844:21:9"},{"body":{"id":2918,"nodeType":"Block","src":"10922:280:9","statements":[{"assignments":[2887],"declarations":[{"constant":false,"id":2887,"name":"curOutcomeSlotCount","nodeType":"VariableDeclaration","scope":2918,"src":"10936:24:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2886,"name":"uint","nodeType":"ElementaryTypeName","src":"10936:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":2894,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2890,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2130,"src":"10992:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":2892,"indexExpression":{"argumentTypes":null,"id":2891,"name":"k","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2876,"src":"11005:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"10992:15:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"expression":{"argumentTypes":null,"id":2888,"name":"pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2125,"src":"10963:8:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}},"id":2889,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"getOutcomeSlotCount","nodeType":"MemberAccess","referencedDeclaration":1567,"src":"10963:28:9","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_bytes32_$returns$_t_uint256_$","typeString":"function (bytes32) view external returns (uint256)"}},"id":2893,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10963:45:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"10936:72:9"},{"expression":{"argumentTypes":null,"id":2912,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2895,"name":"collectionId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2872,"src":"11022:12:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"+=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2900,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2130,"src":"11087:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":2902,"indexExpression":{"argumentTypes":null,"id":2901,"name":"k","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2876,"src":"11100:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"11087:15:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2908,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"hexValue":"31","id":2903,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"11120:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"nodeType":"BinaryOperation","operator":"<<","rightExpression":{"argumentTypes":null,"components":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2906,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2904,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2866,"src":"11126:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"%","rightExpression":{"argumentTypes":null,"id":2905,"name":"curOutcomeSlotCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2887,"src":"11130:19:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"11126:23:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":2907,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"11125:25:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"11120:30:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2898,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5439,"src":"11053:3:9","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":2899,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"encodePacked","nodeType":"MemberAccess","referencedDeclaration":null,"src":"11053:16:9","typeDescriptions":{"typeIdentifier":"t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":2909,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"11053:98:9","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":2897,"name":"keccak256","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5446,"src":"11043:9:9","typeDescriptions":{"typeIdentifier":"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$","typeString":"function (bytes memory) pure returns (bytes32)"}},"id":2910,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"11043:109:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":2896,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"11038:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2911,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"11038:115:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"11022:131:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2913,"nodeType":"ExpressionStatement","src":"11022:131:9"},{"expression":{"argumentTypes":null,"id":2916,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2914,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2866,"src":"11167:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"/=","rightHandSide":{"argumentTypes":null,"id":2915,"name":"curOutcomeSlotCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2887,"src":"11172:19:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"11167:24:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2917,"nodeType":"ExpressionStatement","src":"11167:24:9"}]},"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2882,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2879,"name":"k","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2876,"src":"10892:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2880,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2130,"src":"10896:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":2881,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","referencedDeclaration":null,"src":"10896:19:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10892:23:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":2919,"initializationExpression":{"assignments":[2876],"declarations":[{"constant":false,"id":2876,"name":"k","nodeType":"VariableDeclaration","scope":2919,"src":"10880:6:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2875,"name":"uint","nodeType":"ElementaryTypeName","src":"10880:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":2878,"initialValue":{"argumentTypes":null,"hexValue":"30","id":2877,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10889:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"10880:10:9"},"loopExpression":{"expression":{"argumentTypes":null,"id":2884,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"10917:3:9","subExpression":{"argumentTypes":null,"id":2883,"name":"k","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2876,"src":"10917:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2885,"nodeType":"ExpressionStatement","src":"10917:3:9"},"nodeType":"ForStatement","src":"10876:326:9"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2924,"name":"collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2127,"src":"11263:15:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5418","typeString":"contract IERC20"}},{"argumentTypes":null,"id":2925,"name":"collectionId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2872,"src":"11292:12:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IERC20_$5418","typeString":"contract IERC20"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2922,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5439,"src":"11233:3:9","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":2923,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"encodePacked","nodeType":"MemberAccess","referencedDeclaration":null,"src":"11233:16:9","typeDescriptions":{"typeIdentifier":"t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":2926,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"11233:72:9","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":2921,"name":"keccak256","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5446,"src":"11223:9:9","typeDescriptions":{"typeIdentifier":"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$","typeString":"function (bytes memory) pure returns (bytes32)"}},"id":2927,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"11223:83:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":2920,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"11218:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2928,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"11218:89:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":2870,"id":2929,"nodeType":"Return","src":"11211:96:9"}]},"documentation":null,"id":2931,"implemented":true,"kind":"function","modifiers":[],"name":"generateAtomicPositionId","nodeType":"FunctionDefinition","parameters":{"id":2867,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2866,"name":"i","nodeType":"VariableDeclaration","scope":2931,"src":"10771:6:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2865,"name":"uint","nodeType":"ElementaryTypeName","src":"10771:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"10770:8:9"},"returnParameters":{"id":2870,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2869,"name":"","nodeType":"VariableDeclaration","scope":2931,"src":"10824:4:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2868,"name":"uint","nodeType":"ElementaryTypeName","src":"10824:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"10823:6:9"},"scope":3082,"src":"10737:577:9","stateMutability":"view","superFunction":null,"visibility":"public"},{"body":{"id":3005,"nodeType":"Block","src":"11441:613:9","statements":[{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2942,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2940,"name":"conditionsLeft","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2935,"src":"11454:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"hexValue":"30","id":2941,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"11472:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"11454:19:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":2944,"nodeType":"IfStatement","src":"11451:31:9","trueBody":{"expression":null,"functionReturnParameters":2939,"id":2943,"nodeType":"Return","src":"11475:7:9"}},{"expression":{"argumentTypes":null,"id":2946,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"--","prefix":false,"src":"11491:16:9","subExpression":{"argumentTypes":null,"id":2945,"name":"conditionsLeft","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2935,"src":"11491:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2947,"nodeType":"ExpressionStatement","src":"11491:16:9"},{"assignments":[2951],"declarations":[{"constant":false,"id":2951,"name":"partition","nodeType":"VariableDeclaration","scope":3005,"src":"11518:23:9","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":2949,"name":"uint","nodeType":"ElementaryTypeName","src":"11518:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2950,"length":null,"nodeType":"ArrayTypeName","src":"11518:6:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"value":null,"visibility":"internal"}],"id":2957,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2953,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2130,"src":"11567:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":2955,"indexExpression":{"argumentTypes":null,"id":2954,"name":"conditionsLeft","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2935,"src":"11580:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"11567:28:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":2952,"name":"generateBasicPartition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2864,"src":"11544:22:9","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_bytes32_$returns$_t_array$_t_uint256_$dyn_memory_ptr_$","typeString":"function (bytes32) view returns (uint256[] memory)"}},"id":2956,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"11544:52:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"nodeType":"VariableDeclarationStatement","src":"11518:78:9"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2961,"name":"collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2127,"src":"11629:15:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5418","typeString":"contract IERC20"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2963,"name":"parentCollectionId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2937,"src":"11654:18:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":2962,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"11646:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_bytes32_$","typeString":"type(bytes32)"},"typeName":"bytes32"},"id":2964,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"11646:27:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2965,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2130,"src":"11675:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":2967,"indexExpression":{"argumentTypes":null,"id":2966,"name":"conditionsLeft","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2935,"src":"11688:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"11675:28:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"argumentTypes":null,"id":2968,"name":"partition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2951,"src":"11705:9:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},{"argumentTypes":null,"id":2969,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2933,"src":"11716:6:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IERC20_$5418","typeString":"contract IERC20"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2958,"name":"pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2125,"src":"11606:8:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}},"id":2960,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"splitPosition","nodeType":"MemberAccess","referencedDeclaration":1091,"src":"11606:22:9","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_contract$_IERC20_$5418_$_t_bytes32_$_t_bytes32_$_t_array$_t_uint256_$dyn_memory_ptr_$_t_uint256_$returns$__$","typeString":"function (contract IERC20,bytes32,bytes32,uint256[] memory,uint256) external"}},"id":2970,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"11606:117:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2971,"nodeType":"ExpressionStatement","src":"11606:117:9"},{"body":{"id":3003,"nodeType":"Block","src":"11776:272:9","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2984,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2933,"src":"11841:6:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":2985,"name":"conditionsLeft","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2935,"src":"11865:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":3000,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2986,"name":"parentCollectionId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2937,"src":"11897:18:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2991,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2130,"src":"11971:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":2993,"indexExpression":{"argumentTypes":null,"id":2992,"name":"conditionsLeft","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2935,"src":"11984:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"11971:28:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2994,"name":"partition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2951,"src":"12021:9:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":2996,"indexExpression":{"argumentTypes":null,"id":2995,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2973,"src":"12031:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"12021:12:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2989,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5439,"src":"11933:3:9","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":2990,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"encodePacked","nodeType":"MemberAccess","referencedDeclaration":null,"src":"11933:16:9","typeDescriptions":{"typeIdentifier":"t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":2997,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"11933:101:9","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":2988,"name":"keccak256","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5446,"src":"11923:9:9","typeDescriptions":{"typeIdentifier":"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$","typeString":"function (bytes memory) pure returns (bytes32)"}},"id":2998,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"11923:112:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":2987,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"11918:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2999,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"11918:118:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"11897:139:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":2983,"name":"splitPositionThroughAllConditions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3006,"src":"11790:33:9","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (uint256,uint256,uint256)"}},"id":3001,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"11790:247:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":3002,"nodeType":"ExpressionStatement","src":"11790:247:9"}]},"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2979,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2976,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2973,"src":"11749:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2977,"name":"partition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2951,"src":"11753:9:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":2978,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","referencedDeclaration":null,"src":"11753:16:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"11749:20:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":3004,"initializationExpression":{"assignments":[2973],"declarations":[{"constant":false,"id":2973,"name":"i","nodeType":"VariableDeclaration","scope":3004,"src":"11737:6:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2972,"name":"uint","nodeType":"ElementaryTypeName","src":"11737:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":2975,"initialValue":{"argumentTypes":null,"hexValue":"30","id":2974,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"11746:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"11737:10:9"},"loopExpression":{"expression":{"argumentTypes":null,"id":2981,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"11771:3:9","subExpression":{"argumentTypes":null,"id":2980,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2973,"src":"11771:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2982,"nodeType":"ExpressionStatement","src":"11771:3:9"},"nodeType":"ForStatement","src":"11733:315:9"}]},"documentation":null,"id":3006,"implemented":true,"kind":"function","modifiers":[],"name":"splitPositionThroughAllConditions","nodeType":"FunctionDefinition","parameters":{"id":2938,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2933,"name":"amount","nodeType":"VariableDeclaration","scope":3006,"src":"11363:11:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2932,"name":"uint","nodeType":"ElementaryTypeName","src":"11363:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":2935,"name":"conditionsLeft","nodeType":"VariableDeclaration","scope":3006,"src":"11376:19:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2934,"name":"uint","nodeType":"ElementaryTypeName","src":"11376:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":2937,"name":"parentCollectionId","nodeType":"VariableDeclaration","scope":3006,"src":"11397:23:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2936,"name":"uint","nodeType":"ElementaryTypeName","src":"11397:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"11362:59:9"},"returnParameters":{"id":2939,"nodeType":"ParameterList","parameters":[],"src":"11441:0:9"},"scope":3082,"src":"11320:734:9","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"body":{"id":3080,"nodeType":"Block","src":"12183:615:9","statements":[{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":3017,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":3015,"name":"conditionsLeft","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3010,"src":"12196:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"hexValue":"30","id":3016,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"12214:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"12196:19:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":3019,"nodeType":"IfStatement","src":"12193:31:9","trueBody":{"expression":null,"functionReturnParameters":3014,"id":3018,"nodeType":"Return","src":"12217:7:9"}},{"expression":{"argumentTypes":null,"id":3021,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"--","prefix":false,"src":"12233:16:9","subExpression":{"argumentTypes":null,"id":3020,"name":"conditionsLeft","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3010,"src":"12233:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":3022,"nodeType":"ExpressionStatement","src":"12233:16:9"},{"assignments":[3026],"declarations":[{"constant":false,"id":3026,"name":"partition","nodeType":"VariableDeclaration","scope":3080,"src":"12260:23:9","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":3024,"name":"uint","nodeType":"ElementaryTypeName","src":"12260:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":3025,"length":null,"nodeType":"ArrayTypeName","src":"12260:6:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"value":null,"visibility":"internal"}],"id":3032,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":3028,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2130,"src":"12309:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":3030,"indexExpression":{"argumentTypes":null,"id":3029,"name":"conditionsLeft","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3010,"src":"12322:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"12309:28:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":3027,"name":"generateBasicPartition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2864,"src":"12286:22:9","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_bytes32_$returns$_t_array$_t_uint256_$dyn_memory_ptr_$","typeString":"function (bytes32) view returns (uint256[] memory)"}},"id":3031,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"12286:52:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"nodeType":"VariableDeclarationStatement","src":"12260:78:9"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":3036,"name":"collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2127,"src":"12372:15:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5418","typeString":"contract IERC20"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":3038,"name":"parentCollectionId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3012,"src":"12397:18:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":3037,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"12389:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_bytes32_$","typeString":"type(bytes32)"},"typeName":"bytes32"},"id":3039,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"12389:27:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":3040,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2130,"src":"12418:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":3042,"indexExpression":{"argumentTypes":null,"id":3041,"name":"conditionsLeft","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3010,"src":"12431:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"12418:28:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"argumentTypes":null,"id":3043,"name":"partition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3026,"src":"12448:9:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},{"argumentTypes":null,"id":3044,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3008,"src":"12459:6:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IERC20_$5418","typeString":"contract IERC20"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":3033,"name":"pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2125,"src":"12348:8:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}},"id":3035,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"mergePositions","nodeType":"MemberAccess","referencedDeclaration":1317,"src":"12348:23:9","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_contract$_IERC20_$5418_$_t_bytes32_$_t_bytes32_$_t_array$_t_uint256_$dyn_memory_ptr_$_t_uint256_$returns$__$","typeString":"function (contract IERC20,bytes32,bytes32,uint256[] memory,uint256) external"}},"id":3045,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"12348:118:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":3046,"nodeType":"ExpressionStatement","src":"12348:118:9"},{"body":{"id":3078,"nodeType":"Block","src":"12519:273:9","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":3059,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3008,"src":"12585:6:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":3060,"name":"conditionsLeft","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3010,"src":"12609:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":3075,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":3061,"name":"parentCollectionId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3012,"src":"12641:18:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":3066,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2130,"src":"12715:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":3068,"indexExpression":{"argumentTypes":null,"id":3067,"name":"conditionsLeft","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3010,"src":"12728:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"12715:28:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":3069,"name":"partition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3026,"src":"12765:9:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":3071,"indexExpression":{"argumentTypes":null,"id":3070,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3048,"src":"12775:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"12765:12:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":3064,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5439,"src":"12677:3:9","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":3065,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"encodePacked","nodeType":"MemberAccess","referencedDeclaration":null,"src":"12677:16:9","typeDescriptions":{"typeIdentifier":"t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":3072,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"12677:101:9","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":3063,"name":"keccak256","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5446,"src":"12667:9:9","typeDescriptions":{"typeIdentifier":"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$","typeString":"function (bytes memory) pure returns (bytes32)"}},"id":3073,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"12667:112:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":3062,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"12662:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":3074,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"12662:118:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"12641:139:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":3058,"name":"mergePositionsThroughAllConditions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3081,"src":"12533:34:9","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (uint256,uint256,uint256)"}},"id":3076,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"12533:248:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":3077,"nodeType":"ExpressionStatement","src":"12533:248:9"}]},"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":3054,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":3051,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3048,"src":"12492:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":3052,"name":"partition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3026,"src":"12496:9:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":3053,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","referencedDeclaration":null,"src":"12496:16:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"12492:20:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":3079,"initializationExpression":{"assignments":[3048],"declarations":[{"constant":false,"id":3048,"name":"i","nodeType":"VariableDeclaration","scope":3079,"src":"12480:6:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":3047,"name":"uint","nodeType":"ElementaryTypeName","src":"12480:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":3050,"initialValue":{"argumentTypes":null,"hexValue":"30","id":3049,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"12489:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"12480:10:9"},"loopExpression":{"expression":{"argumentTypes":null,"id":3056,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"12514:3:9","subExpression":{"argumentTypes":null,"id":3055,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3048,"src":"12514:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":3057,"nodeType":"ExpressionStatement","src":"12514:3:9"},"nodeType":"ForStatement","src":"12476:316:9"}]},"documentation":null,"id":3081,"implemented":true,"kind":"function","modifiers":[],"name":"mergePositionsThroughAllConditions","nodeType":"FunctionDefinition","parameters":{"id":3013,"nodeType":"ParameterList","parameters":[{"constant":false,"id":3008,"name":"amount","nodeType":"VariableDeclaration","scope":3081,"src":"12104:11:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":3007,"name":"uint","nodeType":"ElementaryTypeName","src":"12104:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":3010,"name":"conditionsLeft","nodeType":"VariableDeclaration","scope":3081,"src":"12117:19:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":3009,"name":"uint","nodeType":"ElementaryTypeName","src":"12117:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":3012,"name":"parentCollectionId","nodeType":"VariableDeclaration","scope":3081,"src":"12138:23:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":3011,"name":"uint","nodeType":"ElementaryTypeName","src":"12138:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"12103:59:9"},"returnParameters":{"id":3014,"nodeType":"ParameterList","parameters":[],"src":"12183:0:9"},"scope":3082,"src":"12060:738:9","stateMutability":"nonpayable","superFunction":null,"visibility":"private"}],"scope":3083,"src":"340:12460:9"}],"src":"0:12801:9"},"compiler":{"name":"solc","version":"0.5.1+commit.c8a2cb62.Emscripten.clang"},"networks":{},"schemaVersion":"3.0.1","updatedAt":"2019-03-07T10:12:28.466Z","devdoc":{"methods":{"calcMarketFee(uint256)":{"details":"Calculates fee to be paid to market maker","params":{"outcomeTokenCost":"Cost for buying outcome tokens"},"return":"Fee for trade"},"changeFunding(int256)":{"details":"Allows to fund the market with collateral tokens converting them into outcome tokens Note for the future: should combine splitPosition and mergePositions into one function, as code duplication causes things like this to happen."},"close()":{"details":"Allows market owner to close the markets by transferring all remaining outcome tokens to the owner"},"isOwner()":{"return":"true if `msg.sender` is the owner of the contract."},"owner()":{"return":"the address of the owner."},"renounceOwnership()":{"details":"Allows the current owner to relinquish control of the contract."},"trade(int256[],int256)":{"details":"Allows to trade outcome tokens and collateral with the market maker","params":{"collateralLimit":"If positive, this is the limit for the amount of collateral tokens which will be sent to the market to conduct the trade. If negative, this is the minimum amount of collateral tokens which will be received from the market for the trade. If zero, there is no limit.","outcomeTokenAmounts":"Amounts of each atomic outcome token to buy or sell. If positive, will buy this amount of outcome token from the market. If negative, will sell this amount back to the market instead. The indices of this array range from 0 to product(all conditions\' outcomeSlotCounts)-1. For example, with two conditions with three outcome slots each and one condition with two outcome slots, you will have 3*3*2=18 total atomic outcome tokens, and the indices will range from 0 to 17. The indices map to atomic outcome slots depending on the order of the conditionIds. Let\'s say the first condition has slots A, B, C the second has slots X, Y, and the third has slots I, J, K. We can associate each atomic outcome token with indices by this map: A&X&I == 0 B&X&I == 1 C&X&I == 2 A&Y&I == 3 B&Y&I == 4 C&Y&I == 5 A&X&J == 6 B&X&J == 7 C&X&J == 8 A&Y&J == 9 B&Y&J == 10 C&Y&J == 11 A&X&K == 12 B&X&K == 13 C&X&K == 14 A&Y&K == 15 B&Y&K == 16 C&Y&K == 17 This order is calculated via the generateAtomicPositionId function below: C&Y&I -> (2, 1, 0) -> 2 + 3 * (1 + 2 * (0 + 3 * (0 + 0)))"},"return":"If positive, the amount of collateral sent to the market. If negative, the amount of collateral received from the market. If zero, no collateral was sent or received."},"transferOwnership(address)":{"details":"Allows the current owner to transfer control of the contract to a newOwner.","params":{"newOwner":"The address to transfer ownership to."}},"withdrawFees()":{"details":"Allows market owner to withdraw fees generated by trades","return":"Fee amount"}}},"userdoc":{"methods":{"renounceOwnership()":{"notice":"Renouncing to ownership will leave the contract without an owner. It will not be possible to call the functions with the `onlyOwner` modifier anymore."}}}};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiI1MDEuanMiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///501\n')}}]);