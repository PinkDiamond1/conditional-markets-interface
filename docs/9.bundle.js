(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{527:function(module){eval('module.exports = {"contractName":"MarketMaker","abi":[{"constant":true,"inputs":[],"name":"pmSystem","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"renounceOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"isOwner","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"collateralToken","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"stage","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"funding","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"uint256"}],"name":"conditionIds","outputs":[{"name":"","type":"bytes32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"atomicOutcomeSlotCount","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"fee","outputs":[{"name":"","type":"uint64"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"FEE_RANGE","outputs":[{"name":"","type":"uint64"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[{"name":"_pmSystem","type":"address"},{"name":"_collateralToken","type":"address"},{"name":"_conditionIds","type":"bytes32[]"},{"name":"_fee","type":"uint64"},{"name":"initialFunding","type":"uint256"},{"name":"marketOwner","type":"address"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"name":"initialFunding","type":"uint256"}],"name":"AMMCreated","type":"event"},{"anonymous":false,"inputs":[],"name":"AMMPaused","type":"event"},{"anonymous":false,"inputs":[],"name":"AMMResumed","type":"event"},{"anonymous":false,"inputs":[],"name":"AMMClosed","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"fundingChange","type":"int256"}],"name":"AMMFundingChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"newFee","type":"uint64"}],"name":"AMMFeeChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"fees","type":"uint256"}],"name":"AMMFeeWithdrawal","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"transactor","type":"address"},{"indexed":false,"name":"outcomeTokenAmounts","type":"int256[]"},{"indexed":false,"name":"outcomeTokenNetCost","type":"int256"},{"indexed":false,"name":"marketFees","type":"uint256"}],"name":"AMMOutcomeTokenTrade","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"previousOwner","type":"address"},{"indexed":true,"name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"constant":true,"inputs":[{"name":"outcomeTokenAmounts","type":"int256[]"}],"name":"calcNetCost","outputs":[{"name":"netCost","type":"int256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"fundingChange","type":"int256"}],"name":"changeFunding","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[],"name":"pause","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[],"name":"resume","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_fee","type":"uint64"}],"name":"changeFee","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[],"name":"close","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[],"name":"withdrawFees","outputs":[{"name":"fees","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"outcomeTokenAmounts","type":"int256[]"},{"name":"collateralLimit","type":"int256"}],"name":"trade","outputs":[{"name":"netCost","type":"int256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"outcomeTokenCost","type":"uint256"}],"name":"calcMarketFee","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"operator","type":"address"},{"name":"","type":"address"},{"name":"","type":"uint256"},{"name":"","type":"uint256"},{"name":"","type":"bytes"}],"name":"onERC1155Received","outputs":[{"name":"","type":"bytes4"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_operator","type":"address"},{"name":"","type":"address"},{"name":"","type":"uint256[]"},{"name":"","type":"uint256[]"},{"name":"","type":"bytes"}],"name":"onERC1155BatchReceived","outputs":[{"name":"","type":"bytes4"}],"payable":false,"stateMutability":"nonpayable","type":"function"}],"bytecode":"0x","deployedBytecode":"0x","sourceMap":"","deployedSourceMap":"","source":"pragma solidity ^0.5.1;\\nimport \\"erc-1155/contracts/IERC1155TokenReceiver.sol\\";\\nimport \\"openzeppelin-solidity/contracts/ownership/Ownable.sol\\";\\nimport \\"openzeppelin-solidity/contracts/math/SafeMath.sol\\";\\nimport \\"@gnosis.pm/util-contracts/contracts/SignedSafeMath.sol\\";\\nimport \\"@gnosis.pm/hg-contracts/contracts/PredictionMarketSystem.sol\\";\\n\\ncontract MarketMaker is Ownable, IERC1155TokenReceiver {\\n    using SignedSafeMath for int;\\n    using SafeMath for uint;\\n    /*\\n     *  Constants\\n     */    \\n    uint64 public constant FEE_RANGE = 10**18;\\n\\n    /*\\n     *  Events\\n     */\\n    event AMMCreated(uint initialFunding);\\n    event AMMPaused();\\n    event AMMResumed();\\n    event AMMClosed();\\n    event AMMFundingChanged(int fundingChange);\\n    event AMMFeeChanged(uint64 newFee);\\n    event AMMFeeWithdrawal(uint fees);\\n    event AMMOutcomeTokenTrade(address indexed transactor, int[] outcomeTokenAmounts, int outcomeTokenNetCost, uint marketFees);\\n    \\n    /*\\n     *  Storage\\n     */\\n    PredictionMarketSystem public pmSystem;\\n    IERC20 public collateralToken;\\n    bytes32[] public conditionIds;\\n    uint public atomicOutcomeSlotCount;\\n    uint64 public fee;\\n    uint public funding;\\n    Stage public stage;\\n    enum Stage {\\n        Running,\\n        Paused,\\n        Closed\\n    }\\n\\n    /*\\n     *  Modifiers\\n     */\\n    modifier atStage(Stage _stage) {\\n        // Contract has to be in given stage\\n        require(stage == _stage);\\n        _;\\n    }\\n\\n    constructor(PredictionMarketSystem _pmSystem, IERC20 _collateralToken, bytes32[] memory _conditionIds, uint64 _fee, uint initialFunding, address marketOwner)\\n        public\\n    {\\n        // Validate inputs\\n        require(address(_pmSystem) != address(0) && _fee < FEE_RANGE);\\n        pmSystem = _pmSystem;\\n        collateralToken = _collateralToken;\\n        conditionIds = _conditionIds;\\n        fee = _fee;\\n\\n        atomicOutcomeSlotCount = 1;\\n        for (uint i = 0; i < conditionIds.length; i++) {\\n            atomicOutcomeSlotCount *= pmSystem.getOutcomeSlotCount(conditionIds[i]);\\n        }\\n        require(atomicOutcomeSlotCount > 1, \\"conditions must be valid\\");\\n\\n        require(collateralToken.transferFrom(marketOwner, address(this), initialFunding) && collateralToken.approve(address(pmSystem), initialFunding));\\n\\n        splitPositionThroughAllConditions(initialFunding, conditionIds.length, 0);\\n\\n        funding = initialFunding;\\n\\n        stage = Stage.Running;\\n        emit AMMCreated(funding);\\n    }\\n\\n    function calcNetCost(int[] memory outcomeTokenAmounts) public view returns (int netCost);\\n\\n    /// @dev Allows to fund the market with collateral tokens converting them into outcome tokens\\n    /// Note for the future: should combine splitPosition and mergePositions into one function, as code duplication causes things like this to happen.\\n    function changeFunding(int fundingChange)\\n        public\\n        onlyOwner\\n        atStage(Stage.Paused)\\n    {\\n        require(fundingChange != 0, \\"A fundingChange of zero is not a fundingChange at all. It is unacceptable.\\");\\n        // Either add or subtract funding based off whether the fundingChange parameter is negative or positive\\n        if (fundingChange > 0) {\\n            require(collateralToken.transferFrom(msg.sender, address(this), uint(fundingChange)) && collateralToken.approve(address(pmSystem), uint(fundingChange)));\\n            splitPositionThroughAllConditions(uint(fundingChange), conditionIds.length, 0);\\n            funding = funding.add(uint(fundingChange));\\n            emit AMMFundingChanged(fundingChange);\\n        }\\n        if (fundingChange < 0) {\\n            mergePositionsThroughAllConditions(uint(-fundingChange), conditionIds.length, 0);\\n            funding = funding.sub(uint(-fundingChange));\\n            require(collateralToken.transfer(owner(), uint(-fundingChange)));\\n            emit AMMFundingChanged(fundingChange);\\n        }\\n    }\\n\\n    function pause() public onlyOwner atStage(Stage.Running) {\\n        stage = Stage.Paused;\\n        emit AMMPaused();\\n    }\\n    \\n    function resume() public onlyOwner atStage(Stage.Paused) {\\n        stage = Stage.Running;\\n        emit AMMResumed();\\n    }\\n\\n    function changeFee(uint64 _fee) public onlyOwner atStage(Stage.Paused) {\\n        fee = _fee;\\n        emit AMMFeeChanged(fee);\\n    }\\n\\n    /// @dev Allows market owner to close the markets by transferring all remaining outcome tokens to the owner\\n    function close()\\n        public\\n        onlyOwner\\n    {\\n        require(stage == Stage.Running || stage == Stage.Paused, \\"This Market has already been closed\\");\\n        for (uint i = 0; i < atomicOutcomeSlotCount; i++) {\\n            uint positionId = generateAtomicPositionId(i);\\n            pmSystem.safeTransferFrom(address(this), owner(), positionId, pmSystem.balanceOf(address(this), positionId), \\"\\");\\n        }\\n        stage = Stage.Closed;\\n        emit AMMClosed();\\n    }\\n\\n    /// @dev Allows market owner to withdraw fees generated by trades\\n    /// @return Fee amount\\n    function withdrawFees()\\n        public\\n        onlyOwner\\n        returns (uint fees)\\n    {\\n        fees = collateralToken.balanceOf(address(this));\\n        // Transfer fees\\n        require(collateralToken.transfer(owner(), fees));\\n        emit AMMFeeWithdrawal(fees);\\n    }\\n\\n    /// @dev Allows to trade outcome tokens and collateral with the market maker\\n    /// @param outcomeTokenAmounts Amounts of each atomic outcome token to buy or sell. If positive, will buy this amount of outcome token from the market. If negative, will sell this amount back to the market instead. The indices of this array range from 0 to product(all conditions\' outcomeSlotCounts)-1. For example, with two conditions with three outcome slots each and one condition with two outcome slots, you will have 3*3*2=18 total atomic outcome tokens, and the indices will range from 0 to 17. The indices map to atomic outcome slots depending on the order of the conditionIds. Let\'s say the first condition has slots A, B, C the second has slots X, Y, and the third has slots I, J, K. We can associate each atomic outcome token with indices by this map:\\n    /// A&X&I == 0\\n    /// B&X&I == 1\\n    /// C&X&I == 2\\n    /// A&Y&I == 3\\n    /// B&Y&I == 4\\n    /// C&Y&I == 5\\n    /// A&X&J == 6\\n    /// B&X&J == 7\\n    /// C&X&J == 8\\n    /// A&Y&J == 9\\n    /// B&Y&J == 10\\n    /// C&Y&J == 11\\n    /// A&X&K == 12\\n    /// B&X&K == 13\\n    /// C&X&K == 14\\n    /// A&Y&K == 15\\n    /// B&Y&K == 16\\n    /// C&Y&K == 17\\n    /// This order is calculated via the generateAtomicPositionId function below: C&Y&I -> (2, 1, 0) -> 2 + 3 * (1 + 2 * (0 + 3 * (0 + 0)))\\n    /// @param collateralLimit If positive, this is the limit for the amount of collateral tokens which will be sent to the market to conduct the trade. If negative, this is the minimum amount of collateral tokens which will be received from the market for the trade. If zero, there is no limit.\\n    /// @return If positive, the amount of collateral sent to the market. If negative, the amount of collateral received from the market. If zero, no collateral was sent or received.\\n    function trade(int[] memory outcomeTokenAmounts, int collateralLimit)\\n        public\\n        atStage(Stage.Running)\\n        returns (int netCost)\\n    {\\n        require(outcomeTokenAmounts.length == atomicOutcomeSlotCount);\\n\\n        // Calculate net cost for executing trade\\n        int outcomeTokenNetCost = calcNetCost(outcomeTokenAmounts);\\n        int fees;\\n        if(outcomeTokenNetCost < 0)\\n            fees = int(calcMarketFee(uint(-outcomeTokenNetCost)));\\n        else\\n            fees = int(calcMarketFee(uint(outcomeTokenNetCost)));\\n\\n        require(fees >= 0);\\n        netCost = outcomeTokenNetCost.add(fees);\\n\\n        require(\\n            (collateralLimit != 0 && netCost <= collateralLimit) ||\\n            collateralLimit == 0\\n        );\\n\\n        if(outcomeTokenNetCost > 0) {\\n            require(\\n                collateralToken.transferFrom(msg.sender, address(this), uint(netCost)) &&\\n                collateralToken.approve(address(pmSystem), uint(outcomeTokenNetCost))\\n            );\\n\\n            splitPositionThroughAllConditions(uint(outcomeTokenNetCost), conditionIds.length, 0);\\n        }\\n\\n        for (uint i = 0; i < atomicOutcomeSlotCount; i++) {\\n            if(outcomeTokenAmounts[i] != 0) {\\n                uint positionId = generateAtomicPositionId(i);\\n                if(outcomeTokenAmounts[i] < 0) {\\n                    pmSystem.safeTransferFrom(msg.sender, address(this), positionId, uint(-outcomeTokenAmounts[i]), \\"\\");\\n                } else {\\n                    pmSystem.safeTransferFrom(address(this), msg.sender, positionId, uint(outcomeTokenAmounts[i]), \\"\\");\\n                }\\n\\n            }\\n        }\\n\\n        if(outcomeTokenNetCost < 0) {\\n            // This is safe since\\n            // 0x8000000000000000000000000000000000000000000000000000000000000000 ==\\n            // uint(-int(-0x8000000000000000000000000000000000000000000000000000000000000000))\\n            mergePositionsThroughAllConditions(uint(-outcomeTokenNetCost), conditionIds.length, 0);\\n            if(netCost < 0) {\\n                require(collateralToken.transfer(msg.sender, uint(-netCost)));\\n            }\\n        }\\n\\n        emit AMMOutcomeTokenTrade(msg.sender, outcomeTokenAmounts, outcomeTokenNetCost, uint(fees));\\n    }\\n\\n    /// @dev Calculates fee to be paid to market maker\\n    /// @param outcomeTokenCost Cost for buying outcome tokens\\n    /// @return Fee for trade\\n    function calcMarketFee(uint outcomeTokenCost)\\n        public\\n        view\\n        returns (uint)\\n    {\\n        return outcomeTokenCost * fee / FEE_RANGE;\\n    }\\n\\n    function onERC1155Received(address operator, address /*from*/, uint256 /*id*/, uint256 /*value*/, bytes calldata /*data*/) external returns(bytes4) {\\n        if (operator == address(this)) {\\n            return 0xf23a6e61;\\n        }\\n        return 0x0;\\n    }\\n\\n    function onERC1155BatchReceived(address _operator, address /*from*/, uint256[] calldata /*ids*/, uint256[] calldata /*values*/, bytes calldata /*data*/) external returns(bytes4) {\\n        if (_operator == address(this)) {\\n            return 0xf23a6e61;\\n        }\\n        return 0x0;\\n    }\\n\\n    function generateBasicPartition(bytes32 conditionId)\\n        private\\n        view\\n        returns (uint[] memory partition)\\n    {\\n        partition = new uint[](pmSystem.getOutcomeSlotCount(conditionId));\\n        for(uint i = 0; i < partition.length; i++) {\\n            partition[i] = 1 << i;\\n        }\\n    }\\n\\n    function generateAtomicPositionId(uint i)\\n        internal\\n        view\\n        returns (uint)\\n    {\\n        uint collectionId = 0;\\n\\n        for(uint k = 0; k < conditionIds.length; k++) {\\n            uint curOutcomeSlotCount = pmSystem.getOutcomeSlotCount(conditionIds[k]);\\n            collectionId += uint(keccak256(abi.encodePacked(\\n                conditionIds[k],\\n                1 << (i % curOutcomeSlotCount))));\\n            i /= curOutcomeSlotCount;\\n        }\\n        return uint(keccak256(abi.encodePacked(\\n            collateralToken,\\n            collectionId)));\\n    }\\n\\n    function splitPositionThroughAllConditions(uint amount, uint conditionsLeft, uint parentCollectionId)\\n        private\\n    {\\n        if(conditionsLeft == 0) return;\\n        conditionsLeft--;\\n\\n        uint[] memory partition = generateBasicPartition(conditionIds[conditionsLeft]);\\n        pmSystem.splitPosition(collateralToken, bytes32(parentCollectionId), conditionIds[conditionsLeft], partition, amount);\\n        for(uint i = 0; i < partition.length; i++) {\\n            splitPositionThroughAllConditions(\\n                amount,\\n                conditionsLeft,\\n                parentCollectionId + uint(keccak256(abi.encodePacked(\\n                    conditionIds[conditionsLeft],\\n                    partition[i]))));\\n        }\\n    }\\n\\n    function mergePositionsThroughAllConditions(uint amount, uint conditionsLeft, uint parentCollectionId)\\n        private\\n    {\\n        if(conditionsLeft == 0) return;\\n        conditionsLeft--;\\n\\n        uint[] memory partition = generateBasicPartition(conditionIds[conditionsLeft]);\\n        for(uint i = 0; i < partition.length; i++) {\\n            mergePositionsThroughAllConditions(\\n                amount,\\n                conditionsLeft,\\n                parentCollectionId + uint(keccak256(abi.encodePacked(\\n                    conditionIds[conditionsLeft],\\n                    partition[i]))));\\n        }\\n        pmSystem.mergePositions(collateralToken, bytes32(parentCollectionId), conditionIds[conditionsLeft], partition, amount);\\n    }\\n}","sourcePath":"@gnosis.pm/hg-market-makers/contracts/MarketMaker.sol","ast":{"absolutePath":"@gnosis.pm/hg-market-makers/contracts/MarketMaker.sol","exportedSymbols":{"MarketMaker":[3103]},"id":3104,"nodeType":"SourceUnit","nodes":[{"id":2070,"literals":["solidity","^","0.5",".1"],"nodeType":"PragmaDirective","src":"0:23:9"},{"absolutePath":"erc-1155/contracts/IERC1155TokenReceiver.sol","file":"erc-1155/contracts/IERC1155TokenReceiver.sol","id":2071,"nodeType":"ImportDirective","scope":3104,"sourceUnit":5066,"src":"24:54:9","symbolAliases":[],"unitAlias":""},{"absolutePath":"openzeppelin-solidity/contracts/ownership/Ownable.sol","file":"openzeppelin-solidity/contracts/ownership/Ownable.sol","id":2072,"nodeType":"ImportDirective","scope":3104,"sourceUnit":5313,"src":"79:63:9","symbolAliases":[],"unitAlias":""},{"absolutePath":"openzeppelin-solidity/contracts/math/SafeMath.sol","file":"openzeppelin-solidity/contracts/math/SafeMath.sol","id":2073,"nodeType":"ImportDirective","scope":3104,"sourceUnit":5204,"src":"143:59:9","symbolAliases":[],"unitAlias":""},{"absolutePath":"@gnosis.pm/util-contracts/contracts/SignedSafeMath.sol","file":"@gnosis.pm/util-contracts/contracts/SignedSafeMath.sol","id":2074,"nodeType":"ImportDirective","scope":3104,"sourceUnit":4255,"src":"203:64:9","symbolAliases":[],"unitAlias":""},{"absolutePath":"@gnosis.pm/hg-contracts/contracts/PredictionMarketSystem.sol","file":"@gnosis.pm/hg-contracts/contracts/PredictionMarketSystem.sol","id":2075,"nodeType":"ImportDirective","scope":3104,"sourceUnit":1597,"src":"268:70:9","symbolAliases":[],"unitAlias":""},{"baseContracts":[{"arguments":null,"baseName":{"contractScope":null,"id":2076,"name":"Ownable","nodeType":"UserDefinedTypeName","referencedDeclaration":5312,"src":"364:7:9","typeDescriptions":{"typeIdentifier":"t_contract$_Ownable_$5312","typeString":"contract Ownable"}},"id":2077,"nodeType":"InheritanceSpecifier","src":"364:7:9"},{"arguments":null,"baseName":{"contractScope":null,"id":2078,"name":"IERC1155TokenReceiver","nodeType":"UserDefinedTypeName","referencedDeclaration":5065,"src":"373:21:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC1155TokenReceiver_$5065","typeString":"contract IERC1155TokenReceiver"}},"id":2079,"nodeType":"InheritanceSpecifier","src":"373:21:9"}],"contractDependencies":[5065,5312],"contractKind":"contract","documentation":null,"fullyImplemented":false,"id":3103,"linearizedBaseContracts":[3103,5065,5312],"name":"MarketMaker","nodeType":"ContractDefinition","nodes":[{"id":2082,"libraryName":{"contractScope":null,"id":2080,"name":"SignedSafeMath","nodeType":"UserDefinedTypeName","referencedDeclaration":4254,"src":"407:14:9","typeDescriptions":{"typeIdentifier":"t_contract$_SignedSafeMath_$4254","typeString":"library SignedSafeMath"}},"nodeType":"UsingForDirective","src":"401:29:9","typeName":{"id":2081,"name":"int","nodeType":"ElementaryTypeName","src":"426:3:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}},{"id":2085,"libraryName":{"contractScope":null,"id":2083,"name":"SafeMath","nodeType":"UserDefinedTypeName","referencedDeclaration":5203,"src":"441:8:9","typeDescriptions":{"typeIdentifier":"t_contract$_SafeMath_$5203","typeString":"library SafeMath"}},"nodeType":"UsingForDirective","src":"435:24:9","typeName":{"id":2084,"name":"uint","nodeType":"ElementaryTypeName","src":"454:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}},{"constant":true,"id":2090,"name":"FEE_RANGE","nodeType":"VariableDeclaration","scope":3103,"src":"501:41:9","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"},"typeName":{"id":2086,"name":"uint64","nodeType":"ElementaryTypeName","src":"501:6:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"value":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_rational_1000000000000000000_by_1","typeString":"int_const 1000000000000000000"},"id":2089,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"hexValue":"3130","id":2087,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"536:2:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_10_by_1","typeString":"int_const 10"},"value":"10"},"nodeType":"BinaryOperation","operator":"**","rightExpression":{"argumentTypes":null,"hexValue":"3138","id":2088,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"540:2:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_18_by_1","typeString":"int_const 18"},"value":"18"},"src":"536:6:9","typeDescriptions":{"typeIdentifier":"t_rational_1000000000000000000_by_1","typeString":"int_const 1000000000000000000"}},"visibility":"public"},{"anonymous":false,"documentation":null,"id":2094,"name":"AMMCreated","nodeType":"EventDefinition","parameters":{"id":2093,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2092,"indexed":false,"name":"initialFunding","nodeType":"VariableDeclaration","scope":2094,"src":"596:19:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2091,"name":"uint","nodeType":"ElementaryTypeName","src":"596:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"595:21:9"},"src":"579:38:9"},{"anonymous":false,"documentation":null,"id":2096,"name":"AMMPaused","nodeType":"EventDefinition","parameters":{"id":2095,"nodeType":"ParameterList","parameters":[],"src":"637:2:9"},"src":"622:18:9"},{"anonymous":false,"documentation":null,"id":2098,"name":"AMMResumed","nodeType":"EventDefinition","parameters":{"id":2097,"nodeType":"ParameterList","parameters":[],"src":"661:2:9"},"src":"645:19:9"},{"anonymous":false,"documentation":null,"id":2100,"name":"AMMClosed","nodeType":"EventDefinition","parameters":{"id":2099,"nodeType":"ParameterList","parameters":[],"src":"684:2:9"},"src":"669:18:9"},{"anonymous":false,"documentation":null,"id":2104,"name":"AMMFundingChanged","nodeType":"EventDefinition","parameters":{"id":2103,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2102,"indexed":false,"name":"fundingChange","nodeType":"VariableDeclaration","scope":2104,"src":"716:17:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":2101,"name":"int","nodeType":"ElementaryTypeName","src":"716:3:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"value":null,"visibility":"internal"}],"src":"715:19:9"},"src":"692:43:9"},{"anonymous":false,"documentation":null,"id":2108,"name":"AMMFeeChanged","nodeType":"EventDefinition","parameters":{"id":2107,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2106,"indexed":false,"name":"newFee","nodeType":"VariableDeclaration","scope":2108,"src":"760:13:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"},"typeName":{"id":2105,"name":"uint64","nodeType":"ElementaryTypeName","src":"760:6:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"value":null,"visibility":"internal"}],"src":"759:15:9"},"src":"740:35:9"},{"anonymous":false,"documentation":null,"id":2112,"name":"AMMFeeWithdrawal","nodeType":"EventDefinition","parameters":{"id":2111,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2110,"indexed":false,"name":"fees","nodeType":"VariableDeclaration","scope":2112,"src":"803:9:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2109,"name":"uint","nodeType":"ElementaryTypeName","src":"803:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"802:11:9"},"src":"780:34:9"},{"anonymous":false,"documentation":null,"id":2123,"name":"AMMOutcomeTokenTrade","nodeType":"EventDefinition","parameters":{"id":2122,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2114,"indexed":true,"name":"transactor","nodeType":"VariableDeclaration","scope":2123,"src":"846:26:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2113,"name":"address","nodeType":"ElementaryTypeName","src":"846:7:9","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":2117,"indexed":false,"name":"outcomeTokenAmounts","nodeType":"VariableDeclaration","scope":2123,"src":"874:25:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_memory_ptr","typeString":"int256[]"},"typeName":{"baseType":{"id":2115,"name":"int","nodeType":"ElementaryTypeName","src":"874:3:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":2116,"length":null,"nodeType":"ArrayTypeName","src":"874:5:9","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_storage_ptr","typeString":"int256[]"}},"value":null,"visibility":"internal"},{"constant":false,"id":2119,"indexed":false,"name":"outcomeTokenNetCost","nodeType":"VariableDeclaration","scope":2123,"src":"901:23:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":2118,"name":"int","nodeType":"ElementaryTypeName","src":"901:3:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"value":null,"visibility":"internal"},{"constant":false,"id":2121,"indexed":false,"name":"marketFees","nodeType":"VariableDeclaration","scope":2123,"src":"926:15:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2120,"name":"uint","nodeType":"ElementaryTypeName","src":"926:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"845:97:9"},"src":"819:124:9"},{"constant":false,"id":2125,"name":"pmSystem","nodeType":"VariableDeclaration","scope":3103,"src":"984:38:9","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"},"typeName":{"contractScope":null,"id":2124,"name":"PredictionMarketSystem","nodeType":"UserDefinedTypeName","referencedDeclaration":1596,"src":"984:22:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}},"value":null,"visibility":"public"},{"constant":false,"id":2127,"name":"collateralToken","nodeType":"VariableDeclaration","scope":3103,"src":"1028:29:9","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5439","typeString":"contract IERC20"},"typeName":{"contractScope":null,"id":2126,"name":"IERC20","nodeType":"UserDefinedTypeName","referencedDeclaration":5439,"src":"1028:6:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5439","typeString":"contract IERC20"}},"value":null,"visibility":"public"},{"constant":false,"id":2130,"name":"conditionIds","nodeType":"VariableDeclaration","scope":3103,"src":"1063:29:9","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[]"},"typeName":{"baseType":{"id":2128,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1063:7:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":2129,"length":null,"nodeType":"ArrayTypeName","src":"1063:9:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage_ptr","typeString":"bytes32[]"}},"value":null,"visibility":"public"},{"constant":false,"id":2132,"name":"atomicOutcomeSlotCount","nodeType":"VariableDeclaration","scope":3103,"src":"1098:34:9","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2131,"name":"uint","nodeType":"ElementaryTypeName","src":"1098:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"public"},{"constant":false,"id":2134,"name":"fee","nodeType":"VariableDeclaration","scope":3103,"src":"1138:17:9","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"},"typeName":{"id":2133,"name":"uint64","nodeType":"ElementaryTypeName","src":"1138:6:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"value":null,"visibility":"public"},{"constant":false,"id":2136,"name":"funding","nodeType":"VariableDeclaration","scope":3103,"src":"1161:19:9","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2135,"name":"uint","nodeType":"ElementaryTypeName","src":"1161:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"public"},{"constant":false,"id":2138,"name":"stage","nodeType":"VariableDeclaration","scope":3103,"src":"1186:18:9","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"},"typeName":{"contractScope":null,"id":2137,"name":"Stage","nodeType":"UserDefinedTypeName","referencedDeclaration":2142,"src":"1186:5:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}},"value":null,"visibility":"public"},{"canonicalName":"MarketMaker.Stage","id":2142,"members":[{"id":2139,"name":"Running","nodeType":"EnumValue","src":"1231:7:9"},{"id":2140,"name":"Paused","nodeType":"EnumValue","src":"1248:6:9"},{"id":2141,"name":"Closed","nodeType":"EnumValue","src":"1264:6:9"}],"name":"Stage","nodeType":"EnumDefinition","src":"1210:66:9"},{"body":{"id":2153,"nodeType":"Block","src":"1346:97:9","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"},"id":2149,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2147,"name":"stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2138,"src":"1409:5:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"id":2148,"name":"_stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2144,"src":"1418:6:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}},"src":"1409:15:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":2146,"name":"require","nodeType":"Identifier","overloadedDeclarations":[5476,5477],"referencedDeclaration":5476,"src":"1401:7:9","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":2150,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1401:24:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2151,"nodeType":"ExpressionStatement","src":"1401:24:9"},{"id":2152,"nodeType":"PlaceholderStatement","src":"1435:1:9"}]},"documentation":null,"id":2154,"name":"atStage","nodeType":"ModifierDefinition","parameters":{"id":2145,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2144,"name":"_stage","nodeType":"VariableDeclaration","scope":2154,"src":"1332:12:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"},"typeName":{"contractScope":null,"id":2143,"name":"Stage","nodeType":"UserDefinedTypeName","referencedDeclaration":2142,"src":"1332:5:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}},"value":null,"visibility":"internal"}],"src":"1331:14:9"},"src":"1315:128:9","visibility":"internal"},{"body":{"id":2272,"nodeType":"Block","src":"1626:838:9","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":2181,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":2177,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2172,"name":"_pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2156,"src":"1679:9:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}],"id":2171,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1671:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2173,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1671:18:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"30","id":2175,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1701:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":2174,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1693:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2176,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1693:10:9","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"src":"1671:32:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint64","typeString":"uint64"},"id":2180,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2178,"name":"_fee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2163,"src":"1707:4:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"id":2179,"name":"FEE_RANGE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2090,"src":"1714:9:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"src":"1707:16:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"1671:52:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":2170,"name":"require","nodeType":"Identifier","overloadedDeclarations":[5476,5477],"referencedDeclaration":5476,"src":"1663:7:9","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":2182,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1663:61:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2183,"nodeType":"ExpressionStatement","src":"1663:61:9"},{"expression":{"argumentTypes":null,"id":2186,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2184,"name":"pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2125,"src":"1734:8:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"id":2185,"name":"_pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2156,"src":"1745:9:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}},"src":"1734:20:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}},"id":2187,"nodeType":"ExpressionStatement","src":"1734:20:9"},{"expression":{"argumentTypes":null,"id":2190,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2188,"name":"collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2127,"src":"1764:15:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5439","typeString":"contract IERC20"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"id":2189,"name":"_collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2158,"src":"1782:16:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5439","typeString":"contract IERC20"}},"src":"1764:34:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5439","typeString":"contract IERC20"}},"id":2191,"nodeType":"ExpressionStatement","src":"1764:34:9"},{"expression":{"argumentTypes":null,"id":2194,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2192,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2130,"src":"1808:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"id":2193,"name":"_conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2161,"src":"1823:13:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_memory_ptr","typeString":"bytes32[] memory"}},"src":"1808:28:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":2195,"nodeType":"ExpressionStatement","src":"1808:28:9"},{"expression":{"argumentTypes":null,"id":2198,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2196,"name":"fee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2134,"src":"1846:3:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"id":2197,"name":"_fee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2163,"src":"1852:4:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"src":"1846:10:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"id":2199,"nodeType":"ExpressionStatement","src":"1846:10:9"},{"expression":{"argumentTypes":null,"id":2202,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2200,"name":"atomicOutcomeSlotCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2132,"src":"1867:22:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"hexValue":"31","id":2201,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1892:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"1867:26:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2203,"nodeType":"ExpressionStatement","src":"1867:26:9"},{"body":{"id":2224,"nodeType":"Block","src":"1950:96:9","statements":[{"expression":{"argumentTypes":null,"id":2222,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2215,"name":"atomicOutcomeSlotCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2132,"src":"1964:22:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"*=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2218,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2130,"src":"2019:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":2220,"indexExpression":{"argumentTypes":null,"id":2219,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2205,"src":"2032:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2019:15:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"expression":{"argumentTypes":null,"id":2216,"name":"pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2125,"src":"1990:8:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}},"id":2217,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"getOutcomeSlotCount","nodeType":"MemberAccess","referencedDeclaration":1567,"src":"1990:28:9","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_bytes32_$returns$_t_uint256_$","typeString":"function (bytes32) view external returns (uint256)"}},"id":2221,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1990:45:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1964:71:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2223,"nodeType":"ExpressionStatement","src":"1964:71:9"}]},"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2211,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2208,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2205,"src":"1920:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2209,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2130,"src":"1924:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":2210,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","referencedDeclaration":null,"src":"1924:19:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1920:23:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":2225,"initializationExpression":{"assignments":[2205],"declarations":[{"constant":false,"id":2205,"name":"i","nodeType":"VariableDeclaration","scope":2225,"src":"1908:6:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2204,"name":"uint","nodeType":"ElementaryTypeName","src":"1908:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":2207,"initialValue":{"argumentTypes":null,"hexValue":"30","id":2206,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1917:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"1908:10:9"},"loopExpression":{"expression":{"argumentTypes":null,"id":2213,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"1945:3:9","subExpression":{"argumentTypes":null,"id":2212,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2205,"src":"1945:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2214,"nodeType":"ExpressionStatement","src":"1945:3:9"},"nodeType":"ForStatement","src":"1903:143:9"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2229,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2227,"name":"atomicOutcomeSlotCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2132,"src":"2063:22:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"argumentTypes":null,"hexValue":"31","id":2228,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2088:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"2063:26:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"636f6e646974696f6e73206d7573742062652076616c6964","id":2230,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"2091:26:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_cd148311b7911b4ee79dcdb6c43a5e3ce4b2c17323005884872aa057fa3bf785","typeString":"literal_string \\"conditions must be valid\\""},"value":"conditions must be valid"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_cd148311b7911b4ee79dcdb6c43a5e3ce4b2c17323005884872aa057fa3bf785","typeString":"literal_string \\"conditions must be valid\\""}],"id":2226,"name":"require","nodeType":"Identifier","overloadedDeclarations":[5476,5477],"referencedDeclaration":5477,"src":"2055:7:9","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":2231,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2055:63:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2232,"nodeType":"ExpressionStatement","src":"2055:63:9"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":2249,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2236,"name":"marketOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2167,"src":"2166:11:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2238,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5510,"src":"2187:4:9","typeDescriptions":{"typeIdentifier":"t_contract$_MarketMaker_$3103","typeString":"contract MarketMaker"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_MarketMaker_$3103","typeString":"contract MarketMaker"}],"id":2237,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2179:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2239,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2179:13:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":2240,"name":"initialFunding","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2165,"src":"2194:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2234,"name":"collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2127,"src":"2137:15:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5439","typeString":"contract IERC20"}},"id":2235,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"transferFrom","nodeType":"MemberAccess","referencedDeclaration":5401,"src":"2137:28:9","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (address,address,uint256) external returns (bool)"}},"id":2241,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2137:72:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2245,"name":"pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2125,"src":"2245:8:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}],"id":2244,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2237:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2246,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2237:17:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":2247,"name":"initialFunding","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2165,"src":"2256:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2242,"name":"collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2127,"src":"2213:15:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5439","typeString":"contract IERC20"}},"id":2243,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"approve","nodeType":"MemberAccess","referencedDeclaration":5390,"src":"2213:23:9","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (address,uint256) external returns (bool)"}},"id":2248,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2213:58:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"2137:134:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":2233,"name":"require","nodeType":"Identifier","overloadedDeclarations":[5476,5477],"referencedDeclaration":5476,"src":"2129:7:9","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":2250,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2129:143:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2251,"nodeType":"ExpressionStatement","src":"2129:143:9"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2253,"name":"initialFunding","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2165,"src":"2317:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2254,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2130,"src":"2333:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":2255,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","referencedDeclaration":null,"src":"2333:19:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"hexValue":"30","id":2256,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2354:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":2252,"name":"splitPositionThroughAllConditions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3027,"src":"2283:33:9","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (uint256,uint256,uint256)"}},"id":2257,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2283:73:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2258,"nodeType":"ExpressionStatement","src":"2283:73:9"},{"expression":{"argumentTypes":null,"id":2261,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2259,"name":"funding","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2136,"src":"2367:7:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"id":2260,"name":"initialFunding","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2165,"src":"2377:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2367:24:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2262,"nodeType":"ExpressionStatement","src":"2367:24:9"},{"expression":{"argumentTypes":null,"id":2266,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2263,"name":"stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2138,"src":"2402:5:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2264,"name":"Stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2142,"src":"2410:5:9","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Stage_$2142_$","typeString":"type(enum MarketMaker.Stage)"}},"id":2265,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"Running","nodeType":"MemberAccess","referencedDeclaration":null,"src":"2410:13:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}},"src":"2402:21:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}},"id":2267,"nodeType":"ExpressionStatement","src":"2402:21:9"},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2269,"name":"funding","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2136,"src":"2449:7:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":2268,"name":"AMMCreated","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2094,"src":"2438:10:9","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_uint256_$returns$__$","typeString":"function (uint256)"}},"id":2270,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2438:19:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2271,"nodeType":"EmitStatement","src":"2433:24:9"}]},"documentation":null,"id":2273,"implemented":true,"kind":"constructor","modifiers":[],"name":"","nodeType":"FunctionDefinition","parameters":{"id":2168,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2156,"name":"_pmSystem","nodeType":"VariableDeclaration","scope":2273,"src":"1461:32:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"},"typeName":{"contractScope":null,"id":2155,"name":"PredictionMarketSystem","nodeType":"UserDefinedTypeName","referencedDeclaration":1596,"src":"1461:22:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}},"value":null,"visibility":"internal"},{"constant":false,"id":2158,"name":"_collateralToken","nodeType":"VariableDeclaration","scope":2273,"src":"1495:23:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5439","typeString":"contract IERC20"},"typeName":{"contractScope":null,"id":2157,"name":"IERC20","nodeType":"UserDefinedTypeName","referencedDeclaration":5439,"src":"1495:6:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5439","typeString":"contract IERC20"}},"value":null,"visibility":"internal"},{"constant":false,"id":2161,"name":"_conditionIds","nodeType":"VariableDeclaration","scope":2273,"src":"1520:30:9","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_memory_ptr","typeString":"bytes32[]"},"typeName":{"baseType":{"id":2159,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1520:7:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":2160,"length":null,"nodeType":"ArrayTypeName","src":"1520:9:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage_ptr","typeString":"bytes32[]"}},"value":null,"visibility":"internal"},{"constant":false,"id":2163,"name":"_fee","nodeType":"VariableDeclaration","scope":2273,"src":"1552:11:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"},"typeName":{"id":2162,"name":"uint64","nodeType":"ElementaryTypeName","src":"1552:6:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"value":null,"visibility":"internal"},{"constant":false,"id":2165,"name":"initialFunding","nodeType":"VariableDeclaration","scope":2273,"src":"1565:19:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2164,"name":"uint","nodeType":"ElementaryTypeName","src":"1565:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":2167,"name":"marketOwner","nodeType":"VariableDeclaration","scope":2273,"src":"1586:19:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2166,"name":"address","nodeType":"ElementaryTypeName","src":"1586:7:9","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"}],"src":"1460:146:9"},"returnParameters":{"id":2169,"nodeType":"ParameterList","parameters":[],"src":"1626:0:9"},"scope":3103,"src":"1449:1015:9","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"body":null,"documentation":null,"id":2281,"implemented":false,"kind":"function","modifiers":[],"name":"calcNetCost","nodeType":"FunctionDefinition","parameters":{"id":2277,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2276,"name":"outcomeTokenAmounts","nodeType":"VariableDeclaration","scope":2281,"src":"2491:32:9","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_memory_ptr","typeString":"int256[]"},"typeName":{"baseType":{"id":2274,"name":"int","nodeType":"ElementaryTypeName","src":"2491:3:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":2275,"length":null,"nodeType":"ArrayTypeName","src":"2491:5:9","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_storage_ptr","typeString":"int256[]"}},"value":null,"visibility":"internal"}],"src":"2490:34:9"},"returnParameters":{"id":2280,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2279,"name":"netCost","nodeType":"VariableDeclaration","scope":2281,"src":"2546:11:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":2278,"name":"int","nodeType":"ElementaryTypeName","src":"2546:3:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"value":null,"visibility":"internal"}],"src":"2545:13:9"},"scope":3103,"src":"2470:89:9","stateMutability":"view","superFunction":null,"visibility":"public"},{"body":{"id":2391,"nodeType":"Block","src":"2923:965:9","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2295,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2293,"name":"fundingChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2283,"src":"2941:13:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"hexValue":"30","id":2294,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2958:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"2941:18:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"412066756e64696e674368616e6765206f66207a65726f206973206e6f7420612066756e64696e674368616e676520617420616c6c2e20497420697320756e61636365707461626c652e","id":2296,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"2961:76:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_8b0abfd0a6a26cf9e76f3923f83612ab8d81fdb0309d6dce5760bf580777c1fc","typeString":"literal_string \\"A fundingChange of zero is not a fundingChange at all. It is unacceptable.\\""},"value":"A fundingChange of zero is not a fundingChange at all. It is unacceptable."}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_8b0abfd0a6a26cf9e76f3923f83612ab8d81fdb0309d6dce5760bf580777c1fc","typeString":"literal_string \\"A fundingChange of zero is not a fundingChange at all. It is unacceptable.\\""}],"id":2292,"name":"require","nodeType":"Identifier","overloadedDeclarations":[5476,5477],"referencedDeclaration":5477,"src":"2933:7:9","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":2297,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2933:105:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2298,"nodeType":"ExpressionStatement","src":"2933:105:9"},{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2301,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2299,"name":"fundingChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2283,"src":"3164:13:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"argumentTypes":null,"hexValue":"30","id":2300,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3180:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"3164:17:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":2349,"nodeType":"IfStatement","src":"3160:399:9","trueBody":{"id":2348,"nodeType":"Block","src":"3183:376:9","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":2323,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2305,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5473,"src":"3234:3:9","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":2306,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"3234:10:9","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2308,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5510,"src":"3254:4:9","typeDescriptions":{"typeIdentifier":"t_contract$_MarketMaker_$3103","typeString":"contract MarketMaker"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_MarketMaker_$3103","typeString":"contract MarketMaker"}],"id":2307,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3246:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2309,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3246:13:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2311,"name":"fundingChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2283,"src":"3266:13:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2310,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3261:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2312,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3261:19:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address_payable","typeString":"address payable"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2303,"name":"collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2127,"src":"3205:15:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5439","typeString":"contract IERC20"}},"id":2304,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"transferFrom","nodeType":"MemberAccess","referencedDeclaration":5401,"src":"3205:28:9","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (address,address,uint256) external returns (bool)"}},"id":2313,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3205:76:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2317,"name":"pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2125,"src":"3317:8:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}],"id":2316,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3309:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2318,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3309:17:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2320,"name":"fundingChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2283,"src":"3333:13:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2319,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3328:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2321,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3328:19:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2314,"name":"collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2127,"src":"3285:15:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5439","typeString":"contract IERC20"}},"id":2315,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"approve","nodeType":"MemberAccess","referencedDeclaration":5390,"src":"3285:23:9","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (address,uint256) external returns (bool)"}},"id":2322,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3285:63:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"3205:143:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":2302,"name":"require","nodeType":"Identifier","overloadedDeclarations":[5476,5477],"referencedDeclaration":5476,"src":"3197:7:9","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":2324,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3197:152:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2325,"nodeType":"ExpressionStatement","src":"3197:152:9"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2328,"name":"fundingChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2283,"src":"3402:13:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2327,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3397:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2329,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3397:19:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2330,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2130,"src":"3418:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":2331,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","referencedDeclaration":null,"src":"3418:19:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"hexValue":"30","id":2332,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3439:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":2326,"name":"splitPositionThroughAllConditions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3027,"src":"3363:33:9","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (uint256,uint256,uint256)"}},"id":2333,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3363:78:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2334,"nodeType":"ExpressionStatement","src":"3363:78:9"},{"expression":{"argumentTypes":null,"id":2342,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2335,"name":"funding","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2136,"src":"3455:7:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2339,"name":"fundingChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2283,"src":"3482:13:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2338,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3477:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2340,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3477:19:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2336,"name":"funding","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2136,"src":"3465:7:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2337,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"add","nodeType":"MemberAccess","referencedDeclaration":5182,"src":"3465:11:9","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":2341,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3465:32:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3455:42:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2343,"nodeType":"ExpressionStatement","src":"3455:42:9"},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2345,"name":"fundingChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2283,"src":"3534:13:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2344,"name":"AMMFundingChanged","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2104,"src":"3516:17:9","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_int256_$returns$__$","typeString":"function (int256)"}},"id":2346,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3516:32:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2347,"nodeType":"EmitStatement","src":"3511:37:9"}]}},{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2352,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2350,"name":"fundingChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2283,"src":"3572:13:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"hexValue":"30","id":2351,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3588:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"3572:17:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":2390,"nodeType":"IfStatement","src":"3568:314:9","trueBody":{"id":2389,"nodeType":"Block","src":"3591:291:9","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2356,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"3645:14:9","subExpression":{"argumentTypes":null,"id":2355,"name":"fundingChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2283,"src":"3646:13:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2354,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3640:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2357,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3640:20:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2358,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2130,"src":"3662:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":2359,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","referencedDeclaration":null,"src":"3662:19:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"hexValue":"30","id":2360,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3683:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":2353,"name":"mergePositionsThroughAllConditions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3102,"src":"3605:34:9","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (uint256,uint256,uint256)"}},"id":2361,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3605:80:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2362,"nodeType":"ExpressionStatement","src":"3605:80:9"},{"expression":{"argumentTypes":null,"id":2371,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2363,"name":"funding","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2136,"src":"3699:7:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2368,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"3726:14:9","subExpression":{"argumentTypes":null,"id":2367,"name":"fundingChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2283,"src":"3727:13:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2366,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3721:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2369,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3721:20:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2364,"name":"funding","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2136,"src":"3709:7:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2365,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sub","nodeType":"MemberAccess","referencedDeclaration":5158,"src":"3709:11:9","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":2370,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3709:33:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3699:43:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2372,"nodeType":"ExpressionStatement","src":"3699:43:9"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[],"expression":{"argumentTypes":[],"id":2376,"name":"owner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5237,"src":"3789:5:9","typeDescriptions":{"typeIdentifier":"t_function_internal_view$__$returns$_t_address_$","typeString":"function () view returns (address)"}},"id":2377,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3789:7:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2380,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"3803:14:9","subExpression":{"argumentTypes":null,"id":2379,"name":"fundingChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2283,"src":"3804:13:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2378,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3798:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2381,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3798:20:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2374,"name":"collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2127,"src":"3764:15:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5439","typeString":"contract IERC20"}},"id":2375,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"transfer","nodeType":"MemberAccess","referencedDeclaration":5381,"src":"3764:24:9","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (address,uint256) external returns (bool)"}},"id":2382,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3764:55:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":2373,"name":"require","nodeType":"Identifier","overloadedDeclarations":[5476,5477],"referencedDeclaration":5476,"src":"3756:7:9","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":2383,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3756:64:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2384,"nodeType":"ExpressionStatement","src":"3756:64:9"},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2386,"name":"fundingChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2283,"src":"3857:13:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2385,"name":"AMMFundingChanged","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2104,"src":"3839:17:9","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_int256_$returns$__$","typeString":"function (int256)"}},"id":2387,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3839:32:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2388,"nodeType":"EmitStatement","src":"3834:37:9"}]}}]},"documentation":"@dev Allows to fund the market with collateral tokens converting them into outcome tokens\\n Note for the future: should combine splitPosition and mergePositions into one function, as code duplication causes things like this to happen.","id":2392,"implemented":true,"kind":"function","modifiers":[{"arguments":null,"id":2286,"modifierName":{"argumentTypes":null,"id":2285,"name":"onlyOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5246,"src":"2879:9:9","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"2879:9:9"},{"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2288,"name":"Stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2142,"src":"2905:5:9","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Stage_$2142_$","typeString":"type(enum MarketMaker.Stage)"}},"id":2289,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"Paused","nodeType":"MemberAccess","referencedDeclaration":null,"src":"2905:12:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}}],"id":2290,"modifierName":{"argumentTypes":null,"id":2287,"name":"atStage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2154,"src":"2897:7:9","typeDescriptions":{"typeIdentifier":"t_modifier$_t_enum$_Stage_$2142_$","typeString":"modifier (enum MarketMaker.Stage)"}},"nodeType":"ModifierInvocation","src":"2897:21:9"}],"name":"changeFunding","nodeType":"FunctionDefinition","parameters":{"id":2284,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2283,"name":"fundingChange","nodeType":"VariableDeclaration","scope":2392,"src":"2837:17:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":2282,"name":"int","nodeType":"ElementaryTypeName","src":"2837:3:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"value":null,"visibility":"internal"}],"src":"2836:19:9"},"returnParameters":{"id":2291,"nodeType":"ParameterList","parameters":[],"src":"2923:0:9"},"scope":3103,"src":"2814:1074:9","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"body":{"id":2409,"nodeType":"Block","src":"3951:63:9","statements":[{"expression":{"argumentTypes":null,"id":2404,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2401,"name":"stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2138,"src":"3961:5:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2402,"name":"Stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2142,"src":"3969:5:9","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Stage_$2142_$","typeString":"type(enum MarketMaker.Stage)"}},"id":2403,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"Paused","nodeType":"MemberAccess","referencedDeclaration":null,"src":"3969:12:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}},"src":"3961:20:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}},"id":2405,"nodeType":"ExpressionStatement","src":"3961:20:9"},{"eventCall":{"argumentTypes":null,"arguments":[],"expression":{"argumentTypes":[],"id":2406,"name":"AMMPaused","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2096,"src":"3996:9:9","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$__$returns$__$","typeString":"function ()"}},"id":2407,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3996:11:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2408,"nodeType":"EmitStatement","src":"3991:16:9"}]},"documentation":null,"id":2410,"implemented":true,"kind":"function","modifiers":[{"arguments":null,"id":2395,"modifierName":{"argumentTypes":null,"id":2394,"name":"onlyOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5246,"src":"3918:9:9","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"3918:9:9"},{"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2397,"name":"Stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2142,"src":"3936:5:9","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Stage_$2142_$","typeString":"type(enum MarketMaker.Stage)"}},"id":2398,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"Running","nodeType":"MemberAccess","referencedDeclaration":null,"src":"3936:13:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}}],"id":2399,"modifierName":{"argumentTypes":null,"id":2396,"name":"atStage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2154,"src":"3928:7:9","typeDescriptions":{"typeIdentifier":"t_modifier$_t_enum$_Stage_$2142_$","typeString":"modifier (enum MarketMaker.Stage)"}},"nodeType":"ModifierInvocation","src":"3928:22:9"}],"name":"pause","nodeType":"FunctionDefinition","parameters":{"id":2393,"nodeType":"ParameterList","parameters":[],"src":"3908:2:9"},"returnParameters":{"id":2400,"nodeType":"ParameterList","parameters":[],"src":"3951:0:9"},"scope":3103,"src":"3894:120:9","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"body":{"id":2427,"nodeType":"Block","src":"4081:65:9","statements":[{"expression":{"argumentTypes":null,"id":2422,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2419,"name":"stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2138,"src":"4091:5:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2420,"name":"Stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2142,"src":"4099:5:9","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Stage_$2142_$","typeString":"type(enum MarketMaker.Stage)"}},"id":2421,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"Running","nodeType":"MemberAccess","referencedDeclaration":null,"src":"4099:13:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}},"src":"4091:21:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}},"id":2423,"nodeType":"ExpressionStatement","src":"4091:21:9"},{"eventCall":{"argumentTypes":null,"arguments":[],"expression":{"argumentTypes":[],"id":2424,"name":"AMMResumed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2098,"src":"4127:10:9","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$__$returns$__$","typeString":"function ()"}},"id":2425,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4127:12:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2426,"nodeType":"EmitStatement","src":"4122:17:9"}]},"documentation":null,"id":2428,"implemented":true,"kind":"function","modifiers":[{"arguments":null,"id":2413,"modifierName":{"argumentTypes":null,"id":2412,"name":"onlyOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5246,"src":"4049:9:9","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"4049:9:9"},{"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2415,"name":"Stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2142,"src":"4067:5:9","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Stage_$2142_$","typeString":"type(enum MarketMaker.Stage)"}},"id":2416,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"Paused","nodeType":"MemberAccess","referencedDeclaration":null,"src":"4067:12:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}}],"id":2417,"modifierName":{"argumentTypes":null,"id":2414,"name":"atStage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2154,"src":"4059:7:9","typeDescriptions":{"typeIdentifier":"t_modifier$_t_enum$_Stage_$2142_$","typeString":"modifier (enum MarketMaker.Stage)"}},"nodeType":"ModifierInvocation","src":"4059:21:9"}],"name":"resume","nodeType":"FunctionDefinition","parameters":{"id":2411,"nodeType":"ParameterList","parameters":[],"src":"4039:2:9"},"returnParameters":{"id":2418,"nodeType":"ParameterList","parameters":[],"src":"4081:0:9"},"scope":3103,"src":"4024:122:9","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"body":{"id":2447,"nodeType":"Block","src":"4223:60:9","statements":[{"expression":{"argumentTypes":null,"id":2441,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2439,"name":"fee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2134,"src":"4233:3:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"id":2440,"name":"_fee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2430,"src":"4239:4:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"src":"4233:10:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"id":2442,"nodeType":"ExpressionStatement","src":"4233:10:9"},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2444,"name":"fee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2134,"src":"4272:3:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint64","typeString":"uint64"}],"id":2443,"name":"AMMFeeChanged","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2108,"src":"4258:13:9","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_uint64_$returns$__$","typeString":"function (uint64)"}},"id":2445,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4258:18:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2446,"nodeType":"EmitStatement","src":"4253:23:9"}]},"documentation":null,"id":2448,"implemented":true,"kind":"function","modifiers":[{"arguments":null,"id":2433,"modifierName":{"argumentTypes":null,"id":2432,"name":"onlyOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5246,"src":"4191:9:9","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"4191:9:9"},{"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2435,"name":"Stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2142,"src":"4209:5:9","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Stage_$2142_$","typeString":"type(enum MarketMaker.Stage)"}},"id":2436,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"Paused","nodeType":"MemberAccess","referencedDeclaration":null,"src":"4209:12:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}}],"id":2437,"modifierName":{"argumentTypes":null,"id":2434,"name":"atStage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2154,"src":"4201:7:9","typeDescriptions":{"typeIdentifier":"t_modifier$_t_enum$_Stage_$2142_$","typeString":"modifier (enum MarketMaker.Stage)"}},"nodeType":"ModifierInvocation","src":"4201:21:9"}],"name":"changeFee","nodeType":"FunctionDefinition","parameters":{"id":2431,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2430,"name":"_fee","nodeType":"VariableDeclaration","scope":2448,"src":"4171:11:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"},"typeName":{"id":2429,"name":"uint64","nodeType":"ElementaryTypeName","src":"4171:6:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"value":null,"visibility":"internal"}],"src":"4170:13:9"},"returnParameters":{"id":2438,"nodeType":"ParameterList","parameters":[],"src":"4223:0:9"},"scope":3103,"src":"4152:131:9","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"body":{"id":2511,"nodeType":"Block","src":"4455:423:9","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":2462,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"},"id":2457,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2454,"name":"stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2138,"src":"4473:5:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2455,"name":"Stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2142,"src":"4482:5:9","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Stage_$2142_$","typeString":"type(enum MarketMaker.Stage)"}},"id":2456,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"Running","nodeType":"MemberAccess","referencedDeclaration":null,"src":"4482:13:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}},"src":"4473:22:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"||","rightExpression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"},"id":2461,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2458,"name":"stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2138,"src":"4499:5:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2459,"name":"Stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2142,"src":"4508:5:9","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Stage_$2142_$","typeString":"type(enum MarketMaker.Stage)"}},"id":2460,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"Paused","nodeType":"MemberAccess","referencedDeclaration":null,"src":"4508:12:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}},"src":"4499:21:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"4473:47:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"54686973204d61726b65742068617320616c7265616479206265656e20636c6f736564","id":2463,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"4522:37:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_ce82b757e84d3f085f7655825c68fa1a13fda6cc3913781fbe7409417e74f19c","typeString":"literal_string \\"This Market has already been closed\\""},"value":"This Market has already been closed"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_ce82b757e84d3f085f7655825c68fa1a13fda6cc3913781fbe7409417e74f19c","typeString":"literal_string \\"This Market has already been closed\\""}],"id":2453,"name":"require","nodeType":"Identifier","overloadedDeclarations":[5476,5477],"referencedDeclaration":5477,"src":"4465:7:9","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":2464,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4465:95:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2465,"nodeType":"ExpressionStatement","src":"4465:95:9"},{"body":{"id":2501,"nodeType":"Block","src":"4620:196:9","statements":[{"assignments":[2477],"declarations":[{"constant":false,"id":2477,"name":"positionId","nodeType":"VariableDeclaration","scope":2501,"src":"4634:15:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2476,"name":"uint","nodeType":"ElementaryTypeName","src":"4634:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":2481,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2479,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2467,"src":"4677:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":2478,"name":"generateAtomicPositionId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2952,"src":"4652:24:9","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256) view returns (uint256)"}},"id":2480,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4652:27:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"4634:45:9"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2486,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5510,"src":"4727:4:9","typeDescriptions":{"typeIdentifier":"t_contract$_MarketMaker_$3103","typeString":"contract MarketMaker"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_MarketMaker_$3103","typeString":"contract MarketMaker"}],"id":2485,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4719:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2487,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4719:13:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"arguments":[],"expression":{"argumentTypes":[],"id":2488,"name":"owner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5237,"src":"4734:5:9","typeDescriptions":{"typeIdentifier":"t_function_internal_view$__$returns$_t_address_$","typeString":"function () view returns (address)"}},"id":2489,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4734:7:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":2490,"name":"positionId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2477,"src":"4743:10:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2494,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5510,"src":"4782:4:9","typeDescriptions":{"typeIdentifier":"t_contract$_MarketMaker_$3103","typeString":"contract MarketMaker"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_MarketMaker_$3103","typeString":"contract MarketMaker"}],"id":2493,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4774:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2495,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4774:13:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":2496,"name":"positionId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2477,"src":"4789:10:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2491,"name":"pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2125,"src":"4755:8:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}},"id":2492,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"balanceOf","nodeType":"MemberAccess","referencedDeclaration":4811,"src":"4755:18:9","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$_t_uint256_$returns$_t_uint256_$","typeString":"function (address,uint256) view external returns (uint256)"}},"id":2497,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4755:45:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"hexValue":"","id":2498,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"4802:2:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470","typeString":"literal_string \\"\\""},"value":""}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_stringliteral_c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470","typeString":"literal_string \\"\\""}],"expression":{"argumentTypes":null,"id":2482,"name":"pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2125,"src":"4693:8:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}},"id":2484,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"safeTransferFrom","nodeType":"MemberAccess","referencedDeclaration":4659,"src":"4693:25:9","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_address_$_t_uint256_$_t_uint256_$_t_bytes_memory_ptr_$returns$__$","typeString":"function (address,address,uint256,uint256,bytes memory) external"}},"id":2499,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4693:112:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2500,"nodeType":"ExpressionStatement","src":"4693:112:9"}]},"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2472,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2470,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2467,"src":"4587:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"id":2471,"name":"atomicOutcomeSlotCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2132,"src":"4591:22:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4587:26:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":2502,"initializationExpression":{"assignments":[2467],"declarations":[{"constant":false,"id":2467,"name":"i","nodeType":"VariableDeclaration","scope":2502,"src":"4575:6:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2466,"name":"uint","nodeType":"ElementaryTypeName","src":"4575:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":2469,"initialValue":{"argumentTypes":null,"hexValue":"30","id":2468,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4584:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"4575:10:9"},"loopExpression":{"expression":{"argumentTypes":null,"id":2474,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"4615:3:9","subExpression":{"argumentTypes":null,"id":2473,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2467,"src":"4615:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2475,"nodeType":"ExpressionStatement","src":"4615:3:9"},"nodeType":"ForStatement","src":"4570:246:9"},{"expression":{"argumentTypes":null,"id":2506,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2503,"name":"stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2138,"src":"4825:5:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2504,"name":"Stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2142,"src":"4833:5:9","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Stage_$2142_$","typeString":"type(enum MarketMaker.Stage)"}},"id":2505,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"Closed","nodeType":"MemberAccess","referencedDeclaration":null,"src":"4833:12:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}},"src":"4825:20:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}},"id":2507,"nodeType":"ExpressionStatement","src":"4825:20:9"},{"eventCall":{"argumentTypes":null,"arguments":[],"expression":{"argumentTypes":[],"id":2508,"name":"AMMClosed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2100,"src":"4860:9:9","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$__$returns$__$","typeString":"function ()"}},"id":2509,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4860:11:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2510,"nodeType":"EmitStatement","src":"4855:16:9"}]},"documentation":"@dev Allows market owner to close the markets by transferring all remaining outcome tokens to the owner","id":2512,"implemented":true,"kind":"function","modifiers":[{"arguments":null,"id":2451,"modifierName":{"argumentTypes":null,"id":2450,"name":"onlyOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5246,"src":"4441:9:9","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"4441:9:9"}],"name":"close","nodeType":"FunctionDefinition","parameters":{"id":2449,"nodeType":"ParameterList","parameters":[],"src":"4415:2:9"},"returnParameters":{"id":2452,"nodeType":"ParameterList","parameters":[],"src":"4455:0:9"},"scope":3103,"src":"4401:477:9","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"body":{"id":2541,"nodeType":"Block","src":"5070:184:9","statements":[{"expression":{"argumentTypes":null,"id":2526,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2519,"name":"fees","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2517,"src":"5080:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2523,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5510,"src":"5121:4:9","typeDescriptions":{"typeIdentifier":"t_contract$_MarketMaker_$3103","typeString":"contract MarketMaker"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_MarketMaker_$3103","typeString":"contract MarketMaker"}],"id":2522,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"5113:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2524,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5113:13:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"argumentTypes":null,"id":2520,"name":"collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2127,"src":"5087:15:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5439","typeString":"contract IERC20"}},"id":2521,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"balanceOf","nodeType":"MemberAccess","referencedDeclaration":5413,"src":"5087:25:9","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$returns$_t_uint256_$","typeString":"function (address) view external returns (uint256)"}},"id":2525,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5087:40:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5080:47:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2527,"nodeType":"ExpressionStatement","src":"5080:47:9"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[],"expression":{"argumentTypes":[],"id":2531,"name":"owner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5237,"src":"5195:5:9","typeDescriptions":{"typeIdentifier":"t_function_internal_view$__$returns$_t_address_$","typeString":"function () view returns (address)"}},"id":2532,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5195:7:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":2533,"name":"fees","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2517,"src":"5204:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2529,"name":"collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2127,"src":"5170:15:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5439","typeString":"contract IERC20"}},"id":2530,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"transfer","nodeType":"MemberAccess","referencedDeclaration":5381,"src":"5170:24:9","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (address,uint256) external returns (bool)"}},"id":2534,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5170:39:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":2528,"name":"require","nodeType":"Identifier","overloadedDeclarations":[5476,5477],"referencedDeclaration":5476,"src":"5162:7:9","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":2535,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5162:48:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2536,"nodeType":"ExpressionStatement","src":"5162:48:9"},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2538,"name":"fees","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2517,"src":"5242:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":2537,"name":"AMMFeeWithdrawal","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2112,"src":"5225:16:9","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_uint256_$returns$__$","typeString":"function (uint256)"}},"id":2539,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5225:22:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2540,"nodeType":"EmitStatement","src":"5220:27:9"}]},"documentation":"@dev Allows market owner to withdraw fees generated by trades\\n @return Fee amount","id":2542,"implemented":true,"kind":"function","modifiers":[{"arguments":null,"id":2515,"modifierName":{"argumentTypes":null,"id":2514,"name":"onlyOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5246,"src":"5028:9:9","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"5028:9:9"}],"name":"withdrawFees","nodeType":"FunctionDefinition","parameters":{"id":2513,"nodeType":"ParameterList","parameters":[],"src":"5002:2:9"},"returnParameters":{"id":2518,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2517,"name":"fees","nodeType":"VariableDeclaration","scope":2542,"src":"5055:9:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2516,"name":"uint","nodeType":"ElementaryTypeName","src":"5055:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"5054:11:9"},"scope":3103,"src":"4981:273:9","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"body":{"id":2773,"nodeType":"Block","src":"7226:2081:9","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2560,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2557,"name":"outcomeTokenAmounts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2545,"src":"7244:19:9","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_memory_ptr","typeString":"int256[] memory"}},"id":2558,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","referencedDeclaration":null,"src":"7244:26:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"id":2559,"name":"atomicOutcomeSlotCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2132,"src":"7274:22:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"7244:52:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":2556,"name":"require","nodeType":"Identifier","overloadedDeclarations":[5476,5477],"referencedDeclaration":5476,"src":"7236:7:9","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":2561,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7236:61:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2562,"nodeType":"ExpressionStatement","src":"7236:61:9"},{"assignments":[2564],"declarations":[{"constant":false,"id":2564,"name":"outcomeTokenNetCost","nodeType":"VariableDeclaration","scope":2773,"src":"7358:23:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":2563,"name":"int","nodeType":"ElementaryTypeName","src":"7358:3:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"value":null,"visibility":"internal"}],"id":2568,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2566,"name":"outcomeTokenAmounts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2545,"src":"7396:19:9","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_memory_ptr","typeString":"int256[] memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_array$_t_int256_$dyn_memory_ptr","typeString":"int256[] memory"}],"id":2565,"name":"calcNetCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2281,"src":"7384:11:9","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_array$_t_int256_$dyn_memory_ptr_$returns$_t_int256_$","typeString":"function (int256[] memory) view returns (int256)"}},"id":2567,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7384:32:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"VariableDeclarationStatement","src":"7358:58:9"},{"assignments":[2570],"declarations":[{"constant":false,"id":2570,"name":"fees","nodeType":"VariableDeclaration","scope":2773,"src":"7426:8:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":2569,"name":"int","nodeType":"ElementaryTypeName","src":"7426:3:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"value":null,"visibility":"internal"}],"id":2571,"initialValue":null,"nodeType":"VariableDeclarationStatement","src":"7426:8:9"},{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2574,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2572,"name":"outcomeTokenNetCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2564,"src":"7447:19:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"hexValue":"30","id":2573,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"7469:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"7447:23:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"expression":{"argumentTypes":null,"id":2594,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2586,"name":"fees","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2570,"src":"7564:4:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2590,"name":"outcomeTokenNetCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2564,"src":"7594:19:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2589,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"7589:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2591,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7589:25:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":2588,"name":"calcMarketFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2788,"src":"7575:13:9","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256) view returns (uint256)"}},"id":2592,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7575:40:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":2587,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"7571:3:9","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":"int"},"id":2593,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7571:45:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"7564:52:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":2595,"nodeType":"ExpressionStatement","src":"7564:52:9"},"id":2596,"nodeType":"IfStatement","src":"7444:172:9","trueBody":{"expression":{"argumentTypes":null,"id":2584,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2575,"name":"fees","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2570,"src":"7484:4:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2580,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"7514:20:9","subExpression":{"argumentTypes":null,"id":2579,"name":"outcomeTokenNetCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2564,"src":"7515:19:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2578,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"7509:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2581,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7509:26:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":2577,"name":"calcMarketFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2788,"src":"7495:13:9","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256) view returns (uint256)"}},"id":2582,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7495:41:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":2576,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"7491:3:9","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":"int"},"id":2583,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7491:46:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"7484:53:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":2585,"nodeType":"ExpressionStatement","src":"7484:53:9"}},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2600,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2598,"name":"fees","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2570,"src":"7635:4:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"argumentTypes":null,"hexValue":"30","id":2599,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"7643:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"7635:9:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":2597,"name":"require","nodeType":"Identifier","overloadedDeclarations":[5476,5477],"referencedDeclaration":5476,"src":"7627:7:9","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":2601,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7627:18:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2602,"nodeType":"ExpressionStatement","src":"7627:18:9"},{"expression":{"argumentTypes":null,"id":2608,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2603,"name":"netCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2554,"src":"7655:7:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2606,"name":"fees","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2570,"src":"7689:4:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"expression":{"argumentTypes":null,"id":2604,"name":"outcomeTokenNetCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2564,"src":"7665:19:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":2605,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"add","nodeType":"MemberAccess","referencedDeclaration":4253,"src":"7665:23:9","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_int256_$_t_int256_$returns$_t_int256_$bound_to$_t_int256_$","typeString":"function (int256,int256) pure returns (int256)"}},"id":2607,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7665:29:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"7655:39:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":2609,"nodeType":"ExpressionStatement","src":"7655:39:9"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":2622,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"components":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":2617,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2613,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2611,"name":"collateralLimit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2547,"src":"7727:15:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"hexValue":"30","id":2612,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"7746:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"7727:20:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2616,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2614,"name":"netCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2554,"src":"7751:7:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"<=","rightExpression":{"argumentTypes":null,"id":2615,"name":"collateralLimit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2547,"src":"7762:15:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"7751:26:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"7727:50:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"id":2618,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"7726:52:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"||","rightExpression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2621,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2619,"name":"collateralLimit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2547,"src":"7794:15:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"hexValue":"30","id":2620,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"7813:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"7794:20:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"7726:88:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":2610,"name":"require","nodeType":"Identifier","overloadedDeclarations":[5476,5477],"referencedDeclaration":5476,"src":"7705:7:9","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":2623,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7705:119:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2624,"nodeType":"ExpressionStatement","src":"7705:119:9"},{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2627,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2625,"name":"outcomeTokenNetCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2564,"src":"7838:19:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"argumentTypes":null,"hexValue":"30","id":2626,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"7860:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"7838:23:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":2662,"nodeType":"IfStatement","src":"7835:350:9","trueBody":{"id":2661,"nodeType":"Block","src":"7863:322:9","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":2649,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2631,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5473,"src":"7931:3:9","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":2632,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"7931:10:9","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2634,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5510,"src":"7951:4:9","typeDescriptions":{"typeIdentifier":"t_contract$_MarketMaker_$3103","typeString":"contract MarketMaker"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_MarketMaker_$3103","typeString":"contract MarketMaker"}],"id":2633,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"7943:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2635,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7943:13:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2637,"name":"netCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2554,"src":"7963:7:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2636,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"7958:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2638,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7958:13:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address_payable","typeString":"address payable"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2629,"name":"collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2127,"src":"7902:15:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5439","typeString":"contract IERC20"}},"id":2630,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"transferFrom","nodeType":"MemberAccess","referencedDeclaration":5401,"src":"7902:28:9","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (address,address,uint256) external returns (bool)"}},"id":2639,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7902:70:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2643,"name":"pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2125,"src":"8024:8:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}],"id":2642,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"8016:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2644,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8016:17:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2646,"name":"outcomeTokenNetCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2564,"src":"8040:19:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2645,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"8035:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2647,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8035:25:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2640,"name":"collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2127,"src":"7992:15:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5439","typeString":"contract IERC20"}},"id":2641,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"approve","nodeType":"MemberAccess","referencedDeclaration":5390,"src":"7992:23:9","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (address,uint256) external returns (bool)"}},"id":2648,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7992:69:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"7902:159:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":2628,"name":"require","nodeType":"Identifier","overloadedDeclarations":[5476,5477],"referencedDeclaration":5476,"src":"7877:7:9","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":2650,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7877:198:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2651,"nodeType":"ExpressionStatement","src":"7877:198:9"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2654,"name":"outcomeTokenNetCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2564,"src":"8129:19:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2653,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"8124:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2655,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8124:25:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2656,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2130,"src":"8151:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":2657,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","referencedDeclaration":null,"src":"8151:19:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"hexValue":"30","id":2658,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8172:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":2652,"name":"splitPositionThroughAllConditions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3027,"src":"8090:33:9","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (uint256,uint256,uint256)"}},"id":2659,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8090:84:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2660,"nodeType":"ExpressionStatement","src":"8090:84:9"}]}},{"body":{"id":2729,"nodeType":"Block","src":"8245:468:9","statements":[{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2677,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2673,"name":"outcomeTokenAmounts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2545,"src":"8262:19:9","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_memory_ptr","typeString":"int256[] memory"}},"id":2675,"indexExpression":{"argumentTypes":null,"id":2674,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2664,"src":"8282:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"8262:22:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"hexValue":"30","id":2676,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8288:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"8262:27:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":2728,"nodeType":"IfStatement","src":"8259:444:9","trueBody":{"id":2727,"nodeType":"Block","src":"8291:412:9","statements":[{"assignments":[2679],"declarations":[{"constant":false,"id":2679,"name":"positionId","nodeType":"VariableDeclaration","scope":2727,"src":"8309:15:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2678,"name":"uint","nodeType":"ElementaryTypeName","src":"8309:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":2683,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2681,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2664,"src":"8352:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":2680,"name":"generateAtomicPositionId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2952,"src":"8327:24:9","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256) view returns (uint256)"}},"id":2682,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8327:27:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"8309:45:9"},{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2688,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2684,"name":"outcomeTokenAmounts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2545,"src":"8375:19:9","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_memory_ptr","typeString":"int256[] memory"}},"id":2686,"indexExpression":{"argumentTypes":null,"id":2685,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2664,"src":"8395:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"8375:22:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"hexValue":"30","id":2687,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8400:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"8375:26:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":2725,"nodeType":"Block","src":"8549:139:9","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2712,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5510,"src":"8605:4:9","typeDescriptions":{"typeIdentifier":"t_contract$_MarketMaker_$3103","typeString":"contract MarketMaker"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_MarketMaker_$3103","typeString":"contract MarketMaker"}],"id":2711,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"8597:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2713,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8597:13:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2714,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5473,"src":"8612:3:9","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":2715,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"8612:10:9","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},{"argumentTypes":null,"id":2716,"name":"positionId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2679,"src":"8624:10:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2718,"name":"outcomeTokenAmounts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2545,"src":"8641:19:9","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_memory_ptr","typeString":"int256[] memory"}},"id":2720,"indexExpression":{"argumentTypes":null,"id":2719,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2664,"src":"8661:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"8641:22:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2717,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"8636:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2721,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8636:28:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"hexValue":"","id":2722,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"8666:2:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470","typeString":"literal_string \\"\\""},"value":""}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address_payable","typeString":"address payable"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_stringliteral_c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470","typeString":"literal_string \\"\\""}],"expression":{"argumentTypes":null,"id":2708,"name":"pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2125,"src":"8571:8:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}},"id":2710,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"safeTransferFrom","nodeType":"MemberAccess","referencedDeclaration":4659,"src":"8571:25:9","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_address_$_t_uint256_$_t_uint256_$_t_bytes_memory_ptr_$returns$__$","typeString":"function (address,address,uint256,uint256,bytes memory) external"}},"id":2723,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8571:98:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2724,"nodeType":"ExpressionStatement","src":"8571:98:9"}]},"id":2726,"nodeType":"IfStatement","src":"8372:316:9","trueBody":{"id":2707,"nodeType":"Block","src":"8403:140:9","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2692,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5473,"src":"8451:3:9","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":2693,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"8451:10:9","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2695,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5510,"src":"8471:4:9","typeDescriptions":{"typeIdentifier":"t_contract$_MarketMaker_$3103","typeString":"contract MarketMaker"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_MarketMaker_$3103","typeString":"contract MarketMaker"}],"id":2694,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"8463:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2696,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8463:13:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":2697,"name":"positionId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2679,"src":"8478:10:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2702,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"8495:23:9","subExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2699,"name":"outcomeTokenAmounts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2545,"src":"8496:19:9","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_memory_ptr","typeString":"int256[] memory"}},"id":2701,"indexExpression":{"argumentTypes":null,"id":2700,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2664,"src":"8516:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"8496:22:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2698,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"8490:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2703,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8490:29:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"hexValue":"","id":2704,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"8521:2:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470","typeString":"literal_string \\"\\""},"value":""}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address_payable","typeString":"address payable"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_stringliteral_c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470","typeString":"literal_string \\"\\""}],"expression":{"argumentTypes":null,"id":2689,"name":"pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2125,"src":"8425:8:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}},"id":2691,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"safeTransferFrom","nodeType":"MemberAccess","referencedDeclaration":4659,"src":"8425:25:9","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_address_$_t_uint256_$_t_uint256_$_t_bytes_memory_ptr_$returns$__$","typeString":"function (address,address,uint256,uint256,bytes memory) external"}},"id":2705,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8425:99:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2706,"nodeType":"ExpressionStatement","src":"8425:99:9"}]}}]}}]},"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2669,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2667,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2664,"src":"8212:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"id":2668,"name":"atomicOutcomeSlotCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2132,"src":"8216:22:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8212:26:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":2730,"initializationExpression":{"assignments":[2664],"declarations":[{"constant":false,"id":2664,"name":"i","nodeType":"VariableDeclaration","scope":2730,"src":"8200:6:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2663,"name":"uint","nodeType":"ElementaryTypeName","src":"8200:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":2666,"initialValue":{"argumentTypes":null,"hexValue":"30","id":2665,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8209:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"8200:10:9"},"loopExpression":{"expression":{"argumentTypes":null,"id":2671,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"8240:3:9","subExpression":{"argumentTypes":null,"id":2670,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2664,"src":"8240:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2672,"nodeType":"ExpressionStatement","src":"8240:3:9"},"nodeType":"ForStatement","src":"8195:518:9"},{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2733,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2731,"name":"outcomeTokenNetCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2564,"src":"8726:19:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"hexValue":"30","id":2732,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8748:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"8726:23:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":2762,"nodeType":"IfStatement","src":"8723:476:9","trueBody":{"id":2761,"nodeType":"Block","src":"8751:448:9","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2737,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"9019:20:9","subExpression":{"argumentTypes":null,"id":2736,"name":"outcomeTokenNetCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2564,"src":"9020:19:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2735,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"9014:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2738,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"9014:26:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2739,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2130,"src":"9042:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":2740,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","referencedDeclaration":null,"src":"9042:19:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"hexValue":"30","id":2741,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"9063:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":2734,"name":"mergePositionsThroughAllConditions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3102,"src":"8979:34:9","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (uint256,uint256,uint256)"}},"id":2742,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8979:86:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2743,"nodeType":"ExpressionStatement","src":"8979:86:9"},{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2746,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2744,"name":"netCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2554,"src":"9082:7:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"hexValue":"30","id":2745,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"9092:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"9082:11:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":2760,"nodeType":"IfStatement","src":"9079:110:9","trueBody":{"id":2759,"nodeType":"Block","src":"9095:94:9","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2750,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5473,"src":"9146:3:9","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":2751,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"9146:10:9","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2754,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"9163:8:9","subExpression":{"argumentTypes":null,"id":2753,"name":"netCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2554,"src":"9164:7:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2752,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"9158:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2755,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"9158:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address_payable","typeString":"address payable"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2748,"name":"collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2127,"src":"9121:15:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5439","typeString":"contract IERC20"}},"id":2749,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"transfer","nodeType":"MemberAccess","referencedDeclaration":5381,"src":"9121:24:9","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (address,uint256) external returns (bool)"}},"id":2756,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"9121:52:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":2747,"name":"require","nodeType":"Identifier","overloadedDeclarations":[5476,5477],"referencedDeclaration":5476,"src":"9113:7:9","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":2757,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"9113:61:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2758,"nodeType":"ExpressionStatement","src":"9113:61:9"}]}}]}},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2764,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5473,"src":"9235:3:9","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":2765,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"9235:10:9","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},{"argumentTypes":null,"id":2766,"name":"outcomeTokenAmounts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2545,"src":"9247:19:9","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_memory_ptr","typeString":"int256[] memory"}},{"argumentTypes":null,"id":2767,"name":"outcomeTokenNetCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2564,"src":"9268:19:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2769,"name":"fees","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2570,"src":"9294:4:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2768,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"9289:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2770,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"9289:10:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address_payable","typeString":"address payable"},{"typeIdentifier":"t_array$_t_int256_$dyn_memory_ptr","typeString":"int256[] memory"},{"typeIdentifier":"t_int256","typeString":"int256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":2763,"name":"AMMOutcomeTokenTrade","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2123,"src":"9214:20:9","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_array$_t_int256_$dyn_memory_ptr_$_t_int256_$_t_uint256_$returns$__$","typeString":"function (address,int256[] memory,int256,uint256)"}},"id":2771,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"9214:86:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2772,"nodeType":"EmitStatement","src":"9209:91:9"}]},"documentation":"@dev Allows to trade outcome tokens and collateral with the market maker\\n @param outcomeTokenAmounts Amounts of each atomic outcome token to buy or sell. If positive, will buy this amount of outcome token from the market. If negative, will sell this amount back to the market instead. The indices of this array range from 0 to product(all conditions\' outcomeSlotCounts)-1. For example, with two conditions with three outcome slots each and one condition with two outcome slots, you will have 3*3*2=18 total atomic outcome tokens, and the indices will range from 0 to 17. The indices map to atomic outcome slots depending on the order of the conditionIds. Let\'s say the first condition has slots A, B, C the second has slots X, Y, and the third has slots I, J, K. We can associate each atomic outcome token with indices by this map:\\n A&X&I == 0\\n B&X&I == 1\\n C&X&I == 2\\n A&Y&I == 3\\n B&Y&I == 4\\n C&Y&I == 5\\n A&X&J == 6\\n B&X&J == 7\\n C&X&J == 8\\n A&Y&J == 9\\n B&Y&J == 10\\n C&Y&J == 11\\n A&X&K == 12\\n B&X&K == 13\\n C&X&K == 14\\n A&Y&K == 15\\n B&Y&K == 16\\n C&Y&K == 17\\n This order is calculated via the generateAtomicPositionId function below: C&Y&I -> (2, 1, 0) -> 2 + 3 * (1 + 2 * (0 + 3 * (0 + 0)))\\n @param collateralLimit If positive, this is the limit for the amount of collateral tokens which will be sent to the market to conduct the trade. If negative, this is the minimum amount of collateral tokens which will be received from the market for the trade. If zero, there is no limit.\\n @return If positive, the amount of collateral sent to the market. If negative, the amount of collateral received from the market. If zero, no collateral was sent or received.","id":2774,"implemented":true,"kind":"function","modifiers":[{"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2550,"name":"Stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2142,"src":"7177:5:9","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Stage_$2142_$","typeString":"type(enum MarketMaker.Stage)"}},"id":2551,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"Running","nodeType":"MemberAccess","referencedDeclaration":null,"src":"7177:13:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}}],"id":2552,"modifierName":{"argumentTypes":null,"id":2549,"name":"atStage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2154,"src":"7169:7:9","typeDescriptions":{"typeIdentifier":"t_modifier$_t_enum$_Stage_$2142_$","typeString":"modifier (enum MarketMaker.Stage)"}},"nodeType":"ModifierInvocation","src":"7169:22:9"}],"name":"trade","nodeType":"FunctionDefinition","parameters":{"id":2548,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2545,"name":"outcomeTokenAmounts","nodeType":"VariableDeclaration","scope":2774,"src":"7091:32:9","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_memory_ptr","typeString":"int256[]"},"typeName":{"baseType":{"id":2543,"name":"int","nodeType":"ElementaryTypeName","src":"7091:3:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":2544,"length":null,"nodeType":"ArrayTypeName","src":"7091:5:9","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_storage_ptr","typeString":"int256[]"}},"value":null,"visibility":"internal"},{"constant":false,"id":2547,"name":"collateralLimit","nodeType":"VariableDeclaration","scope":2774,"src":"7125:19:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":2546,"name":"int","nodeType":"ElementaryTypeName","src":"7125:3:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"value":null,"visibility":"internal"}],"src":"7090:55:9"},"returnParameters":{"id":2555,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2554,"name":"netCost","nodeType":"VariableDeclaration","scope":2774,"src":"7209:11:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":2553,"name":"int","nodeType":"ElementaryTypeName","src":"7209:3:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"value":null,"visibility":"internal"}],"src":"7208:13:9"},"scope":3103,"src":"7076:2231:9","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"body":{"id":2787,"nodeType":"Block","src":"9562:58:9","statements":[{"expression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2785,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2783,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2781,"name":"outcomeTokenCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2776,"src":"9579:16:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"argumentTypes":null,"id":2782,"name":"fee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2134,"src":"9598:3:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"src":"9579:22:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"argumentTypes":null,"id":2784,"name":"FEE_RANGE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2090,"src":"9604:9:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"src":"9579:34:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":2780,"id":2786,"nodeType":"Return","src":"9572:41:9"}]},"documentation":"@dev Calculates fee to be paid to market maker\\n @param outcomeTokenCost Cost for buying outcome tokens\\n @return Fee for trade","id":2788,"implemented":true,"kind":"function","modifiers":[],"name":"calcMarketFee","nodeType":"FunctionDefinition","parameters":{"id":2777,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2776,"name":"outcomeTokenCost","nodeType":"VariableDeclaration","scope":2788,"src":"9484:21:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2775,"name":"uint","nodeType":"ElementaryTypeName","src":"9484:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"9483:23:9"},"returnParameters":{"id":2780,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2779,"name":"","nodeType":"VariableDeclaration","scope":2788,"src":"9552:4:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2778,"name":"uint","nodeType":"ElementaryTypeName","src":"9552:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"9551:6:9"},"scope":3103,"src":"9461:159:9","stateMutability":"view","superFunction":null,"visibility":"public"},{"body":{"id":2814,"nodeType":"Block","src":"9774:109:9","statements":[{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":2807,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2803,"name":"operator","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2790,"src":"9788:8:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2805,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5510,"src":"9808:4:9","typeDescriptions":{"typeIdentifier":"t_contract$_MarketMaker_$3103","typeString":"contract MarketMaker"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_MarketMaker_$3103","typeString":"contract MarketMaker"}],"id":2804,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"9800:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2806,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"9800:13:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"9788:25:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":2811,"nodeType":"IfStatement","src":"9784:73:9","trueBody":{"id":2810,"nodeType":"Block","src":"9815:42:9","statements":[{"expression":{"argumentTypes":null,"hexValue":"30786632336136653631","id":2808,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"9836:10:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_4063915617_by_1","typeString":"int_const 4063915617"},"value":"0xf23a6e61"},"functionReturnParameters":2802,"id":2809,"nodeType":"Return","src":"9829:17:9"}]}},{"expression":{"argumentTypes":null,"hexValue":"307830","id":2812,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"9873:3:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0x0"},"functionReturnParameters":2802,"id":2813,"nodeType":"Return","src":"9866:10:9"}]},"documentation":null,"id":2815,"implemented":true,"kind":"function","modifiers":[],"name":"onERC1155Received","nodeType":"FunctionDefinition","parameters":{"id":2799,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2790,"name":"operator","nodeType":"VariableDeclaration","scope":2815,"src":"9653:16:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2789,"name":"address","nodeType":"ElementaryTypeName","src":"9653:7:9","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":2792,"name":"","nodeType":"VariableDeclaration","scope":2815,"src":"9671:7:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2791,"name":"address","nodeType":"ElementaryTypeName","src":"9671:7:9","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":2794,"name":"","nodeType":"VariableDeclaration","scope":2815,"src":"9689:7:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2793,"name":"uint256","nodeType":"ElementaryTypeName","src":"9689:7:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":2796,"name":"","nodeType":"VariableDeclaration","scope":2815,"src":"9705:7:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2795,"name":"uint256","nodeType":"ElementaryTypeName","src":"9705:7:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":2798,"name":"","nodeType":"VariableDeclaration","scope":2815,"src":"9724:14:9","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes"},"typeName":{"id":2797,"name":"bytes","nodeType":"ElementaryTypeName","src":"9724:5:9","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"value":null,"visibility":"internal"}],"src":"9652:96:9"},"returnParameters":{"id":2802,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2801,"name":"","nodeType":"VariableDeclaration","scope":2815,"src":"9766:6:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"typeName":{"id":2800,"name":"bytes4","nodeType":"ElementaryTypeName","src":"9766:6:9","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"value":null,"visibility":"internal"}],"src":"9765:8:9"},"scope":3103,"src":"9626:257:9","stateMutability":"nonpayable","superFunction":5047,"visibility":"external"},{"body":{"id":2843,"nodeType":"Block","src":"10067:110:9","statements":[{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":2836,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2832,"name":"_operator","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2817,"src":"10081:9:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2834,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5510,"src":"10102:4:9","typeDescriptions":{"typeIdentifier":"t_contract$_MarketMaker_$3103","typeString":"contract MarketMaker"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_MarketMaker_$3103","typeString":"contract MarketMaker"}],"id":2833,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"10094:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2835,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10094:13:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"10081:26:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":2840,"nodeType":"IfStatement","src":"10077:74:9","trueBody":{"id":2839,"nodeType":"Block","src":"10109:42:9","statements":[{"expression":{"argumentTypes":null,"hexValue":"30786632336136653631","id":2837,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10130:10:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_4063915617_by_1","typeString":"int_const 4063915617"},"value":"0xf23a6e61"},"functionReturnParameters":2831,"id":2838,"nodeType":"Return","src":"10123:17:9"}]}},{"expression":{"argumentTypes":null,"hexValue":"307830","id":2841,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10167:3:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0x0"},"functionReturnParameters":2831,"id":2842,"nodeType":"Return","src":"10160:10:9"}]},"documentation":null,"id":2844,"implemented":true,"kind":"function","modifiers":[],"name":"onERC1155BatchReceived","nodeType":"FunctionDefinition","parameters":{"id":2828,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2817,"name":"_operator","nodeType":"VariableDeclaration","scope":2844,"src":"9921:17:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2816,"name":"address","nodeType":"ElementaryTypeName","src":"9921:7:9","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":2819,"name":"","nodeType":"VariableDeclaration","scope":2844,"src":"9940:7:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2818,"name":"address","nodeType":"ElementaryTypeName","src":"9940:7:9","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":2822,"name":"","nodeType":"VariableDeclaration","scope":2844,"src":"9958:18:9","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":2820,"name":"uint256","nodeType":"ElementaryTypeName","src":"9958:7:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2821,"length":null,"nodeType":"ArrayTypeName","src":"9958:9:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"value":null,"visibility":"internal"},{"constant":false,"id":2825,"name":"","nodeType":"VariableDeclaration","scope":2844,"src":"9986:18:9","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":2823,"name":"uint256","nodeType":"ElementaryTypeName","src":"9986:7:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2824,"length":null,"nodeType":"ArrayTypeName","src":"9986:9:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"value":null,"visibility":"internal"},{"constant":false,"id":2827,"name":"","nodeType":"VariableDeclaration","scope":2844,"src":"10017:14:9","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes"},"typeName":{"id":2826,"name":"bytes","nodeType":"ElementaryTypeName","src":"10017:5:9","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"value":null,"visibility":"internal"}],"src":"9920:121:9"},"returnParameters":{"id":2831,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2830,"name":"","nodeType":"VariableDeclaration","scope":2844,"src":"10059:6:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"typeName":{"id":2829,"name":"bytes4","nodeType":"ElementaryTypeName","src":"10059:6:9","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"value":null,"visibility":"internal"}],"src":"10058:8:9"},"scope":3103,"src":"9889:288:9","stateMutability":"nonpayable","superFunction":5064,"visibility":"external"},{"body":{"id":2884,"nodeType":"Block","src":"10311:180:9","statements":[{"expression":{"argumentTypes":null,"id":2861,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2852,"name":"partition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2850,"src":"10321:9:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2858,"name":"conditionId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2846,"src":"10373:11:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"expression":{"argumentTypes":null,"id":2856,"name":"pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2125,"src":"10344:8:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}},"id":2857,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"getOutcomeSlotCount","nodeType":"MemberAccess","referencedDeclaration":1567,"src":"10344:28:9","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_bytes32_$returns$_t_uint256_$","typeString":"function (bytes32) view external returns (uint256)"}},"id":2859,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10344:41:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":2855,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"NewExpression","src":"10333:10:9","typeDescriptions":{"typeIdentifier":"t_function_objectcreation_pure$_t_uint256_$returns$_t_array$_t_uint256_$dyn_memory_$","typeString":"function (uint256) pure returns (uint256[] memory)"},"typeName":{"baseType":{"id":2853,"name":"uint","nodeType":"ElementaryTypeName","src":"10337:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2854,"length":null,"nodeType":"ArrayTypeName","src":"10337:6:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}}},"id":2860,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10333:53:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory","typeString":"uint256[] memory"}},"src":"10321:65:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":2862,"nodeType":"ExpressionStatement","src":"10321:65:9"},{"body":{"id":2882,"nodeType":"Block","src":"10439:46:9","statements":[{"expression":{"argumentTypes":null,"id":2880,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2874,"name":"partition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2850,"src":"10453:9:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":2876,"indexExpression":{"argumentTypes":null,"id":2875,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2864,"src":"10463:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"10453:12:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2879,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"hexValue":"31","id":2877,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10468:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"nodeType":"BinaryOperation","operator":"<<","rightExpression":{"argumentTypes":null,"id":2878,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2864,"src":"10473:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10468:6:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10453:21:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2881,"nodeType":"ExpressionStatement","src":"10453:21:9"}]},"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2870,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2867,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2864,"src":"10412:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2868,"name":"partition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2850,"src":"10416:9:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":2869,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","referencedDeclaration":null,"src":"10416:16:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10412:20:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":2883,"initializationExpression":{"assignments":[2864],"declarations":[{"constant":false,"id":2864,"name":"i","nodeType":"VariableDeclaration","scope":2883,"src":"10400:6:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2863,"name":"uint","nodeType":"ElementaryTypeName","src":"10400:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":2866,"initialValue":{"argumentTypes":null,"hexValue":"30","id":2865,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10409:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"10400:10:9"},"loopExpression":{"expression":{"argumentTypes":null,"id":2872,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"10434:3:9","subExpression":{"argumentTypes":null,"id":2871,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2864,"src":"10434:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2873,"nodeType":"ExpressionStatement","src":"10434:3:9"},"nodeType":"ForStatement","src":"10396:89:9"}]},"documentation":null,"id":2885,"implemented":true,"kind":"function","modifiers":[],"name":"generateBasicPartition","nodeType":"FunctionDefinition","parameters":{"id":2847,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2846,"name":"conditionId","nodeType":"VariableDeclaration","scope":2885,"src":"10215:19:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":2845,"name":"bytes32","nodeType":"ElementaryTypeName","src":"10215:7:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"internal"}],"src":"10214:21:9"},"returnParameters":{"id":2851,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2850,"name":"partition","nodeType":"VariableDeclaration","scope":2885,"src":"10282:23:9","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":2848,"name":"uint","nodeType":"ElementaryTypeName","src":"10282:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2849,"length":null,"nodeType":"ArrayTypeName","src":"10282:6:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"value":null,"visibility":"internal"}],"src":"10281:25:9"},"scope":3103,"src":"10183:308:9","stateMutability":"view","superFunction":null,"visibility":"private"},{"body":{"id":2951,"nodeType":"Block","src":"10596:480:9","statements":[{"assignments":[2893],"declarations":[{"constant":false,"id":2893,"name":"collectionId","nodeType":"VariableDeclaration","scope":2951,"src":"10606:17:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2892,"name":"uint","nodeType":"ElementaryTypeName","src":"10606:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":2895,"initialValue":{"argumentTypes":null,"hexValue":"30","id":2894,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10626:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"10606:21:9"},{"body":{"id":2939,"nodeType":"Block","src":"10684:280:9","statements":[{"assignments":[2908],"declarations":[{"constant":false,"id":2908,"name":"curOutcomeSlotCount","nodeType":"VariableDeclaration","scope":2939,"src":"10698:24:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2907,"name":"uint","nodeType":"ElementaryTypeName","src":"10698:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":2915,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2911,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2130,"src":"10754:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":2913,"indexExpression":{"argumentTypes":null,"id":2912,"name":"k","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2897,"src":"10767:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"10754:15:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"expression":{"argumentTypes":null,"id":2909,"name":"pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2125,"src":"10725:8:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}},"id":2910,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"getOutcomeSlotCount","nodeType":"MemberAccess","referencedDeclaration":1567,"src":"10725:28:9","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_bytes32_$returns$_t_uint256_$","typeString":"function (bytes32) view external returns (uint256)"}},"id":2914,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10725:45:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"10698:72:9"},{"expression":{"argumentTypes":null,"id":2933,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2916,"name":"collectionId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2893,"src":"10784:12:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"+=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2921,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2130,"src":"10849:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":2923,"indexExpression":{"argumentTypes":null,"id":2922,"name":"k","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2897,"src":"10862:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"10849:15:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2929,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"hexValue":"31","id":2924,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10882:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"nodeType":"BinaryOperation","operator":"<<","rightExpression":{"argumentTypes":null,"components":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2927,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2925,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2887,"src":"10888:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"%","rightExpression":{"argumentTypes":null,"id":2926,"name":"curOutcomeSlotCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2908,"src":"10892:19:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10888:23:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":2928,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"10887:25:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10882:30:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2919,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5460,"src":"10815:3:9","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":2920,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"encodePacked","nodeType":"MemberAccess","referencedDeclaration":null,"src":"10815:16:9","typeDescriptions":{"typeIdentifier":"t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":2930,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10815:98:9","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":2918,"name":"keccak256","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5467,"src":"10805:9:9","typeDescriptions":{"typeIdentifier":"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$","typeString":"function (bytes memory) pure returns (bytes32)"}},"id":2931,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10805:109:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":2917,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"10800:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2932,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10800:115:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10784:131:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2934,"nodeType":"ExpressionStatement","src":"10784:131:9"},{"expression":{"argumentTypes":null,"id":2937,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2935,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2887,"src":"10929:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"/=","rightHandSide":{"argumentTypes":null,"id":2936,"name":"curOutcomeSlotCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2908,"src":"10934:19:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10929:24:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2938,"nodeType":"ExpressionStatement","src":"10929:24:9"}]},"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2903,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2900,"name":"k","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2897,"src":"10654:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2901,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2130,"src":"10658:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":2902,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","referencedDeclaration":null,"src":"10658:19:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10654:23:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":2940,"initializationExpression":{"assignments":[2897],"declarations":[{"constant":false,"id":2897,"name":"k","nodeType":"VariableDeclaration","scope":2940,"src":"10642:6:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2896,"name":"uint","nodeType":"ElementaryTypeName","src":"10642:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":2899,"initialValue":{"argumentTypes":null,"hexValue":"30","id":2898,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10651:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"10642:10:9"},"loopExpression":{"expression":{"argumentTypes":null,"id":2905,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"10679:3:9","subExpression":{"argumentTypes":null,"id":2904,"name":"k","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2897,"src":"10679:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2906,"nodeType":"ExpressionStatement","src":"10679:3:9"},"nodeType":"ForStatement","src":"10638:326:9"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2945,"name":"collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2127,"src":"11025:15:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5439","typeString":"contract IERC20"}},{"argumentTypes":null,"id":2946,"name":"collectionId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2893,"src":"11054:12:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IERC20_$5439","typeString":"contract IERC20"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2943,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5460,"src":"10995:3:9","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":2944,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"encodePacked","nodeType":"MemberAccess","referencedDeclaration":null,"src":"10995:16:9","typeDescriptions":{"typeIdentifier":"t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":2947,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10995:72:9","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":2942,"name":"keccak256","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5467,"src":"10985:9:9","typeDescriptions":{"typeIdentifier":"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$","typeString":"function (bytes memory) pure returns (bytes32)"}},"id":2948,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10985:83:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":2941,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"10980:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2949,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10980:89:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":2891,"id":2950,"nodeType":"Return","src":"10973:96:9"}]},"documentation":null,"id":2952,"implemented":true,"kind":"function","modifiers":[],"name":"generateAtomicPositionId","nodeType":"FunctionDefinition","parameters":{"id":2888,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2887,"name":"i","nodeType":"VariableDeclaration","scope":2952,"src":"10531:6:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2886,"name":"uint","nodeType":"ElementaryTypeName","src":"10531:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"10530:8:9"},"returnParameters":{"id":2891,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2890,"name":"","nodeType":"VariableDeclaration","scope":2952,"src":"10586:4:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2889,"name":"uint","nodeType":"ElementaryTypeName","src":"10586:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"10585:6:9"},"scope":3103,"src":"10497:579:9","stateMutability":"view","superFunction":null,"visibility":"internal"},{"body":{"id":3026,"nodeType":"Block","src":"11204:613:9","statements":[{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2963,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2961,"name":"conditionsLeft","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2956,"src":"11217:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"hexValue":"30","id":2962,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"11235:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"11217:19:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":2965,"nodeType":"IfStatement","src":"11214:31:9","trueBody":{"expression":null,"functionReturnParameters":2960,"id":2964,"nodeType":"Return","src":"11238:7:9"}},{"expression":{"argumentTypes":null,"id":2967,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"--","prefix":false,"src":"11254:16:9","subExpression":{"argumentTypes":null,"id":2966,"name":"conditionsLeft","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2956,"src":"11254:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2968,"nodeType":"ExpressionStatement","src":"11254:16:9"},{"assignments":[2972],"declarations":[{"constant":false,"id":2972,"name":"partition","nodeType":"VariableDeclaration","scope":3026,"src":"11281:23:9","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":2970,"name":"uint","nodeType":"ElementaryTypeName","src":"11281:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2971,"length":null,"nodeType":"ArrayTypeName","src":"11281:6:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"value":null,"visibility":"internal"}],"id":2978,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2974,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2130,"src":"11330:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":2976,"indexExpression":{"argumentTypes":null,"id":2975,"name":"conditionsLeft","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2956,"src":"11343:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"11330:28:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":2973,"name":"generateBasicPartition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2885,"src":"11307:22:9","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_bytes32_$returns$_t_array$_t_uint256_$dyn_memory_ptr_$","typeString":"function (bytes32) view returns (uint256[] memory)"}},"id":2977,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"11307:52:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"nodeType":"VariableDeclarationStatement","src":"11281:78:9"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2982,"name":"collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2127,"src":"11392:15:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5439","typeString":"contract IERC20"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2984,"name":"parentCollectionId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2958,"src":"11417:18:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":2983,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"11409:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_bytes32_$","typeString":"type(bytes32)"},"typeName":"bytes32"},"id":2985,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"11409:27:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2986,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2130,"src":"11438:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":2988,"indexExpression":{"argumentTypes":null,"id":2987,"name":"conditionsLeft","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2956,"src":"11451:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"11438:28:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"argumentTypes":null,"id":2989,"name":"partition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2972,"src":"11468:9:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},{"argumentTypes":null,"id":2990,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2954,"src":"11479:6:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IERC20_$5439","typeString":"contract IERC20"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2979,"name":"pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2125,"src":"11369:8:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}},"id":2981,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"splitPosition","nodeType":"MemberAccess","referencedDeclaration":1091,"src":"11369:22:9","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_contract$_IERC20_$5439_$_t_bytes32_$_t_bytes32_$_t_array$_t_uint256_$dyn_memory_ptr_$_t_uint256_$returns$__$","typeString":"function (contract IERC20,bytes32,bytes32,uint256[] memory,uint256) external"}},"id":2991,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"11369:117:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2992,"nodeType":"ExpressionStatement","src":"11369:117:9"},{"body":{"id":3024,"nodeType":"Block","src":"11539:272:9","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":3005,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2954,"src":"11604:6:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":3006,"name":"conditionsLeft","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2956,"src":"11628:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":3021,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":3007,"name":"parentCollectionId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2958,"src":"11660:18:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":3012,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2130,"src":"11734:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":3014,"indexExpression":{"argumentTypes":null,"id":3013,"name":"conditionsLeft","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2956,"src":"11747:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"11734:28:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":3015,"name":"partition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2972,"src":"11784:9:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":3017,"indexExpression":{"argumentTypes":null,"id":3016,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2994,"src":"11794:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"11784:12:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":3010,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5460,"src":"11696:3:9","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":3011,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"encodePacked","nodeType":"MemberAccess","referencedDeclaration":null,"src":"11696:16:9","typeDescriptions":{"typeIdentifier":"t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":3018,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"11696:101:9","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":3009,"name":"keccak256","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5467,"src":"11686:9:9","typeDescriptions":{"typeIdentifier":"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$","typeString":"function (bytes memory) pure returns (bytes32)"}},"id":3019,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"11686:112:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":3008,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"11681:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":3020,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"11681:118:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"11660:139:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":3004,"name":"splitPositionThroughAllConditions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3027,"src":"11553:33:9","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (uint256,uint256,uint256)"}},"id":3022,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"11553:247:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":3023,"nodeType":"ExpressionStatement","src":"11553:247:9"}]},"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":3000,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2997,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2994,"src":"11512:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2998,"name":"partition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2972,"src":"11516:9:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":2999,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","referencedDeclaration":null,"src":"11516:16:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"11512:20:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":3025,"initializationExpression":{"assignments":[2994],"declarations":[{"constant":false,"id":2994,"name":"i","nodeType":"VariableDeclaration","scope":3025,"src":"11500:6:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2993,"name":"uint","nodeType":"ElementaryTypeName","src":"11500:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":2996,"initialValue":{"argumentTypes":null,"hexValue":"30","id":2995,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"11509:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"11500:10:9"},"loopExpression":{"expression":{"argumentTypes":null,"id":3002,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"11534:3:9","subExpression":{"argumentTypes":null,"id":3001,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2994,"src":"11534:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":3003,"nodeType":"ExpressionStatement","src":"11534:3:9"},"nodeType":"ForStatement","src":"11496:315:9"}]},"documentation":null,"id":3027,"implemented":true,"kind":"function","modifiers":[],"name":"splitPositionThroughAllConditions","nodeType":"FunctionDefinition","parameters":{"id":2959,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2954,"name":"amount","nodeType":"VariableDeclaration","scope":3027,"src":"11125:11:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2953,"name":"uint","nodeType":"ElementaryTypeName","src":"11125:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":2956,"name":"conditionsLeft","nodeType":"VariableDeclaration","scope":3027,"src":"11138:19:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2955,"name":"uint","nodeType":"ElementaryTypeName","src":"11138:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":2958,"name":"parentCollectionId","nodeType":"VariableDeclaration","scope":3027,"src":"11159:23:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2957,"name":"uint","nodeType":"ElementaryTypeName","src":"11159:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"11124:59:9"},"returnParameters":{"id":2960,"nodeType":"ParameterList","parameters":[],"src":"11204:0:9"},"scope":3103,"src":"11082:735:9","stateMutability":"nonpayable","superFunction":null,"visibility":"private"},{"body":{"id":3101,"nodeType":"Block","src":"11946:615:9","statements":[{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":3038,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":3036,"name":"conditionsLeft","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3031,"src":"11959:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"hexValue":"30","id":3037,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"11977:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"11959:19:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":3040,"nodeType":"IfStatement","src":"11956:31:9","trueBody":{"expression":null,"functionReturnParameters":3035,"id":3039,"nodeType":"Return","src":"11980:7:9"}},{"expression":{"argumentTypes":null,"id":3042,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"--","prefix":false,"src":"11996:16:9","subExpression":{"argumentTypes":null,"id":3041,"name":"conditionsLeft","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3031,"src":"11996:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":3043,"nodeType":"ExpressionStatement","src":"11996:16:9"},{"assignments":[3047],"declarations":[{"constant":false,"id":3047,"name":"partition","nodeType":"VariableDeclaration","scope":3101,"src":"12023:23:9","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":3045,"name":"uint","nodeType":"ElementaryTypeName","src":"12023:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":3046,"length":null,"nodeType":"ArrayTypeName","src":"12023:6:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"value":null,"visibility":"internal"}],"id":3053,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":3049,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2130,"src":"12072:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":3051,"indexExpression":{"argumentTypes":null,"id":3050,"name":"conditionsLeft","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3031,"src":"12085:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"12072:28:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":3048,"name":"generateBasicPartition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2885,"src":"12049:22:9","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_bytes32_$returns$_t_array$_t_uint256_$dyn_memory_ptr_$","typeString":"function (bytes32) view returns (uint256[] memory)"}},"id":3052,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"12049:52:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"nodeType":"VariableDeclarationStatement","src":"12023:78:9"},{"body":{"id":3085,"nodeType":"Block","src":"12154:273:9","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":3066,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3029,"src":"12220:6:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":3067,"name":"conditionsLeft","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3031,"src":"12244:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":3082,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":3068,"name":"parentCollectionId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3033,"src":"12276:18:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":3073,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2130,"src":"12350:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":3075,"indexExpression":{"argumentTypes":null,"id":3074,"name":"conditionsLeft","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3031,"src":"12363:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"12350:28:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":3076,"name":"partition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3047,"src":"12400:9:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":3078,"indexExpression":{"argumentTypes":null,"id":3077,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3055,"src":"12410:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"12400:12:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":3071,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5460,"src":"12312:3:9","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":3072,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"encodePacked","nodeType":"MemberAccess","referencedDeclaration":null,"src":"12312:16:9","typeDescriptions":{"typeIdentifier":"t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":3079,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"12312:101:9","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":3070,"name":"keccak256","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5467,"src":"12302:9:9","typeDescriptions":{"typeIdentifier":"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$","typeString":"function (bytes memory) pure returns (bytes32)"}},"id":3080,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"12302:112:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":3069,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"12297:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":3081,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"12297:118:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"12276:139:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":3065,"name":"mergePositionsThroughAllConditions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3102,"src":"12168:34:9","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (uint256,uint256,uint256)"}},"id":3083,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"12168:248:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":3084,"nodeType":"ExpressionStatement","src":"12168:248:9"}]},"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":3061,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":3058,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3055,"src":"12127:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":3059,"name":"partition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3047,"src":"12131:9:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":3060,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","referencedDeclaration":null,"src":"12131:16:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"12127:20:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":3086,"initializationExpression":{"assignments":[3055],"declarations":[{"constant":false,"id":3055,"name":"i","nodeType":"VariableDeclaration","scope":3086,"src":"12115:6:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":3054,"name":"uint","nodeType":"ElementaryTypeName","src":"12115:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":3057,"initialValue":{"argumentTypes":null,"hexValue":"30","id":3056,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"12124:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"12115:10:9"},"loopExpression":{"expression":{"argumentTypes":null,"id":3063,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"12149:3:9","subExpression":{"argumentTypes":null,"id":3062,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3055,"src":"12149:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":3064,"nodeType":"ExpressionStatement","src":"12149:3:9"},"nodeType":"ForStatement","src":"12111:316:9"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":3090,"name":"collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2127,"src":"12460:15:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5439","typeString":"contract IERC20"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":3092,"name":"parentCollectionId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3033,"src":"12485:18:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":3091,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"12477:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_bytes32_$","typeString":"type(bytes32)"},"typeName":"bytes32"},"id":3093,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"12477:27:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":3094,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2130,"src":"12506:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":3096,"indexExpression":{"argumentTypes":null,"id":3095,"name":"conditionsLeft","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3031,"src":"12519:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"12506:28:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"argumentTypes":null,"id":3097,"name":"partition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3047,"src":"12536:9:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},{"argumentTypes":null,"id":3098,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3029,"src":"12547:6:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IERC20_$5439","typeString":"contract IERC20"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":3087,"name":"pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2125,"src":"12436:8:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}},"id":3089,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"mergePositions","nodeType":"MemberAccess","referencedDeclaration":1317,"src":"12436:23:9","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_contract$_IERC20_$5439_$_t_bytes32_$_t_bytes32_$_t_array$_t_uint256_$dyn_memory_ptr_$_t_uint256_$returns$__$","typeString":"function (contract IERC20,bytes32,bytes32,uint256[] memory,uint256) external"}},"id":3099,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"12436:118:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":3100,"nodeType":"ExpressionStatement","src":"12436:118:9"}]},"documentation":null,"id":3102,"implemented":true,"kind":"function","modifiers":[],"name":"mergePositionsThroughAllConditions","nodeType":"FunctionDefinition","parameters":{"id":3034,"nodeType":"ParameterList","parameters":[{"constant":false,"id":3029,"name":"amount","nodeType":"VariableDeclaration","scope":3102,"src":"11867:11:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":3028,"name":"uint","nodeType":"ElementaryTypeName","src":"11867:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":3031,"name":"conditionsLeft","nodeType":"VariableDeclaration","scope":3102,"src":"11880:19:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":3030,"name":"uint","nodeType":"ElementaryTypeName","src":"11880:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":3033,"name":"parentCollectionId","nodeType":"VariableDeclaration","scope":3102,"src":"11901:23:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":3032,"name":"uint","nodeType":"ElementaryTypeName","src":"11901:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"11866:59:9"},"returnParameters":{"id":3035,"nodeType":"ParameterList","parameters":[],"src":"11946:0:9"},"scope":3103,"src":"11823:738:9","stateMutability":"nonpayable","superFunction":null,"visibility":"private"}],"scope":3104,"src":"340:12223:9"}],"src":"0:12563:9"},"legacyAST":{"absolutePath":"@gnosis.pm/hg-market-makers/contracts/MarketMaker.sol","exportedSymbols":{"MarketMaker":[3103]},"id":3104,"nodeType":"SourceUnit","nodes":[{"id":2070,"literals":["solidity","^","0.5",".1"],"nodeType":"PragmaDirective","src":"0:23:9"},{"absolutePath":"erc-1155/contracts/IERC1155TokenReceiver.sol","file":"erc-1155/contracts/IERC1155TokenReceiver.sol","id":2071,"nodeType":"ImportDirective","scope":3104,"sourceUnit":5066,"src":"24:54:9","symbolAliases":[],"unitAlias":""},{"absolutePath":"openzeppelin-solidity/contracts/ownership/Ownable.sol","file":"openzeppelin-solidity/contracts/ownership/Ownable.sol","id":2072,"nodeType":"ImportDirective","scope":3104,"sourceUnit":5313,"src":"79:63:9","symbolAliases":[],"unitAlias":""},{"absolutePath":"openzeppelin-solidity/contracts/math/SafeMath.sol","file":"openzeppelin-solidity/contracts/math/SafeMath.sol","id":2073,"nodeType":"ImportDirective","scope":3104,"sourceUnit":5204,"src":"143:59:9","symbolAliases":[],"unitAlias":""},{"absolutePath":"@gnosis.pm/util-contracts/contracts/SignedSafeMath.sol","file":"@gnosis.pm/util-contracts/contracts/SignedSafeMath.sol","id":2074,"nodeType":"ImportDirective","scope":3104,"sourceUnit":4255,"src":"203:64:9","symbolAliases":[],"unitAlias":""},{"absolutePath":"@gnosis.pm/hg-contracts/contracts/PredictionMarketSystem.sol","file":"@gnosis.pm/hg-contracts/contracts/PredictionMarketSystem.sol","id":2075,"nodeType":"ImportDirective","scope":3104,"sourceUnit":1597,"src":"268:70:9","symbolAliases":[],"unitAlias":""},{"baseContracts":[{"arguments":null,"baseName":{"contractScope":null,"id":2076,"name":"Ownable","nodeType":"UserDefinedTypeName","referencedDeclaration":5312,"src":"364:7:9","typeDescriptions":{"typeIdentifier":"t_contract$_Ownable_$5312","typeString":"contract Ownable"}},"id":2077,"nodeType":"InheritanceSpecifier","src":"364:7:9"},{"arguments":null,"baseName":{"contractScope":null,"id":2078,"name":"IERC1155TokenReceiver","nodeType":"UserDefinedTypeName","referencedDeclaration":5065,"src":"373:21:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC1155TokenReceiver_$5065","typeString":"contract IERC1155TokenReceiver"}},"id":2079,"nodeType":"InheritanceSpecifier","src":"373:21:9"}],"contractDependencies":[5065,5312],"contractKind":"contract","documentation":null,"fullyImplemented":false,"id":3103,"linearizedBaseContracts":[3103,5065,5312],"name":"MarketMaker","nodeType":"ContractDefinition","nodes":[{"id":2082,"libraryName":{"contractScope":null,"id":2080,"name":"SignedSafeMath","nodeType":"UserDefinedTypeName","referencedDeclaration":4254,"src":"407:14:9","typeDescriptions":{"typeIdentifier":"t_contract$_SignedSafeMath_$4254","typeString":"library SignedSafeMath"}},"nodeType":"UsingForDirective","src":"401:29:9","typeName":{"id":2081,"name":"int","nodeType":"ElementaryTypeName","src":"426:3:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}},{"id":2085,"libraryName":{"contractScope":null,"id":2083,"name":"SafeMath","nodeType":"UserDefinedTypeName","referencedDeclaration":5203,"src":"441:8:9","typeDescriptions":{"typeIdentifier":"t_contract$_SafeMath_$5203","typeString":"library SafeMath"}},"nodeType":"UsingForDirective","src":"435:24:9","typeName":{"id":2084,"name":"uint","nodeType":"ElementaryTypeName","src":"454:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}},{"constant":true,"id":2090,"name":"FEE_RANGE","nodeType":"VariableDeclaration","scope":3103,"src":"501:41:9","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"},"typeName":{"id":2086,"name":"uint64","nodeType":"ElementaryTypeName","src":"501:6:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"value":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_rational_1000000000000000000_by_1","typeString":"int_const 1000000000000000000"},"id":2089,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"hexValue":"3130","id":2087,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"536:2:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_10_by_1","typeString":"int_const 10"},"value":"10"},"nodeType":"BinaryOperation","operator":"**","rightExpression":{"argumentTypes":null,"hexValue":"3138","id":2088,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"540:2:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_18_by_1","typeString":"int_const 18"},"value":"18"},"src":"536:6:9","typeDescriptions":{"typeIdentifier":"t_rational_1000000000000000000_by_1","typeString":"int_const 1000000000000000000"}},"visibility":"public"},{"anonymous":false,"documentation":null,"id":2094,"name":"AMMCreated","nodeType":"EventDefinition","parameters":{"id":2093,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2092,"indexed":false,"name":"initialFunding","nodeType":"VariableDeclaration","scope":2094,"src":"596:19:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2091,"name":"uint","nodeType":"ElementaryTypeName","src":"596:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"595:21:9"},"src":"579:38:9"},{"anonymous":false,"documentation":null,"id":2096,"name":"AMMPaused","nodeType":"EventDefinition","parameters":{"id":2095,"nodeType":"ParameterList","parameters":[],"src":"637:2:9"},"src":"622:18:9"},{"anonymous":false,"documentation":null,"id":2098,"name":"AMMResumed","nodeType":"EventDefinition","parameters":{"id":2097,"nodeType":"ParameterList","parameters":[],"src":"661:2:9"},"src":"645:19:9"},{"anonymous":false,"documentation":null,"id":2100,"name":"AMMClosed","nodeType":"EventDefinition","parameters":{"id":2099,"nodeType":"ParameterList","parameters":[],"src":"684:2:9"},"src":"669:18:9"},{"anonymous":false,"documentation":null,"id":2104,"name":"AMMFundingChanged","nodeType":"EventDefinition","parameters":{"id":2103,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2102,"indexed":false,"name":"fundingChange","nodeType":"VariableDeclaration","scope":2104,"src":"716:17:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":2101,"name":"int","nodeType":"ElementaryTypeName","src":"716:3:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"value":null,"visibility":"internal"}],"src":"715:19:9"},"src":"692:43:9"},{"anonymous":false,"documentation":null,"id":2108,"name":"AMMFeeChanged","nodeType":"EventDefinition","parameters":{"id":2107,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2106,"indexed":false,"name":"newFee","nodeType":"VariableDeclaration","scope":2108,"src":"760:13:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"},"typeName":{"id":2105,"name":"uint64","nodeType":"ElementaryTypeName","src":"760:6:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"value":null,"visibility":"internal"}],"src":"759:15:9"},"src":"740:35:9"},{"anonymous":false,"documentation":null,"id":2112,"name":"AMMFeeWithdrawal","nodeType":"EventDefinition","parameters":{"id":2111,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2110,"indexed":false,"name":"fees","nodeType":"VariableDeclaration","scope":2112,"src":"803:9:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2109,"name":"uint","nodeType":"ElementaryTypeName","src":"803:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"802:11:9"},"src":"780:34:9"},{"anonymous":false,"documentation":null,"id":2123,"name":"AMMOutcomeTokenTrade","nodeType":"EventDefinition","parameters":{"id":2122,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2114,"indexed":true,"name":"transactor","nodeType":"VariableDeclaration","scope":2123,"src":"846:26:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2113,"name":"address","nodeType":"ElementaryTypeName","src":"846:7:9","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":2117,"indexed":false,"name":"outcomeTokenAmounts","nodeType":"VariableDeclaration","scope":2123,"src":"874:25:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_memory_ptr","typeString":"int256[]"},"typeName":{"baseType":{"id":2115,"name":"int","nodeType":"ElementaryTypeName","src":"874:3:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":2116,"length":null,"nodeType":"ArrayTypeName","src":"874:5:9","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_storage_ptr","typeString":"int256[]"}},"value":null,"visibility":"internal"},{"constant":false,"id":2119,"indexed":false,"name":"outcomeTokenNetCost","nodeType":"VariableDeclaration","scope":2123,"src":"901:23:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":2118,"name":"int","nodeType":"ElementaryTypeName","src":"901:3:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"value":null,"visibility":"internal"},{"constant":false,"id":2121,"indexed":false,"name":"marketFees","nodeType":"VariableDeclaration","scope":2123,"src":"926:15:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2120,"name":"uint","nodeType":"ElementaryTypeName","src":"926:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"845:97:9"},"src":"819:124:9"},{"constant":false,"id":2125,"name":"pmSystem","nodeType":"VariableDeclaration","scope":3103,"src":"984:38:9","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"},"typeName":{"contractScope":null,"id":2124,"name":"PredictionMarketSystem","nodeType":"UserDefinedTypeName","referencedDeclaration":1596,"src":"984:22:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}},"value":null,"visibility":"public"},{"constant":false,"id":2127,"name":"collateralToken","nodeType":"VariableDeclaration","scope":3103,"src":"1028:29:9","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5439","typeString":"contract IERC20"},"typeName":{"contractScope":null,"id":2126,"name":"IERC20","nodeType":"UserDefinedTypeName","referencedDeclaration":5439,"src":"1028:6:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5439","typeString":"contract IERC20"}},"value":null,"visibility":"public"},{"constant":false,"id":2130,"name":"conditionIds","nodeType":"VariableDeclaration","scope":3103,"src":"1063:29:9","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[]"},"typeName":{"baseType":{"id":2128,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1063:7:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":2129,"length":null,"nodeType":"ArrayTypeName","src":"1063:9:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage_ptr","typeString":"bytes32[]"}},"value":null,"visibility":"public"},{"constant":false,"id":2132,"name":"atomicOutcomeSlotCount","nodeType":"VariableDeclaration","scope":3103,"src":"1098:34:9","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2131,"name":"uint","nodeType":"ElementaryTypeName","src":"1098:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"public"},{"constant":false,"id":2134,"name":"fee","nodeType":"VariableDeclaration","scope":3103,"src":"1138:17:9","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"},"typeName":{"id":2133,"name":"uint64","nodeType":"ElementaryTypeName","src":"1138:6:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"value":null,"visibility":"public"},{"constant":false,"id":2136,"name":"funding","nodeType":"VariableDeclaration","scope":3103,"src":"1161:19:9","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2135,"name":"uint","nodeType":"ElementaryTypeName","src":"1161:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"public"},{"constant":false,"id":2138,"name":"stage","nodeType":"VariableDeclaration","scope":3103,"src":"1186:18:9","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"},"typeName":{"contractScope":null,"id":2137,"name":"Stage","nodeType":"UserDefinedTypeName","referencedDeclaration":2142,"src":"1186:5:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}},"value":null,"visibility":"public"},{"canonicalName":"MarketMaker.Stage","id":2142,"members":[{"id":2139,"name":"Running","nodeType":"EnumValue","src":"1231:7:9"},{"id":2140,"name":"Paused","nodeType":"EnumValue","src":"1248:6:9"},{"id":2141,"name":"Closed","nodeType":"EnumValue","src":"1264:6:9"}],"name":"Stage","nodeType":"EnumDefinition","src":"1210:66:9"},{"body":{"id":2153,"nodeType":"Block","src":"1346:97:9","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"},"id":2149,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2147,"name":"stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2138,"src":"1409:5:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"id":2148,"name":"_stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2144,"src":"1418:6:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}},"src":"1409:15:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":2146,"name":"require","nodeType":"Identifier","overloadedDeclarations":[5476,5477],"referencedDeclaration":5476,"src":"1401:7:9","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":2150,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1401:24:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2151,"nodeType":"ExpressionStatement","src":"1401:24:9"},{"id":2152,"nodeType":"PlaceholderStatement","src":"1435:1:9"}]},"documentation":null,"id":2154,"name":"atStage","nodeType":"ModifierDefinition","parameters":{"id":2145,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2144,"name":"_stage","nodeType":"VariableDeclaration","scope":2154,"src":"1332:12:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"},"typeName":{"contractScope":null,"id":2143,"name":"Stage","nodeType":"UserDefinedTypeName","referencedDeclaration":2142,"src":"1332:5:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}},"value":null,"visibility":"internal"}],"src":"1331:14:9"},"src":"1315:128:9","visibility":"internal"},{"body":{"id":2272,"nodeType":"Block","src":"1626:838:9","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":2181,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":2177,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2172,"name":"_pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2156,"src":"1679:9:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}],"id":2171,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1671:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2173,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1671:18:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"hexValue":"30","id":2175,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1701:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":2174,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1693:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2176,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1693:10:9","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"src":"1671:32:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint64","typeString":"uint64"},"id":2180,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2178,"name":"_fee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2163,"src":"1707:4:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"id":2179,"name":"FEE_RANGE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2090,"src":"1714:9:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"src":"1707:16:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"1671:52:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":2170,"name":"require","nodeType":"Identifier","overloadedDeclarations":[5476,5477],"referencedDeclaration":5476,"src":"1663:7:9","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":2182,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1663:61:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2183,"nodeType":"ExpressionStatement","src":"1663:61:9"},{"expression":{"argumentTypes":null,"id":2186,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2184,"name":"pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2125,"src":"1734:8:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"id":2185,"name":"_pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2156,"src":"1745:9:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}},"src":"1734:20:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}},"id":2187,"nodeType":"ExpressionStatement","src":"1734:20:9"},{"expression":{"argumentTypes":null,"id":2190,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2188,"name":"collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2127,"src":"1764:15:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5439","typeString":"contract IERC20"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"id":2189,"name":"_collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2158,"src":"1782:16:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5439","typeString":"contract IERC20"}},"src":"1764:34:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5439","typeString":"contract IERC20"}},"id":2191,"nodeType":"ExpressionStatement","src":"1764:34:9"},{"expression":{"argumentTypes":null,"id":2194,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2192,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2130,"src":"1808:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"id":2193,"name":"_conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2161,"src":"1823:13:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_memory_ptr","typeString":"bytes32[] memory"}},"src":"1808:28:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":2195,"nodeType":"ExpressionStatement","src":"1808:28:9"},{"expression":{"argumentTypes":null,"id":2198,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2196,"name":"fee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2134,"src":"1846:3:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"id":2197,"name":"_fee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2163,"src":"1852:4:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"src":"1846:10:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"id":2199,"nodeType":"ExpressionStatement","src":"1846:10:9"},{"expression":{"argumentTypes":null,"id":2202,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2200,"name":"atomicOutcomeSlotCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2132,"src":"1867:22:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"hexValue":"31","id":2201,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1892:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"1867:26:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2203,"nodeType":"ExpressionStatement","src":"1867:26:9"},{"body":{"id":2224,"nodeType":"Block","src":"1950:96:9","statements":[{"expression":{"argumentTypes":null,"id":2222,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2215,"name":"atomicOutcomeSlotCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2132,"src":"1964:22:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"*=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2218,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2130,"src":"2019:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":2220,"indexExpression":{"argumentTypes":null,"id":2219,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2205,"src":"2032:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2019:15:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"expression":{"argumentTypes":null,"id":2216,"name":"pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2125,"src":"1990:8:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}},"id":2217,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"getOutcomeSlotCount","nodeType":"MemberAccess","referencedDeclaration":1567,"src":"1990:28:9","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_bytes32_$returns$_t_uint256_$","typeString":"function (bytes32) view external returns (uint256)"}},"id":2221,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1990:45:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1964:71:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2223,"nodeType":"ExpressionStatement","src":"1964:71:9"}]},"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2211,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2208,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2205,"src":"1920:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2209,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2130,"src":"1924:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":2210,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","referencedDeclaration":null,"src":"1924:19:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1920:23:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":2225,"initializationExpression":{"assignments":[2205],"declarations":[{"constant":false,"id":2205,"name":"i","nodeType":"VariableDeclaration","scope":2225,"src":"1908:6:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2204,"name":"uint","nodeType":"ElementaryTypeName","src":"1908:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":2207,"initialValue":{"argumentTypes":null,"hexValue":"30","id":2206,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1917:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"1908:10:9"},"loopExpression":{"expression":{"argumentTypes":null,"id":2213,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"1945:3:9","subExpression":{"argumentTypes":null,"id":2212,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2205,"src":"1945:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2214,"nodeType":"ExpressionStatement","src":"1945:3:9"},"nodeType":"ForStatement","src":"1903:143:9"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2229,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2227,"name":"atomicOutcomeSlotCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2132,"src":"2063:22:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"argumentTypes":null,"hexValue":"31","id":2228,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2088:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"2063:26:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"636f6e646974696f6e73206d7573742062652076616c6964","id":2230,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"2091:26:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_cd148311b7911b4ee79dcdb6c43a5e3ce4b2c17323005884872aa057fa3bf785","typeString":"literal_string \\"conditions must be valid\\""},"value":"conditions must be valid"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_cd148311b7911b4ee79dcdb6c43a5e3ce4b2c17323005884872aa057fa3bf785","typeString":"literal_string \\"conditions must be valid\\""}],"id":2226,"name":"require","nodeType":"Identifier","overloadedDeclarations":[5476,5477],"referencedDeclaration":5477,"src":"2055:7:9","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":2231,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2055:63:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2232,"nodeType":"ExpressionStatement","src":"2055:63:9"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":2249,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2236,"name":"marketOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2167,"src":"2166:11:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2238,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5510,"src":"2187:4:9","typeDescriptions":{"typeIdentifier":"t_contract$_MarketMaker_$3103","typeString":"contract MarketMaker"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_MarketMaker_$3103","typeString":"contract MarketMaker"}],"id":2237,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2179:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2239,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2179:13:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":2240,"name":"initialFunding","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2165,"src":"2194:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2234,"name":"collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2127,"src":"2137:15:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5439","typeString":"contract IERC20"}},"id":2235,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"transferFrom","nodeType":"MemberAccess","referencedDeclaration":5401,"src":"2137:28:9","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (address,address,uint256) external returns (bool)"}},"id":2241,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2137:72:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2245,"name":"pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2125,"src":"2245:8:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}],"id":2244,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2237:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2246,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2237:17:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":2247,"name":"initialFunding","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2165,"src":"2256:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2242,"name":"collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2127,"src":"2213:15:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5439","typeString":"contract IERC20"}},"id":2243,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"approve","nodeType":"MemberAccess","referencedDeclaration":5390,"src":"2213:23:9","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (address,uint256) external returns (bool)"}},"id":2248,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2213:58:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"2137:134:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":2233,"name":"require","nodeType":"Identifier","overloadedDeclarations":[5476,5477],"referencedDeclaration":5476,"src":"2129:7:9","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":2250,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2129:143:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2251,"nodeType":"ExpressionStatement","src":"2129:143:9"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2253,"name":"initialFunding","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2165,"src":"2317:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2254,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2130,"src":"2333:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":2255,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","referencedDeclaration":null,"src":"2333:19:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"hexValue":"30","id":2256,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2354:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":2252,"name":"splitPositionThroughAllConditions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3027,"src":"2283:33:9","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (uint256,uint256,uint256)"}},"id":2257,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2283:73:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2258,"nodeType":"ExpressionStatement","src":"2283:73:9"},{"expression":{"argumentTypes":null,"id":2261,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2259,"name":"funding","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2136,"src":"2367:7:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"id":2260,"name":"initialFunding","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2165,"src":"2377:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2367:24:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2262,"nodeType":"ExpressionStatement","src":"2367:24:9"},{"expression":{"argumentTypes":null,"id":2266,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2263,"name":"stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2138,"src":"2402:5:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2264,"name":"Stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2142,"src":"2410:5:9","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Stage_$2142_$","typeString":"type(enum MarketMaker.Stage)"}},"id":2265,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"Running","nodeType":"MemberAccess","referencedDeclaration":null,"src":"2410:13:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}},"src":"2402:21:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}},"id":2267,"nodeType":"ExpressionStatement","src":"2402:21:9"},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2269,"name":"funding","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2136,"src":"2449:7:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":2268,"name":"AMMCreated","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2094,"src":"2438:10:9","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_uint256_$returns$__$","typeString":"function (uint256)"}},"id":2270,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2438:19:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2271,"nodeType":"EmitStatement","src":"2433:24:9"}]},"documentation":null,"id":2273,"implemented":true,"kind":"constructor","modifiers":[],"name":"","nodeType":"FunctionDefinition","parameters":{"id":2168,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2156,"name":"_pmSystem","nodeType":"VariableDeclaration","scope":2273,"src":"1461:32:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"},"typeName":{"contractScope":null,"id":2155,"name":"PredictionMarketSystem","nodeType":"UserDefinedTypeName","referencedDeclaration":1596,"src":"1461:22:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}},"value":null,"visibility":"internal"},{"constant":false,"id":2158,"name":"_collateralToken","nodeType":"VariableDeclaration","scope":2273,"src":"1495:23:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5439","typeString":"contract IERC20"},"typeName":{"contractScope":null,"id":2157,"name":"IERC20","nodeType":"UserDefinedTypeName","referencedDeclaration":5439,"src":"1495:6:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5439","typeString":"contract IERC20"}},"value":null,"visibility":"internal"},{"constant":false,"id":2161,"name":"_conditionIds","nodeType":"VariableDeclaration","scope":2273,"src":"1520:30:9","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_memory_ptr","typeString":"bytes32[]"},"typeName":{"baseType":{"id":2159,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1520:7:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":2160,"length":null,"nodeType":"ArrayTypeName","src":"1520:9:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage_ptr","typeString":"bytes32[]"}},"value":null,"visibility":"internal"},{"constant":false,"id":2163,"name":"_fee","nodeType":"VariableDeclaration","scope":2273,"src":"1552:11:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"},"typeName":{"id":2162,"name":"uint64","nodeType":"ElementaryTypeName","src":"1552:6:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"value":null,"visibility":"internal"},{"constant":false,"id":2165,"name":"initialFunding","nodeType":"VariableDeclaration","scope":2273,"src":"1565:19:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2164,"name":"uint","nodeType":"ElementaryTypeName","src":"1565:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":2167,"name":"marketOwner","nodeType":"VariableDeclaration","scope":2273,"src":"1586:19:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2166,"name":"address","nodeType":"ElementaryTypeName","src":"1586:7:9","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"}],"src":"1460:146:9"},"returnParameters":{"id":2169,"nodeType":"ParameterList","parameters":[],"src":"1626:0:9"},"scope":3103,"src":"1449:1015:9","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"body":null,"documentation":null,"id":2281,"implemented":false,"kind":"function","modifiers":[],"name":"calcNetCost","nodeType":"FunctionDefinition","parameters":{"id":2277,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2276,"name":"outcomeTokenAmounts","nodeType":"VariableDeclaration","scope":2281,"src":"2491:32:9","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_memory_ptr","typeString":"int256[]"},"typeName":{"baseType":{"id":2274,"name":"int","nodeType":"ElementaryTypeName","src":"2491:3:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":2275,"length":null,"nodeType":"ArrayTypeName","src":"2491:5:9","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_storage_ptr","typeString":"int256[]"}},"value":null,"visibility":"internal"}],"src":"2490:34:9"},"returnParameters":{"id":2280,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2279,"name":"netCost","nodeType":"VariableDeclaration","scope":2281,"src":"2546:11:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":2278,"name":"int","nodeType":"ElementaryTypeName","src":"2546:3:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"value":null,"visibility":"internal"}],"src":"2545:13:9"},"scope":3103,"src":"2470:89:9","stateMutability":"view","superFunction":null,"visibility":"public"},{"body":{"id":2391,"nodeType":"Block","src":"2923:965:9","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2295,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2293,"name":"fundingChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2283,"src":"2941:13:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"hexValue":"30","id":2294,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2958:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"2941:18:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"412066756e64696e674368616e6765206f66207a65726f206973206e6f7420612066756e64696e674368616e676520617420616c6c2e20497420697320756e61636365707461626c652e","id":2296,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"2961:76:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_8b0abfd0a6a26cf9e76f3923f83612ab8d81fdb0309d6dce5760bf580777c1fc","typeString":"literal_string \\"A fundingChange of zero is not a fundingChange at all. It is unacceptable.\\""},"value":"A fundingChange of zero is not a fundingChange at all. It is unacceptable."}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_8b0abfd0a6a26cf9e76f3923f83612ab8d81fdb0309d6dce5760bf580777c1fc","typeString":"literal_string \\"A fundingChange of zero is not a fundingChange at all. It is unacceptable.\\""}],"id":2292,"name":"require","nodeType":"Identifier","overloadedDeclarations":[5476,5477],"referencedDeclaration":5477,"src":"2933:7:9","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":2297,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2933:105:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2298,"nodeType":"ExpressionStatement","src":"2933:105:9"},{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2301,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2299,"name":"fundingChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2283,"src":"3164:13:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"argumentTypes":null,"hexValue":"30","id":2300,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3180:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"3164:17:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":2349,"nodeType":"IfStatement","src":"3160:399:9","trueBody":{"id":2348,"nodeType":"Block","src":"3183:376:9","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":2323,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2305,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5473,"src":"3234:3:9","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":2306,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"3234:10:9","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2308,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5510,"src":"3254:4:9","typeDescriptions":{"typeIdentifier":"t_contract$_MarketMaker_$3103","typeString":"contract MarketMaker"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_MarketMaker_$3103","typeString":"contract MarketMaker"}],"id":2307,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3246:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2309,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3246:13:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2311,"name":"fundingChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2283,"src":"3266:13:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2310,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3261:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2312,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3261:19:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address_payable","typeString":"address payable"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2303,"name":"collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2127,"src":"3205:15:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5439","typeString":"contract IERC20"}},"id":2304,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"transferFrom","nodeType":"MemberAccess","referencedDeclaration":5401,"src":"3205:28:9","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (address,address,uint256) external returns (bool)"}},"id":2313,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3205:76:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2317,"name":"pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2125,"src":"3317:8:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}],"id":2316,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3309:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2318,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3309:17:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2320,"name":"fundingChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2283,"src":"3333:13:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2319,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3328:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2321,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3328:19:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2314,"name":"collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2127,"src":"3285:15:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5439","typeString":"contract IERC20"}},"id":2315,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"approve","nodeType":"MemberAccess","referencedDeclaration":5390,"src":"3285:23:9","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (address,uint256) external returns (bool)"}},"id":2322,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3285:63:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"3205:143:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":2302,"name":"require","nodeType":"Identifier","overloadedDeclarations":[5476,5477],"referencedDeclaration":5476,"src":"3197:7:9","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":2324,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3197:152:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2325,"nodeType":"ExpressionStatement","src":"3197:152:9"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2328,"name":"fundingChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2283,"src":"3402:13:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2327,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3397:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2329,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3397:19:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2330,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2130,"src":"3418:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":2331,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","referencedDeclaration":null,"src":"3418:19:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"hexValue":"30","id":2332,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3439:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":2326,"name":"splitPositionThroughAllConditions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3027,"src":"3363:33:9","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (uint256,uint256,uint256)"}},"id":2333,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3363:78:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2334,"nodeType":"ExpressionStatement","src":"3363:78:9"},{"expression":{"argumentTypes":null,"id":2342,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2335,"name":"funding","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2136,"src":"3455:7:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2339,"name":"fundingChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2283,"src":"3482:13:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2338,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3477:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2340,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3477:19:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2336,"name":"funding","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2136,"src":"3465:7:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2337,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"add","nodeType":"MemberAccess","referencedDeclaration":5182,"src":"3465:11:9","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":2341,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3465:32:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3455:42:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2343,"nodeType":"ExpressionStatement","src":"3455:42:9"},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2345,"name":"fundingChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2283,"src":"3534:13:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2344,"name":"AMMFundingChanged","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2104,"src":"3516:17:9","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_int256_$returns$__$","typeString":"function (int256)"}},"id":2346,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3516:32:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2347,"nodeType":"EmitStatement","src":"3511:37:9"}]}},{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2352,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2350,"name":"fundingChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2283,"src":"3572:13:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"hexValue":"30","id":2351,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3588:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"3572:17:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":2390,"nodeType":"IfStatement","src":"3568:314:9","trueBody":{"id":2389,"nodeType":"Block","src":"3591:291:9","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2356,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"3645:14:9","subExpression":{"argumentTypes":null,"id":2355,"name":"fundingChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2283,"src":"3646:13:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2354,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3640:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2357,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3640:20:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2358,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2130,"src":"3662:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":2359,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","referencedDeclaration":null,"src":"3662:19:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"hexValue":"30","id":2360,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3683:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":2353,"name":"mergePositionsThroughAllConditions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3102,"src":"3605:34:9","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (uint256,uint256,uint256)"}},"id":2361,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3605:80:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2362,"nodeType":"ExpressionStatement","src":"3605:80:9"},{"expression":{"argumentTypes":null,"id":2371,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2363,"name":"funding","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2136,"src":"3699:7:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2368,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"3726:14:9","subExpression":{"argumentTypes":null,"id":2367,"name":"fundingChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2283,"src":"3727:13:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2366,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3721:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2369,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3721:20:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2364,"name":"funding","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2136,"src":"3709:7:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2365,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sub","nodeType":"MemberAccess","referencedDeclaration":5158,"src":"3709:11:9","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":2370,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3709:33:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3699:43:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2372,"nodeType":"ExpressionStatement","src":"3699:43:9"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[],"expression":{"argumentTypes":[],"id":2376,"name":"owner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5237,"src":"3789:5:9","typeDescriptions":{"typeIdentifier":"t_function_internal_view$__$returns$_t_address_$","typeString":"function () view returns (address)"}},"id":2377,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3789:7:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2380,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"3803:14:9","subExpression":{"argumentTypes":null,"id":2379,"name":"fundingChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2283,"src":"3804:13:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2378,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3798:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2381,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3798:20:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2374,"name":"collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2127,"src":"3764:15:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5439","typeString":"contract IERC20"}},"id":2375,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"transfer","nodeType":"MemberAccess","referencedDeclaration":5381,"src":"3764:24:9","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (address,uint256) external returns (bool)"}},"id":2382,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3764:55:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":2373,"name":"require","nodeType":"Identifier","overloadedDeclarations":[5476,5477],"referencedDeclaration":5476,"src":"3756:7:9","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":2383,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3756:64:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2384,"nodeType":"ExpressionStatement","src":"3756:64:9"},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2386,"name":"fundingChange","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2283,"src":"3857:13:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2385,"name":"AMMFundingChanged","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2104,"src":"3839:17:9","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_int256_$returns$__$","typeString":"function (int256)"}},"id":2387,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3839:32:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2388,"nodeType":"EmitStatement","src":"3834:37:9"}]}}]},"documentation":"@dev Allows to fund the market with collateral tokens converting them into outcome tokens\\n Note for the future: should combine splitPosition and mergePositions into one function, as code duplication causes things like this to happen.","id":2392,"implemented":true,"kind":"function","modifiers":[{"arguments":null,"id":2286,"modifierName":{"argumentTypes":null,"id":2285,"name":"onlyOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5246,"src":"2879:9:9","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"2879:9:9"},{"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2288,"name":"Stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2142,"src":"2905:5:9","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Stage_$2142_$","typeString":"type(enum MarketMaker.Stage)"}},"id":2289,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"Paused","nodeType":"MemberAccess","referencedDeclaration":null,"src":"2905:12:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}}],"id":2290,"modifierName":{"argumentTypes":null,"id":2287,"name":"atStage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2154,"src":"2897:7:9","typeDescriptions":{"typeIdentifier":"t_modifier$_t_enum$_Stage_$2142_$","typeString":"modifier (enum MarketMaker.Stage)"}},"nodeType":"ModifierInvocation","src":"2897:21:9"}],"name":"changeFunding","nodeType":"FunctionDefinition","parameters":{"id":2284,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2283,"name":"fundingChange","nodeType":"VariableDeclaration","scope":2392,"src":"2837:17:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":2282,"name":"int","nodeType":"ElementaryTypeName","src":"2837:3:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"value":null,"visibility":"internal"}],"src":"2836:19:9"},"returnParameters":{"id":2291,"nodeType":"ParameterList","parameters":[],"src":"2923:0:9"},"scope":3103,"src":"2814:1074:9","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"body":{"id":2409,"nodeType":"Block","src":"3951:63:9","statements":[{"expression":{"argumentTypes":null,"id":2404,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2401,"name":"stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2138,"src":"3961:5:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2402,"name":"Stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2142,"src":"3969:5:9","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Stage_$2142_$","typeString":"type(enum MarketMaker.Stage)"}},"id":2403,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"Paused","nodeType":"MemberAccess","referencedDeclaration":null,"src":"3969:12:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}},"src":"3961:20:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}},"id":2405,"nodeType":"ExpressionStatement","src":"3961:20:9"},{"eventCall":{"argumentTypes":null,"arguments":[],"expression":{"argumentTypes":[],"id":2406,"name":"AMMPaused","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2096,"src":"3996:9:9","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$__$returns$__$","typeString":"function ()"}},"id":2407,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3996:11:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2408,"nodeType":"EmitStatement","src":"3991:16:9"}]},"documentation":null,"id":2410,"implemented":true,"kind":"function","modifiers":[{"arguments":null,"id":2395,"modifierName":{"argumentTypes":null,"id":2394,"name":"onlyOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5246,"src":"3918:9:9","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"3918:9:9"},{"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2397,"name":"Stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2142,"src":"3936:5:9","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Stage_$2142_$","typeString":"type(enum MarketMaker.Stage)"}},"id":2398,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"Running","nodeType":"MemberAccess","referencedDeclaration":null,"src":"3936:13:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}}],"id":2399,"modifierName":{"argumentTypes":null,"id":2396,"name":"atStage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2154,"src":"3928:7:9","typeDescriptions":{"typeIdentifier":"t_modifier$_t_enum$_Stage_$2142_$","typeString":"modifier (enum MarketMaker.Stage)"}},"nodeType":"ModifierInvocation","src":"3928:22:9"}],"name":"pause","nodeType":"FunctionDefinition","parameters":{"id":2393,"nodeType":"ParameterList","parameters":[],"src":"3908:2:9"},"returnParameters":{"id":2400,"nodeType":"ParameterList","parameters":[],"src":"3951:0:9"},"scope":3103,"src":"3894:120:9","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"body":{"id":2427,"nodeType":"Block","src":"4081:65:9","statements":[{"expression":{"argumentTypes":null,"id":2422,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2419,"name":"stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2138,"src":"4091:5:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2420,"name":"Stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2142,"src":"4099:5:9","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Stage_$2142_$","typeString":"type(enum MarketMaker.Stage)"}},"id":2421,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"Running","nodeType":"MemberAccess","referencedDeclaration":null,"src":"4099:13:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}},"src":"4091:21:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}},"id":2423,"nodeType":"ExpressionStatement","src":"4091:21:9"},{"eventCall":{"argumentTypes":null,"arguments":[],"expression":{"argumentTypes":[],"id":2424,"name":"AMMResumed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2098,"src":"4127:10:9","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$__$returns$__$","typeString":"function ()"}},"id":2425,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4127:12:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2426,"nodeType":"EmitStatement","src":"4122:17:9"}]},"documentation":null,"id":2428,"implemented":true,"kind":"function","modifiers":[{"arguments":null,"id":2413,"modifierName":{"argumentTypes":null,"id":2412,"name":"onlyOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5246,"src":"4049:9:9","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"4049:9:9"},{"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2415,"name":"Stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2142,"src":"4067:5:9","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Stage_$2142_$","typeString":"type(enum MarketMaker.Stage)"}},"id":2416,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"Paused","nodeType":"MemberAccess","referencedDeclaration":null,"src":"4067:12:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}}],"id":2417,"modifierName":{"argumentTypes":null,"id":2414,"name":"atStage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2154,"src":"4059:7:9","typeDescriptions":{"typeIdentifier":"t_modifier$_t_enum$_Stage_$2142_$","typeString":"modifier (enum MarketMaker.Stage)"}},"nodeType":"ModifierInvocation","src":"4059:21:9"}],"name":"resume","nodeType":"FunctionDefinition","parameters":{"id":2411,"nodeType":"ParameterList","parameters":[],"src":"4039:2:9"},"returnParameters":{"id":2418,"nodeType":"ParameterList","parameters":[],"src":"4081:0:9"},"scope":3103,"src":"4024:122:9","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"body":{"id":2447,"nodeType":"Block","src":"4223:60:9","statements":[{"expression":{"argumentTypes":null,"id":2441,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2439,"name":"fee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2134,"src":"4233:3:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"id":2440,"name":"_fee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2430,"src":"4239:4:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"src":"4233:10:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"id":2442,"nodeType":"ExpressionStatement","src":"4233:10:9"},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2444,"name":"fee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2134,"src":"4272:3:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint64","typeString":"uint64"}],"id":2443,"name":"AMMFeeChanged","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2108,"src":"4258:13:9","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_uint64_$returns$__$","typeString":"function (uint64)"}},"id":2445,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4258:18:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2446,"nodeType":"EmitStatement","src":"4253:23:9"}]},"documentation":null,"id":2448,"implemented":true,"kind":"function","modifiers":[{"arguments":null,"id":2433,"modifierName":{"argumentTypes":null,"id":2432,"name":"onlyOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5246,"src":"4191:9:9","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"4191:9:9"},{"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2435,"name":"Stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2142,"src":"4209:5:9","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Stage_$2142_$","typeString":"type(enum MarketMaker.Stage)"}},"id":2436,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"Paused","nodeType":"MemberAccess","referencedDeclaration":null,"src":"4209:12:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}}],"id":2437,"modifierName":{"argumentTypes":null,"id":2434,"name":"atStage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2154,"src":"4201:7:9","typeDescriptions":{"typeIdentifier":"t_modifier$_t_enum$_Stage_$2142_$","typeString":"modifier (enum MarketMaker.Stage)"}},"nodeType":"ModifierInvocation","src":"4201:21:9"}],"name":"changeFee","nodeType":"FunctionDefinition","parameters":{"id":2431,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2430,"name":"_fee","nodeType":"VariableDeclaration","scope":2448,"src":"4171:11:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"},"typeName":{"id":2429,"name":"uint64","nodeType":"ElementaryTypeName","src":"4171:6:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"value":null,"visibility":"internal"}],"src":"4170:13:9"},"returnParameters":{"id":2438,"nodeType":"ParameterList","parameters":[],"src":"4223:0:9"},"scope":3103,"src":"4152:131:9","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"body":{"id":2511,"nodeType":"Block","src":"4455:423:9","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":2462,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"},"id":2457,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2454,"name":"stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2138,"src":"4473:5:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2455,"name":"Stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2142,"src":"4482:5:9","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Stage_$2142_$","typeString":"type(enum MarketMaker.Stage)"}},"id":2456,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"Running","nodeType":"MemberAccess","referencedDeclaration":null,"src":"4482:13:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}},"src":"4473:22:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"||","rightExpression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"},"id":2461,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2458,"name":"stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2138,"src":"4499:5:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2459,"name":"Stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2142,"src":"4508:5:9","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Stage_$2142_$","typeString":"type(enum MarketMaker.Stage)"}},"id":2460,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"Paused","nodeType":"MemberAccess","referencedDeclaration":null,"src":"4508:12:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}},"src":"4499:21:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"4473:47:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"54686973204d61726b65742068617320616c7265616479206265656e20636c6f736564","id":2463,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"4522:37:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_ce82b757e84d3f085f7655825c68fa1a13fda6cc3913781fbe7409417e74f19c","typeString":"literal_string \\"This Market has already been closed\\""},"value":"This Market has already been closed"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_ce82b757e84d3f085f7655825c68fa1a13fda6cc3913781fbe7409417e74f19c","typeString":"literal_string \\"This Market has already been closed\\""}],"id":2453,"name":"require","nodeType":"Identifier","overloadedDeclarations":[5476,5477],"referencedDeclaration":5477,"src":"4465:7:9","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":2464,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4465:95:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2465,"nodeType":"ExpressionStatement","src":"4465:95:9"},{"body":{"id":2501,"nodeType":"Block","src":"4620:196:9","statements":[{"assignments":[2477],"declarations":[{"constant":false,"id":2477,"name":"positionId","nodeType":"VariableDeclaration","scope":2501,"src":"4634:15:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2476,"name":"uint","nodeType":"ElementaryTypeName","src":"4634:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":2481,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2479,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2467,"src":"4677:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":2478,"name":"generateAtomicPositionId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2952,"src":"4652:24:9","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256) view returns (uint256)"}},"id":2480,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4652:27:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"4634:45:9"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2486,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5510,"src":"4727:4:9","typeDescriptions":{"typeIdentifier":"t_contract$_MarketMaker_$3103","typeString":"contract MarketMaker"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_MarketMaker_$3103","typeString":"contract MarketMaker"}],"id":2485,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4719:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2487,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4719:13:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"arguments":[],"expression":{"argumentTypes":[],"id":2488,"name":"owner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5237,"src":"4734:5:9","typeDescriptions":{"typeIdentifier":"t_function_internal_view$__$returns$_t_address_$","typeString":"function () view returns (address)"}},"id":2489,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4734:7:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":2490,"name":"positionId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2477,"src":"4743:10:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2494,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5510,"src":"4782:4:9","typeDescriptions":{"typeIdentifier":"t_contract$_MarketMaker_$3103","typeString":"contract MarketMaker"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_MarketMaker_$3103","typeString":"contract MarketMaker"}],"id":2493,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4774:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2495,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4774:13:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":2496,"name":"positionId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2477,"src":"4789:10:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2491,"name":"pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2125,"src":"4755:8:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}},"id":2492,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"balanceOf","nodeType":"MemberAccess","referencedDeclaration":4811,"src":"4755:18:9","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$_t_uint256_$returns$_t_uint256_$","typeString":"function (address,uint256) view external returns (uint256)"}},"id":2497,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4755:45:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"hexValue":"","id":2498,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"4802:2:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470","typeString":"literal_string \\"\\""},"value":""}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_stringliteral_c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470","typeString":"literal_string \\"\\""}],"expression":{"argumentTypes":null,"id":2482,"name":"pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2125,"src":"4693:8:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}},"id":2484,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"safeTransferFrom","nodeType":"MemberAccess","referencedDeclaration":4659,"src":"4693:25:9","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_address_$_t_uint256_$_t_uint256_$_t_bytes_memory_ptr_$returns$__$","typeString":"function (address,address,uint256,uint256,bytes memory) external"}},"id":2499,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4693:112:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2500,"nodeType":"ExpressionStatement","src":"4693:112:9"}]},"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2472,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2470,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2467,"src":"4587:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"id":2471,"name":"atomicOutcomeSlotCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2132,"src":"4591:22:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4587:26:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":2502,"initializationExpression":{"assignments":[2467],"declarations":[{"constant":false,"id":2467,"name":"i","nodeType":"VariableDeclaration","scope":2502,"src":"4575:6:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2466,"name":"uint","nodeType":"ElementaryTypeName","src":"4575:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":2469,"initialValue":{"argumentTypes":null,"hexValue":"30","id":2468,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4584:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"4575:10:9"},"loopExpression":{"expression":{"argumentTypes":null,"id":2474,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"4615:3:9","subExpression":{"argumentTypes":null,"id":2473,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2467,"src":"4615:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2475,"nodeType":"ExpressionStatement","src":"4615:3:9"},"nodeType":"ForStatement","src":"4570:246:9"},{"expression":{"argumentTypes":null,"id":2506,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2503,"name":"stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2138,"src":"4825:5:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2504,"name":"Stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2142,"src":"4833:5:9","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Stage_$2142_$","typeString":"type(enum MarketMaker.Stage)"}},"id":2505,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"Closed","nodeType":"MemberAccess","referencedDeclaration":null,"src":"4833:12:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}},"src":"4825:20:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}},"id":2507,"nodeType":"ExpressionStatement","src":"4825:20:9"},{"eventCall":{"argumentTypes":null,"arguments":[],"expression":{"argumentTypes":[],"id":2508,"name":"AMMClosed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2100,"src":"4860:9:9","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$__$returns$__$","typeString":"function ()"}},"id":2509,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4860:11:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2510,"nodeType":"EmitStatement","src":"4855:16:9"}]},"documentation":"@dev Allows market owner to close the markets by transferring all remaining outcome tokens to the owner","id":2512,"implemented":true,"kind":"function","modifiers":[{"arguments":null,"id":2451,"modifierName":{"argumentTypes":null,"id":2450,"name":"onlyOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5246,"src":"4441:9:9","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"4441:9:9"}],"name":"close","nodeType":"FunctionDefinition","parameters":{"id":2449,"nodeType":"ParameterList","parameters":[],"src":"4415:2:9"},"returnParameters":{"id":2452,"nodeType":"ParameterList","parameters":[],"src":"4455:0:9"},"scope":3103,"src":"4401:477:9","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"body":{"id":2541,"nodeType":"Block","src":"5070:184:9","statements":[{"expression":{"argumentTypes":null,"id":2526,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2519,"name":"fees","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2517,"src":"5080:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2523,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5510,"src":"5121:4:9","typeDescriptions":{"typeIdentifier":"t_contract$_MarketMaker_$3103","typeString":"contract MarketMaker"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_MarketMaker_$3103","typeString":"contract MarketMaker"}],"id":2522,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"5113:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2524,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5113:13:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"argumentTypes":null,"id":2520,"name":"collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2127,"src":"5087:15:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5439","typeString":"contract IERC20"}},"id":2521,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"balanceOf","nodeType":"MemberAccess","referencedDeclaration":5413,"src":"5087:25:9","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$returns$_t_uint256_$","typeString":"function (address) view external returns (uint256)"}},"id":2525,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5087:40:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5080:47:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2527,"nodeType":"ExpressionStatement","src":"5080:47:9"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[],"expression":{"argumentTypes":[],"id":2531,"name":"owner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5237,"src":"5195:5:9","typeDescriptions":{"typeIdentifier":"t_function_internal_view$__$returns$_t_address_$","typeString":"function () view returns (address)"}},"id":2532,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5195:7:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":2533,"name":"fees","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2517,"src":"5204:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2529,"name":"collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2127,"src":"5170:15:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5439","typeString":"contract IERC20"}},"id":2530,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"transfer","nodeType":"MemberAccess","referencedDeclaration":5381,"src":"5170:24:9","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (address,uint256) external returns (bool)"}},"id":2534,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5170:39:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":2528,"name":"require","nodeType":"Identifier","overloadedDeclarations":[5476,5477],"referencedDeclaration":5476,"src":"5162:7:9","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":2535,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5162:48:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2536,"nodeType":"ExpressionStatement","src":"5162:48:9"},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2538,"name":"fees","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2517,"src":"5242:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":2537,"name":"AMMFeeWithdrawal","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2112,"src":"5225:16:9","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_uint256_$returns$__$","typeString":"function (uint256)"}},"id":2539,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5225:22:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2540,"nodeType":"EmitStatement","src":"5220:27:9"}]},"documentation":"@dev Allows market owner to withdraw fees generated by trades\\n @return Fee amount","id":2542,"implemented":true,"kind":"function","modifiers":[{"arguments":null,"id":2515,"modifierName":{"argumentTypes":null,"id":2514,"name":"onlyOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5246,"src":"5028:9:9","typeDescriptions":{"typeIdentifier":"t_modifier$__$","typeString":"modifier ()"}},"nodeType":"ModifierInvocation","src":"5028:9:9"}],"name":"withdrawFees","nodeType":"FunctionDefinition","parameters":{"id":2513,"nodeType":"ParameterList","parameters":[],"src":"5002:2:9"},"returnParameters":{"id":2518,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2517,"name":"fees","nodeType":"VariableDeclaration","scope":2542,"src":"5055:9:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2516,"name":"uint","nodeType":"ElementaryTypeName","src":"5055:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"5054:11:9"},"scope":3103,"src":"4981:273:9","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"body":{"id":2773,"nodeType":"Block","src":"7226:2081:9","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2560,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2557,"name":"outcomeTokenAmounts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2545,"src":"7244:19:9","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_memory_ptr","typeString":"int256[] memory"}},"id":2558,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","referencedDeclaration":null,"src":"7244:26:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"id":2559,"name":"atomicOutcomeSlotCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2132,"src":"7274:22:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"7244:52:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":2556,"name":"require","nodeType":"Identifier","overloadedDeclarations":[5476,5477],"referencedDeclaration":5476,"src":"7236:7:9","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":2561,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7236:61:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2562,"nodeType":"ExpressionStatement","src":"7236:61:9"},{"assignments":[2564],"declarations":[{"constant":false,"id":2564,"name":"outcomeTokenNetCost","nodeType":"VariableDeclaration","scope":2773,"src":"7358:23:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":2563,"name":"int","nodeType":"ElementaryTypeName","src":"7358:3:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"value":null,"visibility":"internal"}],"id":2568,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2566,"name":"outcomeTokenAmounts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2545,"src":"7396:19:9","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_memory_ptr","typeString":"int256[] memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_array$_t_int256_$dyn_memory_ptr","typeString":"int256[] memory"}],"id":2565,"name":"calcNetCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2281,"src":"7384:11:9","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_array$_t_int256_$dyn_memory_ptr_$returns$_t_int256_$","typeString":"function (int256[] memory) view returns (int256)"}},"id":2567,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7384:32:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"VariableDeclarationStatement","src":"7358:58:9"},{"assignments":[2570],"declarations":[{"constant":false,"id":2570,"name":"fees","nodeType":"VariableDeclaration","scope":2773,"src":"7426:8:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":2569,"name":"int","nodeType":"ElementaryTypeName","src":"7426:3:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"value":null,"visibility":"internal"}],"id":2571,"initialValue":null,"nodeType":"VariableDeclarationStatement","src":"7426:8:9"},{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2574,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2572,"name":"outcomeTokenNetCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2564,"src":"7447:19:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"hexValue":"30","id":2573,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"7469:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"7447:23:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"expression":{"argumentTypes":null,"id":2594,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2586,"name":"fees","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2570,"src":"7564:4:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2590,"name":"outcomeTokenNetCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2564,"src":"7594:19:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2589,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"7589:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2591,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7589:25:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":2588,"name":"calcMarketFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2788,"src":"7575:13:9","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256) view returns (uint256)"}},"id":2592,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7575:40:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":2587,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"7571:3:9","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":"int"},"id":2593,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7571:45:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"7564:52:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":2595,"nodeType":"ExpressionStatement","src":"7564:52:9"},"id":2596,"nodeType":"IfStatement","src":"7444:172:9","trueBody":{"expression":{"argumentTypes":null,"id":2584,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2575,"name":"fees","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2570,"src":"7484:4:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2580,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"7514:20:9","subExpression":{"argumentTypes":null,"id":2579,"name":"outcomeTokenNetCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2564,"src":"7515:19:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2578,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"7509:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2581,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7509:26:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":2577,"name":"calcMarketFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2788,"src":"7495:13:9","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256) view returns (uint256)"}},"id":2582,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7495:41:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":2576,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"7491:3:9","typeDescriptions":{"typeIdentifier":"t_type$_t_int256_$","typeString":"type(int256)"},"typeName":"int"},"id":2583,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7491:46:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"7484:53:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":2585,"nodeType":"ExpressionStatement","src":"7484:53:9"}},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2600,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2598,"name":"fees","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2570,"src":"7635:4:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"argumentTypes":null,"hexValue":"30","id":2599,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"7643:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"7635:9:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":2597,"name":"require","nodeType":"Identifier","overloadedDeclarations":[5476,5477],"referencedDeclaration":5476,"src":"7627:7:9","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":2601,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7627:18:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2602,"nodeType":"ExpressionStatement","src":"7627:18:9"},{"expression":{"argumentTypes":null,"id":2608,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2603,"name":"netCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2554,"src":"7655:7:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2606,"name":"fees","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2570,"src":"7689:4:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"expression":{"argumentTypes":null,"id":2604,"name":"outcomeTokenNetCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2564,"src":"7665:19:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":2605,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"add","nodeType":"MemberAccess","referencedDeclaration":4253,"src":"7665:23:9","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_int256_$_t_int256_$returns$_t_int256_$bound_to$_t_int256_$","typeString":"function (int256,int256) pure returns (int256)"}},"id":2607,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7665:29:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"7655:39:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":2609,"nodeType":"ExpressionStatement","src":"7655:39:9"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":2622,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"components":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":2617,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2613,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2611,"name":"collateralLimit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2547,"src":"7727:15:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"hexValue":"30","id":2612,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"7746:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"7727:20:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2616,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2614,"name":"netCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2554,"src":"7751:7:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"<=","rightExpression":{"argumentTypes":null,"id":2615,"name":"collateralLimit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2547,"src":"7762:15:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"src":"7751:26:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"7727:50:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"id":2618,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"7726:52:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"||","rightExpression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2621,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2619,"name":"collateralLimit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2547,"src":"7794:15:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"hexValue":"30","id":2620,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"7813:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"7794:20:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"7726:88:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":2610,"name":"require","nodeType":"Identifier","overloadedDeclarations":[5476,5477],"referencedDeclaration":5476,"src":"7705:7:9","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":2623,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7705:119:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2624,"nodeType":"ExpressionStatement","src":"7705:119:9"},{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2627,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2625,"name":"outcomeTokenNetCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2564,"src":"7838:19:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"argumentTypes":null,"hexValue":"30","id":2626,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"7860:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"7838:23:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":2662,"nodeType":"IfStatement","src":"7835:350:9","trueBody":{"id":2661,"nodeType":"Block","src":"7863:322:9","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":2649,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2631,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5473,"src":"7931:3:9","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":2632,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"7931:10:9","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2634,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5510,"src":"7951:4:9","typeDescriptions":{"typeIdentifier":"t_contract$_MarketMaker_$3103","typeString":"contract MarketMaker"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_MarketMaker_$3103","typeString":"contract MarketMaker"}],"id":2633,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"7943:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2635,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7943:13:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2637,"name":"netCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2554,"src":"7963:7:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2636,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"7958:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2638,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7958:13:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address_payable","typeString":"address payable"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2629,"name":"collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2127,"src":"7902:15:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5439","typeString":"contract IERC20"}},"id":2630,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"transferFrom","nodeType":"MemberAccess","referencedDeclaration":5401,"src":"7902:28:9","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (address,address,uint256) external returns (bool)"}},"id":2639,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7902:70:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2643,"name":"pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2125,"src":"8024:8:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}],"id":2642,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"8016:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2644,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8016:17:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2646,"name":"outcomeTokenNetCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2564,"src":"8040:19:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2645,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"8035:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2647,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8035:25:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2640,"name":"collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2127,"src":"7992:15:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5439","typeString":"contract IERC20"}},"id":2641,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"approve","nodeType":"MemberAccess","referencedDeclaration":5390,"src":"7992:23:9","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (address,uint256) external returns (bool)"}},"id":2648,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7992:69:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"7902:159:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":2628,"name":"require","nodeType":"Identifier","overloadedDeclarations":[5476,5477],"referencedDeclaration":5476,"src":"7877:7:9","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":2650,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"7877:198:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2651,"nodeType":"ExpressionStatement","src":"7877:198:9"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2654,"name":"outcomeTokenNetCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2564,"src":"8129:19:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2653,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"8124:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2655,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8124:25:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2656,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2130,"src":"8151:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":2657,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","referencedDeclaration":null,"src":"8151:19:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"hexValue":"30","id":2658,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8172:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":2652,"name":"splitPositionThroughAllConditions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3027,"src":"8090:33:9","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (uint256,uint256,uint256)"}},"id":2659,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8090:84:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2660,"nodeType":"ExpressionStatement","src":"8090:84:9"}]}},{"body":{"id":2729,"nodeType":"Block","src":"8245:468:9","statements":[{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2677,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2673,"name":"outcomeTokenAmounts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2545,"src":"8262:19:9","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_memory_ptr","typeString":"int256[] memory"}},"id":2675,"indexExpression":{"argumentTypes":null,"id":2674,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2664,"src":"8282:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"8262:22:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"hexValue":"30","id":2676,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8288:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"8262:27:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":2728,"nodeType":"IfStatement","src":"8259:444:9","trueBody":{"id":2727,"nodeType":"Block","src":"8291:412:9","statements":[{"assignments":[2679],"declarations":[{"constant":false,"id":2679,"name":"positionId","nodeType":"VariableDeclaration","scope":2727,"src":"8309:15:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2678,"name":"uint","nodeType":"ElementaryTypeName","src":"8309:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":2683,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2681,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2664,"src":"8352:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":2680,"name":"generateAtomicPositionId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2952,"src":"8327:24:9","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256) view returns (uint256)"}},"id":2682,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8327:27:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"8309:45:9"},{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2688,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2684,"name":"outcomeTokenAmounts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2545,"src":"8375:19:9","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_memory_ptr","typeString":"int256[] memory"}},"id":2686,"indexExpression":{"argumentTypes":null,"id":2685,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2664,"src":"8395:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"8375:22:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"hexValue":"30","id":2687,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8400:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"8375:26:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":2725,"nodeType":"Block","src":"8549:139:9","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2712,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5510,"src":"8605:4:9","typeDescriptions":{"typeIdentifier":"t_contract$_MarketMaker_$3103","typeString":"contract MarketMaker"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_MarketMaker_$3103","typeString":"contract MarketMaker"}],"id":2711,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"8597:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2713,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8597:13:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2714,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5473,"src":"8612:3:9","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":2715,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"8612:10:9","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},{"argumentTypes":null,"id":2716,"name":"positionId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2679,"src":"8624:10:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2718,"name":"outcomeTokenAmounts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2545,"src":"8641:19:9","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_memory_ptr","typeString":"int256[] memory"}},"id":2720,"indexExpression":{"argumentTypes":null,"id":2719,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2664,"src":"8661:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"8641:22:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2717,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"8636:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2721,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8636:28:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"hexValue":"","id":2722,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"8666:2:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470","typeString":"literal_string \\"\\""},"value":""}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address_payable","typeString":"address payable"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_stringliteral_c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470","typeString":"literal_string \\"\\""}],"expression":{"argumentTypes":null,"id":2708,"name":"pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2125,"src":"8571:8:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}},"id":2710,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"safeTransferFrom","nodeType":"MemberAccess","referencedDeclaration":4659,"src":"8571:25:9","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_address_$_t_uint256_$_t_uint256_$_t_bytes_memory_ptr_$returns$__$","typeString":"function (address,address,uint256,uint256,bytes memory) external"}},"id":2723,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8571:98:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2724,"nodeType":"ExpressionStatement","src":"8571:98:9"}]},"id":2726,"nodeType":"IfStatement","src":"8372:316:9","trueBody":{"id":2707,"nodeType":"Block","src":"8403:140:9","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2692,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5473,"src":"8451:3:9","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":2693,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"8451:10:9","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2695,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5510,"src":"8471:4:9","typeDescriptions":{"typeIdentifier":"t_contract$_MarketMaker_$3103","typeString":"contract MarketMaker"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_MarketMaker_$3103","typeString":"contract MarketMaker"}],"id":2694,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"8463:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2696,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8463:13:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":2697,"name":"positionId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2679,"src":"8478:10:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2702,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"8495:23:9","subExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2699,"name":"outcomeTokenAmounts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2545,"src":"8496:19:9","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_memory_ptr","typeString":"int256[] memory"}},"id":2701,"indexExpression":{"argumentTypes":null,"id":2700,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2664,"src":"8516:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"8496:22:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2698,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"8490:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2703,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8490:29:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"hexValue":"","id":2704,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"8521:2:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470","typeString":"literal_string \\"\\""},"value":""}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address_payable","typeString":"address payable"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_stringliteral_c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470","typeString":"literal_string \\"\\""}],"expression":{"argumentTypes":null,"id":2689,"name":"pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2125,"src":"8425:8:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}},"id":2691,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"safeTransferFrom","nodeType":"MemberAccess","referencedDeclaration":4659,"src":"8425:25:9","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_address_$_t_uint256_$_t_uint256_$_t_bytes_memory_ptr_$returns$__$","typeString":"function (address,address,uint256,uint256,bytes memory) external"}},"id":2705,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8425:99:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2706,"nodeType":"ExpressionStatement","src":"8425:99:9"}]}}]}}]},"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2669,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2667,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2664,"src":"8212:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"id":2668,"name":"atomicOutcomeSlotCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2132,"src":"8216:22:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8212:26:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":2730,"initializationExpression":{"assignments":[2664],"declarations":[{"constant":false,"id":2664,"name":"i","nodeType":"VariableDeclaration","scope":2730,"src":"8200:6:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2663,"name":"uint","nodeType":"ElementaryTypeName","src":"8200:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":2666,"initialValue":{"argumentTypes":null,"hexValue":"30","id":2665,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8209:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"8200:10:9"},"loopExpression":{"expression":{"argumentTypes":null,"id":2671,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"8240:3:9","subExpression":{"argumentTypes":null,"id":2670,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2664,"src":"8240:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2672,"nodeType":"ExpressionStatement","src":"8240:3:9"},"nodeType":"ForStatement","src":"8195:518:9"},{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2733,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2731,"name":"outcomeTokenNetCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2564,"src":"8726:19:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"hexValue":"30","id":2732,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8748:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"8726:23:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":2762,"nodeType":"IfStatement","src":"8723:476:9","trueBody":{"id":2761,"nodeType":"Block","src":"8751:448:9","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2737,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"9019:20:9","subExpression":{"argumentTypes":null,"id":2736,"name":"outcomeTokenNetCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2564,"src":"9020:19:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2735,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"9014:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2738,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"9014:26:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2739,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2130,"src":"9042:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":2740,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","referencedDeclaration":null,"src":"9042:19:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"hexValue":"30","id":2741,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"9063:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":2734,"name":"mergePositionsThroughAllConditions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3102,"src":"8979:34:9","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (uint256,uint256,uint256)"}},"id":2742,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8979:86:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2743,"nodeType":"ExpressionStatement","src":"8979:86:9"},{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":2746,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2744,"name":"netCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2554,"src":"9082:7:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"hexValue":"30","id":2745,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"9092:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"9082:11:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":2760,"nodeType":"IfStatement","src":"9079:110:9","trueBody":{"id":2759,"nodeType":"Block","src":"9095:94:9","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2750,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5473,"src":"9146:3:9","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":2751,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"9146:10:9","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2754,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"9163:8:9","subExpression":{"argumentTypes":null,"id":2753,"name":"netCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2554,"src":"9164:7:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2752,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"9158:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2755,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"9158:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address_payable","typeString":"address payable"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2748,"name":"collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2127,"src":"9121:15:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5439","typeString":"contract IERC20"}},"id":2749,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"transfer","nodeType":"MemberAccess","referencedDeclaration":5381,"src":"9121:24:9","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (address,uint256) external returns (bool)"}},"id":2756,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"9121:52:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":2747,"name":"require","nodeType":"Identifier","overloadedDeclarations":[5476,5477],"referencedDeclaration":5476,"src":"9113:7:9","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":2757,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"9113:61:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2758,"nodeType":"ExpressionStatement","src":"9113:61:9"}]}}]}},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2764,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5473,"src":"9235:3:9","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":2765,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"9235:10:9","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},{"argumentTypes":null,"id":2766,"name":"outcomeTokenAmounts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2545,"src":"9247:19:9","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_memory_ptr","typeString":"int256[] memory"}},{"argumentTypes":null,"id":2767,"name":"outcomeTokenNetCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2564,"src":"9268:19:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2769,"name":"fees","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2570,"src":"9294:4:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":2768,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"9289:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2770,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"9289:10:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address_payable","typeString":"address payable"},{"typeIdentifier":"t_array$_t_int256_$dyn_memory_ptr","typeString":"int256[] memory"},{"typeIdentifier":"t_int256","typeString":"int256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":2763,"name":"AMMOutcomeTokenTrade","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2123,"src":"9214:20:9","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_array$_t_int256_$dyn_memory_ptr_$_t_int256_$_t_uint256_$returns$__$","typeString":"function (address,int256[] memory,int256,uint256)"}},"id":2771,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"9214:86:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2772,"nodeType":"EmitStatement","src":"9209:91:9"}]},"documentation":"@dev Allows to trade outcome tokens and collateral with the market maker\\n @param outcomeTokenAmounts Amounts of each atomic outcome token to buy or sell. If positive, will buy this amount of outcome token from the market. If negative, will sell this amount back to the market instead. The indices of this array range from 0 to product(all conditions\' outcomeSlotCounts)-1. For example, with two conditions with three outcome slots each and one condition with two outcome slots, you will have 3*3*2=18 total atomic outcome tokens, and the indices will range from 0 to 17. The indices map to atomic outcome slots depending on the order of the conditionIds. Let\'s say the first condition has slots A, B, C the second has slots X, Y, and the third has slots I, J, K. We can associate each atomic outcome token with indices by this map:\\n A&X&I == 0\\n B&X&I == 1\\n C&X&I == 2\\n A&Y&I == 3\\n B&Y&I == 4\\n C&Y&I == 5\\n A&X&J == 6\\n B&X&J == 7\\n C&X&J == 8\\n A&Y&J == 9\\n B&Y&J == 10\\n C&Y&J == 11\\n A&X&K == 12\\n B&X&K == 13\\n C&X&K == 14\\n A&Y&K == 15\\n B&Y&K == 16\\n C&Y&K == 17\\n This order is calculated via the generateAtomicPositionId function below: C&Y&I -> (2, 1, 0) -> 2 + 3 * (1 + 2 * (0 + 3 * (0 + 0)))\\n @param collateralLimit If positive, this is the limit for the amount of collateral tokens which will be sent to the market to conduct the trade. If negative, this is the minimum amount of collateral tokens which will be received from the market for the trade. If zero, there is no limit.\\n @return If positive, the amount of collateral sent to the market. If negative, the amount of collateral received from the market. If zero, no collateral was sent or received.","id":2774,"implemented":true,"kind":"function","modifiers":[{"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2550,"name":"Stage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2142,"src":"7177:5:9","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Stage_$2142_$","typeString":"type(enum MarketMaker.Stage)"}},"id":2551,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"Running","nodeType":"MemberAccess","referencedDeclaration":null,"src":"7177:13:9","typeDescriptions":{"typeIdentifier":"t_enum$_Stage_$2142","typeString":"enum MarketMaker.Stage"}}],"id":2552,"modifierName":{"argumentTypes":null,"id":2549,"name":"atStage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2154,"src":"7169:7:9","typeDescriptions":{"typeIdentifier":"t_modifier$_t_enum$_Stage_$2142_$","typeString":"modifier (enum MarketMaker.Stage)"}},"nodeType":"ModifierInvocation","src":"7169:22:9"}],"name":"trade","nodeType":"FunctionDefinition","parameters":{"id":2548,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2545,"name":"outcomeTokenAmounts","nodeType":"VariableDeclaration","scope":2774,"src":"7091:32:9","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_memory_ptr","typeString":"int256[]"},"typeName":{"baseType":{"id":2543,"name":"int","nodeType":"ElementaryTypeName","src":"7091:3:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":2544,"length":null,"nodeType":"ArrayTypeName","src":"7091:5:9","typeDescriptions":{"typeIdentifier":"t_array$_t_int256_$dyn_storage_ptr","typeString":"int256[]"}},"value":null,"visibility":"internal"},{"constant":false,"id":2547,"name":"collateralLimit","nodeType":"VariableDeclaration","scope":2774,"src":"7125:19:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":2546,"name":"int","nodeType":"ElementaryTypeName","src":"7125:3:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"value":null,"visibility":"internal"}],"src":"7090:55:9"},"returnParameters":{"id":2555,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2554,"name":"netCost","nodeType":"VariableDeclaration","scope":2774,"src":"7209:11:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":2553,"name":"int","nodeType":"ElementaryTypeName","src":"7209:3:9","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"value":null,"visibility":"internal"}],"src":"7208:13:9"},"scope":3103,"src":"7076:2231:9","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"body":{"id":2787,"nodeType":"Block","src":"9562:58:9","statements":[{"expression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2785,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2783,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2781,"name":"outcomeTokenCost","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2776,"src":"9579:16:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"argumentTypes":null,"id":2782,"name":"fee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2134,"src":"9598:3:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"src":"9579:22:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"argumentTypes":null,"id":2784,"name":"FEE_RANGE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2090,"src":"9604:9:9","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"src":"9579:34:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":2780,"id":2786,"nodeType":"Return","src":"9572:41:9"}]},"documentation":"@dev Calculates fee to be paid to market maker\\n @param outcomeTokenCost Cost for buying outcome tokens\\n @return Fee for trade","id":2788,"implemented":true,"kind":"function","modifiers":[],"name":"calcMarketFee","nodeType":"FunctionDefinition","parameters":{"id":2777,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2776,"name":"outcomeTokenCost","nodeType":"VariableDeclaration","scope":2788,"src":"9484:21:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2775,"name":"uint","nodeType":"ElementaryTypeName","src":"9484:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"9483:23:9"},"returnParameters":{"id":2780,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2779,"name":"","nodeType":"VariableDeclaration","scope":2788,"src":"9552:4:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2778,"name":"uint","nodeType":"ElementaryTypeName","src":"9552:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"9551:6:9"},"scope":3103,"src":"9461:159:9","stateMutability":"view","superFunction":null,"visibility":"public"},{"body":{"id":2814,"nodeType":"Block","src":"9774:109:9","statements":[{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":2807,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2803,"name":"operator","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2790,"src":"9788:8:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2805,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5510,"src":"9808:4:9","typeDescriptions":{"typeIdentifier":"t_contract$_MarketMaker_$3103","typeString":"contract MarketMaker"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_MarketMaker_$3103","typeString":"contract MarketMaker"}],"id":2804,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"9800:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2806,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"9800:13:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"9788:25:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":2811,"nodeType":"IfStatement","src":"9784:73:9","trueBody":{"id":2810,"nodeType":"Block","src":"9815:42:9","statements":[{"expression":{"argumentTypes":null,"hexValue":"30786632336136653631","id":2808,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"9836:10:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_4063915617_by_1","typeString":"int_const 4063915617"},"value":"0xf23a6e61"},"functionReturnParameters":2802,"id":2809,"nodeType":"Return","src":"9829:17:9"}]}},{"expression":{"argumentTypes":null,"hexValue":"307830","id":2812,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"9873:3:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0x0"},"functionReturnParameters":2802,"id":2813,"nodeType":"Return","src":"9866:10:9"}]},"documentation":null,"id":2815,"implemented":true,"kind":"function","modifiers":[],"name":"onERC1155Received","nodeType":"FunctionDefinition","parameters":{"id":2799,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2790,"name":"operator","nodeType":"VariableDeclaration","scope":2815,"src":"9653:16:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2789,"name":"address","nodeType":"ElementaryTypeName","src":"9653:7:9","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":2792,"name":"","nodeType":"VariableDeclaration","scope":2815,"src":"9671:7:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2791,"name":"address","nodeType":"ElementaryTypeName","src":"9671:7:9","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":2794,"name":"","nodeType":"VariableDeclaration","scope":2815,"src":"9689:7:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2793,"name":"uint256","nodeType":"ElementaryTypeName","src":"9689:7:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":2796,"name":"","nodeType":"VariableDeclaration","scope":2815,"src":"9705:7:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2795,"name":"uint256","nodeType":"ElementaryTypeName","src":"9705:7:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":2798,"name":"","nodeType":"VariableDeclaration","scope":2815,"src":"9724:14:9","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes"},"typeName":{"id":2797,"name":"bytes","nodeType":"ElementaryTypeName","src":"9724:5:9","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"value":null,"visibility":"internal"}],"src":"9652:96:9"},"returnParameters":{"id":2802,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2801,"name":"","nodeType":"VariableDeclaration","scope":2815,"src":"9766:6:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"typeName":{"id":2800,"name":"bytes4","nodeType":"ElementaryTypeName","src":"9766:6:9","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"value":null,"visibility":"internal"}],"src":"9765:8:9"},"scope":3103,"src":"9626:257:9","stateMutability":"nonpayable","superFunction":5047,"visibility":"external"},{"body":{"id":2843,"nodeType":"Block","src":"10067:110:9","statements":[{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":2836,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2832,"name":"_operator","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2817,"src":"10081:9:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2834,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5510,"src":"10102:4:9","typeDescriptions":{"typeIdentifier":"t_contract$_MarketMaker_$3103","typeString":"contract MarketMaker"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_MarketMaker_$3103","typeString":"contract MarketMaker"}],"id":2833,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"10094:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":2835,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10094:13:9","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"10081:26:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":2840,"nodeType":"IfStatement","src":"10077:74:9","trueBody":{"id":2839,"nodeType":"Block","src":"10109:42:9","statements":[{"expression":{"argumentTypes":null,"hexValue":"30786632336136653631","id":2837,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10130:10:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_4063915617_by_1","typeString":"int_const 4063915617"},"value":"0xf23a6e61"},"functionReturnParameters":2831,"id":2838,"nodeType":"Return","src":"10123:17:9"}]}},{"expression":{"argumentTypes":null,"hexValue":"307830","id":2841,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10167:3:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0x0"},"functionReturnParameters":2831,"id":2842,"nodeType":"Return","src":"10160:10:9"}]},"documentation":null,"id":2844,"implemented":true,"kind":"function","modifiers":[],"name":"onERC1155BatchReceived","nodeType":"FunctionDefinition","parameters":{"id":2828,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2817,"name":"_operator","nodeType":"VariableDeclaration","scope":2844,"src":"9921:17:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2816,"name":"address","nodeType":"ElementaryTypeName","src":"9921:7:9","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":2819,"name":"","nodeType":"VariableDeclaration","scope":2844,"src":"9940:7:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2818,"name":"address","nodeType":"ElementaryTypeName","src":"9940:7:9","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":2822,"name":"","nodeType":"VariableDeclaration","scope":2844,"src":"9958:18:9","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":2820,"name":"uint256","nodeType":"ElementaryTypeName","src":"9958:7:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2821,"length":null,"nodeType":"ArrayTypeName","src":"9958:9:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"value":null,"visibility":"internal"},{"constant":false,"id":2825,"name":"","nodeType":"VariableDeclaration","scope":2844,"src":"9986:18:9","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":2823,"name":"uint256","nodeType":"ElementaryTypeName","src":"9986:7:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2824,"length":null,"nodeType":"ArrayTypeName","src":"9986:9:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"value":null,"visibility":"internal"},{"constant":false,"id":2827,"name":"","nodeType":"VariableDeclaration","scope":2844,"src":"10017:14:9","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes"},"typeName":{"id":2826,"name":"bytes","nodeType":"ElementaryTypeName","src":"10017:5:9","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"value":null,"visibility":"internal"}],"src":"9920:121:9"},"returnParameters":{"id":2831,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2830,"name":"","nodeType":"VariableDeclaration","scope":2844,"src":"10059:6:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"typeName":{"id":2829,"name":"bytes4","nodeType":"ElementaryTypeName","src":"10059:6:9","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"value":null,"visibility":"internal"}],"src":"10058:8:9"},"scope":3103,"src":"9889:288:9","stateMutability":"nonpayable","superFunction":5064,"visibility":"external"},{"body":{"id":2884,"nodeType":"Block","src":"10311:180:9","statements":[{"expression":{"argumentTypes":null,"id":2861,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2852,"name":"partition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2850,"src":"10321:9:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2858,"name":"conditionId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2846,"src":"10373:11:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"expression":{"argumentTypes":null,"id":2856,"name":"pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2125,"src":"10344:8:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}},"id":2857,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"getOutcomeSlotCount","nodeType":"MemberAccess","referencedDeclaration":1567,"src":"10344:28:9","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_bytes32_$returns$_t_uint256_$","typeString":"function (bytes32) view external returns (uint256)"}},"id":2859,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10344:41:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":2855,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"NewExpression","src":"10333:10:9","typeDescriptions":{"typeIdentifier":"t_function_objectcreation_pure$_t_uint256_$returns$_t_array$_t_uint256_$dyn_memory_$","typeString":"function (uint256) pure returns (uint256[] memory)"},"typeName":{"baseType":{"id":2853,"name":"uint","nodeType":"ElementaryTypeName","src":"10337:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2854,"length":null,"nodeType":"ArrayTypeName","src":"10337:6:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}}},"id":2860,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10333:53:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory","typeString":"uint256[] memory"}},"src":"10321:65:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":2862,"nodeType":"ExpressionStatement","src":"10321:65:9"},{"body":{"id":2882,"nodeType":"Block","src":"10439:46:9","statements":[{"expression":{"argumentTypes":null,"id":2880,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2874,"name":"partition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2850,"src":"10453:9:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":2876,"indexExpression":{"argumentTypes":null,"id":2875,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2864,"src":"10463:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"10453:12:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2879,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"hexValue":"31","id":2877,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10468:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"nodeType":"BinaryOperation","operator":"<<","rightExpression":{"argumentTypes":null,"id":2878,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2864,"src":"10473:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10468:6:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10453:21:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2881,"nodeType":"ExpressionStatement","src":"10453:21:9"}]},"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2870,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2867,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2864,"src":"10412:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2868,"name":"partition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2850,"src":"10416:9:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":2869,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","referencedDeclaration":null,"src":"10416:16:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10412:20:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":2883,"initializationExpression":{"assignments":[2864],"declarations":[{"constant":false,"id":2864,"name":"i","nodeType":"VariableDeclaration","scope":2883,"src":"10400:6:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2863,"name":"uint","nodeType":"ElementaryTypeName","src":"10400:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":2866,"initialValue":{"argumentTypes":null,"hexValue":"30","id":2865,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10409:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"10400:10:9"},"loopExpression":{"expression":{"argumentTypes":null,"id":2872,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"10434:3:9","subExpression":{"argumentTypes":null,"id":2871,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2864,"src":"10434:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2873,"nodeType":"ExpressionStatement","src":"10434:3:9"},"nodeType":"ForStatement","src":"10396:89:9"}]},"documentation":null,"id":2885,"implemented":true,"kind":"function","modifiers":[],"name":"generateBasicPartition","nodeType":"FunctionDefinition","parameters":{"id":2847,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2846,"name":"conditionId","nodeType":"VariableDeclaration","scope":2885,"src":"10215:19:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":2845,"name":"bytes32","nodeType":"ElementaryTypeName","src":"10215:7:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"internal"}],"src":"10214:21:9"},"returnParameters":{"id":2851,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2850,"name":"partition","nodeType":"VariableDeclaration","scope":2885,"src":"10282:23:9","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":2848,"name":"uint","nodeType":"ElementaryTypeName","src":"10282:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2849,"length":null,"nodeType":"ArrayTypeName","src":"10282:6:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"value":null,"visibility":"internal"}],"src":"10281:25:9"},"scope":3103,"src":"10183:308:9","stateMutability":"view","superFunction":null,"visibility":"private"},{"body":{"id":2951,"nodeType":"Block","src":"10596:480:9","statements":[{"assignments":[2893],"declarations":[{"constant":false,"id":2893,"name":"collectionId","nodeType":"VariableDeclaration","scope":2951,"src":"10606:17:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2892,"name":"uint","nodeType":"ElementaryTypeName","src":"10606:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":2895,"initialValue":{"argumentTypes":null,"hexValue":"30","id":2894,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10626:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"10606:21:9"},{"body":{"id":2939,"nodeType":"Block","src":"10684:280:9","statements":[{"assignments":[2908],"declarations":[{"constant":false,"id":2908,"name":"curOutcomeSlotCount","nodeType":"VariableDeclaration","scope":2939,"src":"10698:24:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2907,"name":"uint","nodeType":"ElementaryTypeName","src":"10698:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":2915,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2911,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2130,"src":"10754:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":2913,"indexExpression":{"argumentTypes":null,"id":2912,"name":"k","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2897,"src":"10767:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"10754:15:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"expression":{"argumentTypes":null,"id":2909,"name":"pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2125,"src":"10725:8:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}},"id":2910,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"getOutcomeSlotCount","nodeType":"MemberAccess","referencedDeclaration":1567,"src":"10725:28:9","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_bytes32_$returns$_t_uint256_$","typeString":"function (bytes32) view external returns (uint256)"}},"id":2914,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10725:45:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"10698:72:9"},{"expression":{"argumentTypes":null,"id":2933,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2916,"name":"collectionId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2893,"src":"10784:12:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"+=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2921,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2130,"src":"10849:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":2923,"indexExpression":{"argumentTypes":null,"id":2922,"name":"k","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2897,"src":"10862:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"10849:15:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2929,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"hexValue":"31","id":2924,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10882:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"nodeType":"BinaryOperation","operator":"<<","rightExpression":{"argumentTypes":null,"components":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2927,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2925,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2887,"src":"10888:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"%","rightExpression":{"argumentTypes":null,"id":2926,"name":"curOutcomeSlotCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2908,"src":"10892:19:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10888:23:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":2928,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"10887:25:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10882:30:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2919,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5460,"src":"10815:3:9","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":2920,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"encodePacked","nodeType":"MemberAccess","referencedDeclaration":null,"src":"10815:16:9","typeDescriptions":{"typeIdentifier":"t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":2930,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10815:98:9","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":2918,"name":"keccak256","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5467,"src":"10805:9:9","typeDescriptions":{"typeIdentifier":"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$","typeString":"function (bytes memory) pure returns (bytes32)"}},"id":2931,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10805:109:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":2917,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"10800:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2932,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10800:115:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10784:131:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2934,"nodeType":"ExpressionStatement","src":"10784:131:9"},{"expression":{"argumentTypes":null,"id":2937,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":2935,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2887,"src":"10929:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"/=","rightHandSide":{"argumentTypes":null,"id":2936,"name":"curOutcomeSlotCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2908,"src":"10934:19:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10929:24:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2938,"nodeType":"ExpressionStatement","src":"10929:24:9"}]},"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2903,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2900,"name":"k","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2897,"src":"10654:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2901,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2130,"src":"10658:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":2902,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","referencedDeclaration":null,"src":"10658:19:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10654:23:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":2940,"initializationExpression":{"assignments":[2897],"declarations":[{"constant":false,"id":2897,"name":"k","nodeType":"VariableDeclaration","scope":2940,"src":"10642:6:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2896,"name":"uint","nodeType":"ElementaryTypeName","src":"10642:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":2899,"initialValue":{"argumentTypes":null,"hexValue":"30","id":2898,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10651:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"10642:10:9"},"loopExpression":{"expression":{"argumentTypes":null,"id":2905,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"10679:3:9","subExpression":{"argumentTypes":null,"id":2904,"name":"k","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2897,"src":"10679:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2906,"nodeType":"ExpressionStatement","src":"10679:3:9"},"nodeType":"ForStatement","src":"10638:326:9"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2945,"name":"collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2127,"src":"11025:15:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5439","typeString":"contract IERC20"}},{"argumentTypes":null,"id":2946,"name":"collectionId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2893,"src":"11054:12:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IERC20_$5439","typeString":"contract IERC20"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2943,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5460,"src":"10995:3:9","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":2944,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"encodePacked","nodeType":"MemberAccess","referencedDeclaration":null,"src":"10995:16:9","typeDescriptions":{"typeIdentifier":"t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":2947,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10995:72:9","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":2942,"name":"keccak256","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5467,"src":"10985:9:9","typeDescriptions":{"typeIdentifier":"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$","typeString":"function (bytes memory) pure returns (bytes32)"}},"id":2948,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10985:83:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":2941,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"10980:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":2949,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10980:89:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":2891,"id":2950,"nodeType":"Return","src":"10973:96:9"}]},"documentation":null,"id":2952,"implemented":true,"kind":"function","modifiers":[],"name":"generateAtomicPositionId","nodeType":"FunctionDefinition","parameters":{"id":2888,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2887,"name":"i","nodeType":"VariableDeclaration","scope":2952,"src":"10531:6:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2886,"name":"uint","nodeType":"ElementaryTypeName","src":"10531:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"10530:8:9"},"returnParameters":{"id":2891,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2890,"name":"","nodeType":"VariableDeclaration","scope":2952,"src":"10586:4:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2889,"name":"uint","nodeType":"ElementaryTypeName","src":"10586:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"10585:6:9"},"scope":3103,"src":"10497:579:9","stateMutability":"view","superFunction":null,"visibility":"internal"},{"body":{"id":3026,"nodeType":"Block","src":"11204:613:9","statements":[{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2963,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2961,"name":"conditionsLeft","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2956,"src":"11217:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"hexValue":"30","id":2962,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"11235:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"11217:19:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":2965,"nodeType":"IfStatement","src":"11214:31:9","trueBody":{"expression":null,"functionReturnParameters":2960,"id":2964,"nodeType":"Return","src":"11238:7:9"}},{"expression":{"argumentTypes":null,"id":2967,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"--","prefix":false,"src":"11254:16:9","subExpression":{"argumentTypes":null,"id":2966,"name":"conditionsLeft","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2956,"src":"11254:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2968,"nodeType":"ExpressionStatement","src":"11254:16:9"},{"assignments":[2972],"declarations":[{"constant":false,"id":2972,"name":"partition","nodeType":"VariableDeclaration","scope":3026,"src":"11281:23:9","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":2970,"name":"uint","nodeType":"ElementaryTypeName","src":"11281:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2971,"length":null,"nodeType":"ArrayTypeName","src":"11281:6:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"value":null,"visibility":"internal"}],"id":2978,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2974,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2130,"src":"11330:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":2976,"indexExpression":{"argumentTypes":null,"id":2975,"name":"conditionsLeft","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2956,"src":"11343:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"11330:28:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":2973,"name":"generateBasicPartition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2885,"src":"11307:22:9","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_bytes32_$returns$_t_array$_t_uint256_$dyn_memory_ptr_$","typeString":"function (bytes32) view returns (uint256[] memory)"}},"id":2977,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"11307:52:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"nodeType":"VariableDeclarationStatement","src":"11281:78:9"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2982,"name":"collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2127,"src":"11392:15:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5439","typeString":"contract IERC20"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":2984,"name":"parentCollectionId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2958,"src":"11417:18:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":2983,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"11409:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_bytes32_$","typeString":"type(bytes32)"},"typeName":"bytes32"},"id":2985,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"11409:27:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":2986,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2130,"src":"11438:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":2988,"indexExpression":{"argumentTypes":null,"id":2987,"name":"conditionsLeft","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2956,"src":"11451:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"11438:28:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"argumentTypes":null,"id":2989,"name":"partition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2972,"src":"11468:9:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},{"argumentTypes":null,"id":2990,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2954,"src":"11479:6:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IERC20_$5439","typeString":"contract IERC20"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":2979,"name":"pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2125,"src":"11369:8:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}},"id":2981,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"splitPosition","nodeType":"MemberAccess","referencedDeclaration":1091,"src":"11369:22:9","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_contract$_IERC20_$5439_$_t_bytes32_$_t_bytes32_$_t_array$_t_uint256_$dyn_memory_ptr_$_t_uint256_$returns$__$","typeString":"function (contract IERC20,bytes32,bytes32,uint256[] memory,uint256) external"}},"id":2991,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"11369:117:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2992,"nodeType":"ExpressionStatement","src":"11369:117:9"},{"body":{"id":3024,"nodeType":"Block","src":"11539:272:9","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":3005,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2954,"src":"11604:6:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":3006,"name":"conditionsLeft","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2956,"src":"11628:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":3021,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":3007,"name":"parentCollectionId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2958,"src":"11660:18:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":3012,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2130,"src":"11734:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":3014,"indexExpression":{"argumentTypes":null,"id":3013,"name":"conditionsLeft","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2956,"src":"11747:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"11734:28:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":3015,"name":"partition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2972,"src":"11784:9:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":3017,"indexExpression":{"argumentTypes":null,"id":3016,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2994,"src":"11794:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"11784:12:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":3010,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5460,"src":"11696:3:9","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":3011,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"encodePacked","nodeType":"MemberAccess","referencedDeclaration":null,"src":"11696:16:9","typeDescriptions":{"typeIdentifier":"t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":3018,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"11696:101:9","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":3009,"name":"keccak256","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5467,"src":"11686:9:9","typeDescriptions":{"typeIdentifier":"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$","typeString":"function (bytes memory) pure returns (bytes32)"}},"id":3019,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"11686:112:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":3008,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"11681:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":3020,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"11681:118:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"11660:139:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":3004,"name":"splitPositionThroughAllConditions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3027,"src":"11553:33:9","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (uint256,uint256,uint256)"}},"id":3022,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"11553:247:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":3023,"nodeType":"ExpressionStatement","src":"11553:247:9"}]},"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":3000,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":2997,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2994,"src":"11512:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":2998,"name":"partition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2972,"src":"11516:9:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":2999,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","referencedDeclaration":null,"src":"11516:16:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"11512:20:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":3025,"initializationExpression":{"assignments":[2994],"declarations":[{"constant":false,"id":2994,"name":"i","nodeType":"VariableDeclaration","scope":3025,"src":"11500:6:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2993,"name":"uint","nodeType":"ElementaryTypeName","src":"11500:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":2996,"initialValue":{"argumentTypes":null,"hexValue":"30","id":2995,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"11509:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"11500:10:9"},"loopExpression":{"expression":{"argumentTypes":null,"id":3002,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"11534:3:9","subExpression":{"argumentTypes":null,"id":3001,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2994,"src":"11534:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":3003,"nodeType":"ExpressionStatement","src":"11534:3:9"},"nodeType":"ForStatement","src":"11496:315:9"}]},"documentation":null,"id":3027,"implemented":true,"kind":"function","modifiers":[],"name":"splitPositionThroughAllConditions","nodeType":"FunctionDefinition","parameters":{"id":2959,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2954,"name":"amount","nodeType":"VariableDeclaration","scope":3027,"src":"11125:11:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2953,"name":"uint","nodeType":"ElementaryTypeName","src":"11125:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":2956,"name":"conditionsLeft","nodeType":"VariableDeclaration","scope":3027,"src":"11138:19:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2955,"name":"uint","nodeType":"ElementaryTypeName","src":"11138:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":2958,"name":"parentCollectionId","nodeType":"VariableDeclaration","scope":3027,"src":"11159:23:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2957,"name":"uint","nodeType":"ElementaryTypeName","src":"11159:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"11124:59:9"},"returnParameters":{"id":2960,"nodeType":"ParameterList","parameters":[],"src":"11204:0:9"},"scope":3103,"src":"11082:735:9","stateMutability":"nonpayable","superFunction":null,"visibility":"private"},{"body":{"id":3101,"nodeType":"Block","src":"11946:615:9","statements":[{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":3038,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":3036,"name":"conditionsLeft","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3031,"src":"11959:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"hexValue":"30","id":3037,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"11977:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"11959:19:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":3040,"nodeType":"IfStatement","src":"11956:31:9","trueBody":{"expression":null,"functionReturnParameters":3035,"id":3039,"nodeType":"Return","src":"11980:7:9"}},{"expression":{"argumentTypes":null,"id":3042,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"--","prefix":false,"src":"11996:16:9","subExpression":{"argumentTypes":null,"id":3041,"name":"conditionsLeft","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3031,"src":"11996:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":3043,"nodeType":"ExpressionStatement","src":"11996:16:9"},{"assignments":[3047],"declarations":[{"constant":false,"id":3047,"name":"partition","nodeType":"VariableDeclaration","scope":3101,"src":"12023:23:9","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":3045,"name":"uint","nodeType":"ElementaryTypeName","src":"12023:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":3046,"length":null,"nodeType":"ArrayTypeName","src":"12023:6:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"value":null,"visibility":"internal"}],"id":3053,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":3049,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2130,"src":"12072:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":3051,"indexExpression":{"argumentTypes":null,"id":3050,"name":"conditionsLeft","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3031,"src":"12085:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"12072:28:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":3048,"name":"generateBasicPartition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2885,"src":"12049:22:9","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_bytes32_$returns$_t_array$_t_uint256_$dyn_memory_ptr_$","typeString":"function (bytes32) view returns (uint256[] memory)"}},"id":3052,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"12049:52:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"nodeType":"VariableDeclarationStatement","src":"12023:78:9"},{"body":{"id":3085,"nodeType":"Block","src":"12154:273:9","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":3066,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3029,"src":"12220:6:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":3067,"name":"conditionsLeft","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3031,"src":"12244:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":3082,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":3068,"name":"parentCollectionId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3033,"src":"12276:18:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":3073,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2130,"src":"12350:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":3075,"indexExpression":{"argumentTypes":null,"id":3074,"name":"conditionsLeft","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3031,"src":"12363:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"12350:28:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":3076,"name":"partition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3047,"src":"12400:9:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":3078,"indexExpression":{"argumentTypes":null,"id":3077,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3055,"src":"12410:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"12400:12:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":3071,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5460,"src":"12312:3:9","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":3072,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"encodePacked","nodeType":"MemberAccess","referencedDeclaration":null,"src":"12312:16:9","typeDescriptions":{"typeIdentifier":"t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":3079,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"12312:101:9","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":3070,"name":"keccak256","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":5467,"src":"12302:9:9","typeDescriptions":{"typeIdentifier":"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$","typeString":"function (bytes memory) pure returns (bytes32)"}},"id":3080,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"12302:112:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":3069,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"12297:4:9","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":"uint"},"id":3081,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"12297:118:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"12276:139:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":3065,"name":"mergePositionsThroughAllConditions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3102,"src":"12168:34:9","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (uint256,uint256,uint256)"}},"id":3083,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"12168:248:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":3084,"nodeType":"ExpressionStatement","src":"12168:248:9"}]},"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":3061,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":3058,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3055,"src":"12127:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":3059,"name":"partition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3047,"src":"12131:9:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":3060,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","referencedDeclaration":null,"src":"12131:16:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"12127:20:9","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":3086,"initializationExpression":{"assignments":[3055],"declarations":[{"constant":false,"id":3055,"name":"i","nodeType":"VariableDeclaration","scope":3086,"src":"12115:6:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":3054,"name":"uint","nodeType":"ElementaryTypeName","src":"12115:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":3057,"initialValue":{"argumentTypes":null,"hexValue":"30","id":3056,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"12124:1:9","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"12115:10:9"},"loopExpression":{"expression":{"argumentTypes":null,"id":3063,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"12149:3:9","subExpression":{"argumentTypes":null,"id":3062,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3055,"src":"12149:1:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":3064,"nodeType":"ExpressionStatement","src":"12149:3:9"},"nodeType":"ForStatement","src":"12111:316:9"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":3090,"name":"collateralToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2127,"src":"12460:15:9","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$5439","typeString":"contract IERC20"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":3092,"name":"parentCollectionId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3033,"src":"12485:18:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":3091,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"12477:7:9","typeDescriptions":{"typeIdentifier":"t_type$_t_bytes32_$","typeString":"type(bytes32)"},"typeName":"bytes32"},"id":3093,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"12477:27:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":3094,"name":"conditionIds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2130,"src":"12506:12:9","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage","typeString":"bytes32[] storage ref"}},"id":3096,"indexExpression":{"argumentTypes":null,"id":3095,"name":"conditionsLeft","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3031,"src":"12519:14:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"12506:28:9","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"argumentTypes":null,"id":3097,"name":"partition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3047,"src":"12536:9:9","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},{"argumentTypes":null,"id":3098,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3029,"src":"12547:6:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IERC20_$5439","typeString":"contract IERC20"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":3087,"name":"pmSystem","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2125,"src":"12436:8:9","typeDescriptions":{"typeIdentifier":"t_contract$_PredictionMarketSystem_$1596","typeString":"contract PredictionMarketSystem"}},"id":3089,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"mergePositions","nodeType":"MemberAccess","referencedDeclaration":1317,"src":"12436:23:9","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_contract$_IERC20_$5439_$_t_bytes32_$_t_bytes32_$_t_array$_t_uint256_$dyn_memory_ptr_$_t_uint256_$returns$__$","typeString":"function (contract IERC20,bytes32,bytes32,uint256[] memory,uint256) external"}},"id":3099,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"12436:118:9","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":3100,"nodeType":"ExpressionStatement","src":"12436:118:9"}]},"documentation":null,"id":3102,"implemented":true,"kind":"function","modifiers":[],"name":"mergePositionsThroughAllConditions","nodeType":"FunctionDefinition","parameters":{"id":3034,"nodeType":"ParameterList","parameters":[{"constant":false,"id":3029,"name":"amount","nodeType":"VariableDeclaration","scope":3102,"src":"11867:11:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":3028,"name":"uint","nodeType":"ElementaryTypeName","src":"11867:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":3031,"name":"conditionsLeft","nodeType":"VariableDeclaration","scope":3102,"src":"11880:19:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":3030,"name":"uint","nodeType":"ElementaryTypeName","src":"11880:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":3033,"name":"parentCollectionId","nodeType":"VariableDeclaration","scope":3102,"src":"11901:23:9","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":3032,"name":"uint","nodeType":"ElementaryTypeName","src":"11901:4:9","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"11866:59:9"},"returnParameters":{"id":3035,"nodeType":"ParameterList","parameters":[],"src":"11946:0:9"},"scope":3103,"src":"11823:738:9","stateMutability":"nonpayable","superFunction":null,"visibility":"private"}],"scope":3104,"src":"340:12223:9"}],"src":"0:12563:9"},"compiler":{"name":"solc","version":"0.5.1+commit.c8a2cb62.Emscripten.clang"},"networks":{},"schemaVersion":"3.0.1","updatedAt":"2019-03-05T11:58:09.846Z","devdoc":{"methods":{"calcMarketFee(uint256)":{"details":"Calculates fee to be paid to market maker","params":{"outcomeTokenCost":"Cost for buying outcome tokens"},"return":"Fee for trade"},"changeFunding(int256)":{"details":"Allows to fund the market with collateral tokens converting them into outcome tokens Note for the future: should combine splitPosition and mergePositions into one function, as code duplication causes things like this to happen."},"close()":{"details":"Allows market owner to close the markets by transferring all remaining outcome tokens to the owner"},"isOwner()":{"return":"true if `msg.sender` is the owner of the contract."},"owner()":{"return":"the address of the owner."},"renounceOwnership()":{"details":"Allows the current owner to relinquish control of the contract."},"trade(int256[],int256)":{"details":"Allows to trade outcome tokens and collateral with the market maker","params":{"collateralLimit":"If positive, this is the limit for the amount of collateral tokens which will be sent to the market to conduct the trade. If negative, this is the minimum amount of collateral tokens which will be received from the market for the trade. If zero, there is no limit.","outcomeTokenAmounts":"Amounts of each atomic outcome token to buy or sell. If positive, will buy this amount of outcome token from the market. If negative, will sell this amount back to the market instead. The indices of this array range from 0 to product(all conditions\' outcomeSlotCounts)-1. For example, with two conditions with three outcome slots each and one condition with two outcome slots, you will have 3*3*2=18 total atomic outcome tokens, and the indices will range from 0 to 17. The indices map to atomic outcome slots depending on the order of the conditionIds. Let\'s say the first condition has slots A, B, C the second has slots X, Y, and the third has slots I, J, K. We can associate each atomic outcome token with indices by this map: A&X&I == 0 B&X&I == 1 C&X&I == 2 A&Y&I == 3 B&Y&I == 4 C&Y&I == 5 A&X&J == 6 B&X&J == 7 C&X&J == 8 A&Y&J == 9 B&Y&J == 10 C&Y&J == 11 A&X&K == 12 B&X&K == 13 C&X&K == 14 A&Y&K == 15 B&Y&K == 16 C&Y&K == 17 This order is calculated via the generateAtomicPositionId function below: C&Y&I -> (2, 1, 0) -> 2 + 3 * (1 + 2 * (0 + 3 * (0 + 0)))"},"return":"If positive, the amount of collateral sent to the market. If negative, the amount of collateral received from the market. If zero, no collateral was sent or received."},"transferOwnership(address)":{"details":"Allows the current owner to transfer control of the contract to a newOwner.","params":{"newOwner":"The address to transfer ownership to."}},"withdrawFees()":{"details":"Allows market owner to withdraw fees generated by trades","return":"Fee amount"}}},"userdoc":{"methods":{"renounceOwnership()":{"notice":"Renouncing to ownership will leave the contract without an owner. It will not be possible to call the functions with the `onlyOwner` modifier anymore."}}}};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiI1MjcuanMiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///527\n')}}]);