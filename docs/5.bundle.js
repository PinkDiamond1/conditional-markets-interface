(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{431:function(e){e.exports={contractName:"MarketMaker",abi:[{constant:!0,inputs:[],name:"pmSystem",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"renounceOwnership",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"owner",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"isOwner",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"collateralToken",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"stage",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"funding",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"uint256"}],name:"conditionIds",outputs:[{name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"atomicOutcomeSlotCount",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"fee",outputs:[{name:"",type:"uint64"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"FEE_RANGE",outputs:[{name:"",type:"uint64"}],payable:!1,stateMutability:"view",type:"function"},{inputs:[{name:"_pmSystem",type:"address"},{name:"_collateralToken",type:"address"},{name:"_conditionIds",type:"bytes32[]"},{name:"_fee",type:"uint64"},{name:"initialFunding",type:"uint256"},{name:"marketOwner",type:"address"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,name:"initialFunding",type:"uint256"}],name:"AMMCreated",type:"event"},{anonymous:!1,inputs:[],name:"AMMPaused",type:"event"},{anonymous:!1,inputs:[],name:"AMMResumed",type:"event"},{anonymous:!1,inputs:[],name:"AMMClosed",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"fundingChange",type:"int256"}],name:"AMMFundingChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"newFee",type:"uint64"}],name:"AMMFeeChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"fees",type:"uint256"}],name:"AMMFeeWithdrawal",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"transactor",type:"address"},{indexed:!1,name:"outcomeTokenAmounts",type:"int256[]"},{indexed:!1,name:"outcomeTokenNetCost",type:"int256"},{indexed:!1,name:"marketFees",type:"uint256"}],name:"AMMOutcomeTokenTrade",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"previousOwner",type:"address"},{indexed:!0,name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{constant:!0,inputs:[{name:"outcomeTokenAmounts",type:"int256[]"}],name:"calcNetCost",outputs:[{name:"netCost",type:"int256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"fundingChange",type:"int256"}],name:"changeFunding",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"pause",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"resume",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_fee",type:"uint64"}],name:"changeFee",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"close",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"withdrawFees",outputs:[{name:"fees",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"outcomeTokenAmounts",type:"int256[]"},{name:"collateralLimit",type:"int256"}],name:"trade",outputs:[{name:"netCost",type:"int256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"outcomeTokenCost",type:"uint256"}],name:"calcMarketFee",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"operator",type:"address"},{name:"",type:"address"},{name:"",type:"uint256"},{name:"",type:"uint256"},{name:"",type:"bytes"}],name:"onERC1155Received",outputs:[{name:"",type:"bytes4"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_operator",type:"address"},{name:"",type:"address"},{name:"",type:"uint256[]"},{name:"",type:"uint256[]"},{name:"",type:"bytes"}],name:"onERC1155BatchReceived",outputs:[{name:"",type:"bytes4"}],payable:!1,stateMutability:"nonpayable",type:"function"}],bytecode:"0x",deployedBytecode:"0x",sourceMap:"",deployedSourceMap:"",source:'pragma solidity ^0.5.1;\nimport "erc-1155/contracts/IERC1155TokenReceiver.sol";\nimport "openzeppelin-solidity/contracts/ownership/Ownable.sol";\nimport "openzeppelin-solidity/contracts/math/SafeMath.sol";\nimport "@gnosis.pm/util-contracts/contracts/SignedSafeMath.sol";\nimport "@gnosis.pm/hg-contracts/contracts/PredictionMarketSystem.sol";\n\ncontract MarketMaker is Ownable, IERC1155TokenReceiver {\n    using SignedSafeMath for int;\n    using SafeMath for uint;\n    /*\n     *  Constants\n     */    \n    uint64 public constant FEE_RANGE = 10**18;\n\n    /*\n     *  Events\n     */\n    event AMMCreated(uint initialFunding);\n    event AMMPaused();\n    event AMMResumed();\n    event AMMClosed();\n    event AMMFundingChanged(int fundingChange);\n    event AMMFeeChanged(uint64 newFee);\n    event AMMFeeWithdrawal(uint fees);\n    event AMMOutcomeTokenTrade(address indexed transactor, int[] outcomeTokenAmounts, int outcomeTokenNetCost, uint marketFees);\n    \n    /*\n     *  Storage\n     */\n    PredictionMarketSystem public pmSystem;\n    IERC20 public collateralToken;\n    bytes32[] public conditionIds;\n    uint public atomicOutcomeSlotCount;\n    uint64 public fee;\n    uint public funding;\n    Stage public stage;\n    enum Stage {\n        Running,\n        Paused,\n        Closed\n    }\n\n    /*\n     *  Modifiers\n     */\n    modifier atStage(Stage _stage) {\n        // Contract has to be in given stage\n        require(stage == _stage);\n        _;\n    }\n\n    constructor(PredictionMarketSystem _pmSystem, IERC20 _collateralToken, bytes32[] memory _conditionIds, uint64 _fee, uint initialFunding, address marketOwner)\n        public\n    {\n        // Validate inputs\n        require(address(_pmSystem) != address(0) && _fee < FEE_RANGE);\n        pmSystem = _pmSystem;\n        collateralToken = _collateralToken;\n        conditionIds = _conditionIds;\n        fee = _fee;\n\n        atomicOutcomeSlotCount = 1;\n        for (uint i = 0; i < conditionIds.length; i++) {\n            atomicOutcomeSlotCount *= pmSystem.getOutcomeSlotCount(conditionIds[i]);\n        }\n        require(atomicOutcomeSlotCount > 1, "conditions must be valid");\n\n        require(collateralToken.transferFrom(marketOwner, address(this), initialFunding) && collateralToken.approve(address(pmSystem), initialFunding));\n\n        splitPositionThroughAllConditions(initialFunding, conditionIds.length, 0);\n\n        funding = initialFunding;\n\n        stage = Stage.Running;\n        emit AMMCreated(funding);\n    }\n\n    function calcNetCost(int[] memory outcomeTokenAmounts) public view returns (int netCost);\n\n    /// @dev Allows to fund the market with collateral tokens converting them into outcome tokens\n    /// Note for the future: should combine splitPosition and mergePositions into one function, as code duplication causes things like this to happen.\n    function changeFunding(int fundingChange)\n        public\n        onlyOwner\n        atStage(Stage.Paused)\n    {\n        require(fundingChange != 0, "A fundingChange of zero is not a fundingChange at all. It is unacceptable.");\n        // Either add or subtract funding based off whether the fundingChange parameter is negative or positive\n        if (fundingChange > 0) {\n            require(collateralToken.transferFrom(msg.sender, address(this), uint(fundingChange)) && collateralToken.approve(address(pmSystem), uint(fundingChange)));\n            splitPositionThroughAllConditions(uint(fundingChange), conditionIds.length, 0);\n            funding = funding.add(uint(fundingChange));\n            emit AMMFundingChanged(fundingChange);\n        }\n        if (fundingChange < 0) {\n            mergePositionsThroughAllConditions(uint(-fundingChange), conditionIds.length, 0);\n            funding = funding.sub(uint(-fundingChange));\n            require(collateralToken.transfer(owner(), uint(-fundingChange)));\n            emit AMMFundingChanged(fundingChange);\n        }\n    }\n\n    function pause() public onlyOwner atStage(Stage.Running) {\n        stage = Stage.Paused;\n        emit AMMPaused();\n    }\n    \n    function resume() public onlyOwner atStage(Stage.Paused) {\n        stage = Stage.Running;\n        emit AMMResumed();\n    }\n\n    function changeFee(uint64 _fee) public onlyOwner atStage(Stage.Paused) {\n        fee = _fee;\n        emit AMMFeeChanged(fee);\n    }\n\n    /// @dev Allows market owner to close the markets by transferring all remaining outcome tokens to the owner\n    function close()\n        public\n        onlyOwner\n    {\n        require(stage == Stage.Running || stage == Stage.Paused, "This Market has already been closed");\n        for (uint i = 0; i < atomicOutcomeSlotCount; i++) {\n            uint positionId = generateAtomicPositionId(i);\n            pmSystem.safeTransferFrom(address(this), owner(), positionId, pmSystem.balanceOf(address(this), positionId), "");\n        }\n        stage = Stage.Closed;\n        emit AMMClosed();\n    }\n\n    /// @dev Allows market owner to withdraw fees generated by trades\n    /// @return Fee amount\n    function withdrawFees()\n        public\n        onlyOwner\n        returns (uint fees)\n    {\n        fees = collateralToken.balanceOf(address(this));\n        // Transfer fees\n        require(collateralToken.transfer(owner(), fees));\n        emit AMMFeeWithdrawal(fees);\n    }\n\n    /// @dev Allows to trade outcome tokens and collateral with the market maker\n    /// @param outcomeTokenAmounts Amounts of each atomic outcome token to buy or sell. If positive, will buy this amount of outcome token from the market. If negative, will sell this amount back to the market instead. The indices of this array range from 0 to product(all conditions\' outcomeSlotCounts)-1. For example, with two conditions with three outcome slots each and one condition with two outcome slots, you will have 3*3*2=18 total atomic outcome tokens, and the indices will range from 0 to 17. The indices map to atomic outcome slots depending on the order of the conditionIds. Let\'s say the first condition has slots A, B, C the second has slots X, Y, and the third has slots I, J, K. We can associate each atomic outcome token with indices by this map:\n    /// A&X&I == 0\n    /// B&X&I == 1\n    /// C&X&I == 2\n    /// A&Y&I == 3\n    /// B&Y&I == 4\n    /// C&Y&I == 5\n    /// A&X&J == 6\n    /// B&X&J == 7\n    /// C&X&J == 8\n    /// A&Y&J == 9\n    /// B&Y&J == 10\n    /// C&Y&J == 11\n    /// A&X&K == 12\n    /// B&X&K == 13\n    /// C&X&K == 14\n    /// A&Y&K == 15\n    /// B&Y&K == 16\n    /// C&Y&K == 17\n    /// This order is calculated via the generateAtomicPositionId function below: C&Y&I -> (2, 1, 0) -> 2 + 3 * (1 + 2 * (0 + 3 * (0 + 0)))\n    /// @param collateralLimit If positive, this is the limit for the amount of collateral tokens which will be sent to the market to conduct the trade. If negative, this is the minimum amount of collateral tokens which will be received from the market for the trade. If zero, there is no limit.\n    /// @return If positive, the amount of collateral sent to the market. If negative, the amount of collateral received from the market. If zero, no collateral was sent or received.\n    function trade(int[] memory outcomeTokenAmounts, int collateralLimit)\n        public\n        atStage(Stage.Running)\n        returns (int netCost)\n    {\n        require(outcomeTokenAmounts.length == atomicOutcomeSlotCount);\n\n        // Calculate net cost for executing trade\n        int outcomeTokenNetCost = calcNetCost(outcomeTokenAmounts);\n        int fees;\n        if(outcomeTokenNetCost < 0)\n            fees = int(calcMarketFee(uint(-outcomeTokenNetCost)));\n        else\n            fees = int(calcMarketFee(uint(outcomeTokenNetCost)));\n\n        require(fees >= 0);\n        netCost = outcomeTokenNetCost.add(fees);\n\n        require(\n            (collateralLimit != 0 && netCost <= collateralLimit) ||\n            collateralLimit == 0\n        );\n\n        if(outcomeTokenNetCost > 0) {\n            require(\n                collateralToken.transferFrom(msg.sender, address(this), uint(netCost)) &&\n                collateralToken.approve(address(pmSystem), uint(outcomeTokenNetCost))\n            );\n\n            splitPositionThroughAllConditions(uint(outcomeTokenNetCost), conditionIds.length, 0);\n        }\n\n        for (uint i = 0; i < atomicOutcomeSlotCount; i++) {\n            if(outcomeTokenAmounts[i] != 0) {\n                uint positionId = generateAtomicPositionId(i);\n                if(outcomeTokenAmounts[i] < 0) {\n                    pmSystem.safeTransferFrom(msg.sender, address(this), positionId, uint(-outcomeTokenAmounts[i]), "");\n                } else {\n                    pmSystem.safeTransferFrom(address(this), msg.sender, positionId, uint(outcomeTokenAmounts[i]), "");\n                }\n\n            }\n        }\n\n        if(outcomeTokenNetCost < 0) {\n            // This is safe since\n            // 0x8000000000000000000000000000000000000000000000000000000000000000 ==\n            // uint(-int(-0x8000000000000000000000000000000000000000000000000000000000000000))\n            mergePositionsThroughAllConditions(uint(-outcomeTokenNetCost), conditionIds.length, 0);\n            if(netCost < 0) {\n                require(collateralToken.transfer(msg.sender, uint(-netCost)));\n            }\n        }\n\n        emit AMMOutcomeTokenTrade(msg.sender, outcomeTokenAmounts, outcomeTokenNetCost, uint(fees));\n    }\n\n    /// @dev Calculates fee to be paid to market maker\n    /// @param outcomeTokenCost Cost for buying outcome tokens\n    /// @return Fee for trade\n    function calcMarketFee(uint outcomeTokenCost)\n        public\n        view\n        returns (uint)\n    {\n        return outcomeTokenCost * fee / FEE_RANGE;\n    }\n\n    function onERC1155Received(address operator, address /*from*/, uint256 /*id*/, uint256 /*value*/, bytes calldata /*data*/) external returns(bytes4) {\n        if (operator == address(this)) {\n            return 0xf23a6e61;\n        }\n        return 0x0;\n    }\n\n    function onERC1155BatchReceived(address _operator, address /*from*/, uint256[] calldata /*ids*/, uint256[] calldata /*values*/, bytes calldata /*data*/) external returns(bytes4) {\n        if (_operator == address(this)) {\n            return 0xf23a6e61;\n        }\n        return 0x0;\n    }\n\n    function generateBasicPartition(bytes32 conditionId)\n        private\n        view\n        returns (uint[] memory partition)\n    {\n        partition = new uint[](pmSystem.getOutcomeSlotCount(conditionId));\n        for(uint i = 0; i < partition.length; i++) {\n            partition[i] = 1 << i;\n        }\n    }\n\n    function generateAtomicPositionId(uint i)\n        internal\n        view\n        returns (uint)\n    {\n        uint collectionId = 0;\n\n        for(uint k = 0; k < conditionIds.length; k++) {\n            uint curOutcomeSlotCount = pmSystem.getOutcomeSlotCount(conditionIds[k]);\n            collectionId += uint(keccak256(abi.encodePacked(\n                conditionIds[k],\n                1 << (i % curOutcomeSlotCount))));\n            i /= curOutcomeSlotCount;\n        }\n        return uint(keccak256(abi.encodePacked(\n            collateralToken,\n            collectionId)));\n    }\n\n    function splitPositionThroughAllConditions(uint amount, uint conditionsLeft, uint parentCollectionId)\n        private\n    {\n        if(conditionsLeft == 0) return;\n        conditionsLeft--;\n\n        uint[] memory partition = generateBasicPartition(conditionIds[conditionsLeft]);\n        pmSystem.splitPosition(collateralToken, bytes32(parentCollectionId), conditionIds[conditionsLeft], partition, amount);\n        for(uint i = 0; i < partition.length; i++) {\n            splitPositionThroughAllConditions(\n                amount,\n                conditionsLeft,\n                parentCollectionId + uint(keccak256(abi.encodePacked(\n                    conditionIds[conditionsLeft],\n                    partition[i]))));\n        }\n    }\n\n    function mergePositionsThroughAllConditions(uint amount, uint conditionsLeft, uint parentCollectionId)\n        private\n    {\n        if(conditionsLeft == 0) return;\n        conditionsLeft--;\n\n        uint[] memory partition = generateBasicPartition(conditionIds[conditionsLeft]);\n        pmSystem.mergePositions(collateralToken, bytes32(parentCollectionId), conditionIds[conditionsLeft], partition, amount);\n        for(uint i = 0; i < partition.length; i++) {\n            mergePositionsThroughAllConditions(\n                amount,\n                conditionsLeft,\n                parentCollectionId + uint(keccak256(abi.encodePacked(\n                    conditionIds[conditionsLeft],\n                    partition[i]))));\n        }\n    }\n}',sourcePath:"@gnosis.pm/hg-market-makers/contracts/MarketMaker.sol",ast:{absolutePath:"@gnosis.pm/hg-market-makers/contracts/MarketMaker.sol",exportedSymbols:{MarketMaker:[2963]},id:2964,nodeType:"SourceUnit",nodes:[{id:1930,literals:["solidity","^","0.5",".1"],nodeType:"PragmaDirective",src:"0:23:9"},{absolutePath:"erc-1155/contracts/IERC1155TokenReceiver.sol",file:"erc-1155/contracts/IERC1155TokenReceiver.sol",id:1931,nodeType:"ImportDirective",scope:2964,sourceUnit:4926,src:"24:54:9",symbolAliases:[],unitAlias:""},{absolutePath:"openzeppelin-solidity/contracts/ownership/Ownable.sol",file:"openzeppelin-solidity/contracts/ownership/Ownable.sol",id:1932,nodeType:"ImportDirective",scope:2964,sourceUnit:5173,src:"79:63:9",symbolAliases:[],unitAlias:""},{absolutePath:"openzeppelin-solidity/contracts/math/SafeMath.sol",file:"openzeppelin-solidity/contracts/math/SafeMath.sol",id:1933,nodeType:"ImportDirective",scope:2964,sourceUnit:5064,src:"143:59:9",symbolAliases:[],unitAlias:""},{absolutePath:"@gnosis.pm/util-contracts/contracts/SignedSafeMath.sol",file:"@gnosis.pm/util-contracts/contracts/SignedSafeMath.sol",id:1934,nodeType:"ImportDirective",scope:2964,sourceUnit:4115,src:"203:64:9",symbolAliases:[],unitAlias:""},{absolutePath:"@gnosis.pm/hg-contracts/contracts/PredictionMarketSystem.sol",file:"@gnosis.pm/hg-contracts/contracts/PredictionMarketSystem.sol",id:1935,nodeType:"ImportDirective",scope:2964,sourceUnit:1457,src:"268:70:9",symbolAliases:[],unitAlias:""},{baseContracts:[{arguments:null,baseName:{contractScope:null,id:1936,name:"Ownable",nodeType:"UserDefinedTypeName",referencedDeclaration:5172,src:"364:7:9",typeDescriptions:{typeIdentifier:"t_contract$_Ownable_$5172",typeString:"contract Ownable"}},id:1937,nodeType:"InheritanceSpecifier",src:"364:7:9"},{arguments:null,baseName:{contractScope:null,id:1938,name:"IERC1155TokenReceiver",nodeType:"UserDefinedTypeName",referencedDeclaration:4925,src:"373:21:9",typeDescriptions:{typeIdentifier:"t_contract$_IERC1155TokenReceiver_$4925",typeString:"contract IERC1155TokenReceiver"}},id:1939,nodeType:"InheritanceSpecifier",src:"373:21:9"}],contractDependencies:[4925,5172],contractKind:"contract",documentation:null,fullyImplemented:!1,id:2963,linearizedBaseContracts:[2963,4925,5172],name:"MarketMaker",nodeType:"ContractDefinition",nodes:[{id:1942,libraryName:{contractScope:null,id:1940,name:"SignedSafeMath",nodeType:"UserDefinedTypeName",referencedDeclaration:4114,src:"407:14:9",typeDescriptions:{typeIdentifier:"t_contract$_SignedSafeMath_$4114",typeString:"library SignedSafeMath"}},nodeType:"UsingForDirective",src:"401:29:9",typeName:{id:1941,name:"int",nodeType:"ElementaryTypeName",src:"426:3:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}}},{id:1945,libraryName:{contractScope:null,id:1943,name:"SafeMath",nodeType:"UserDefinedTypeName",referencedDeclaration:5063,src:"441:8:9",typeDescriptions:{typeIdentifier:"t_contract$_SafeMath_$5063",typeString:"library SafeMath"}},nodeType:"UsingForDirective",src:"435:24:9",typeName:{id:1944,name:"uint",nodeType:"ElementaryTypeName",src:"454:4:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}},{constant:!0,id:1950,name:"FEE_RANGE",nodeType:"VariableDeclaration",scope:2963,src:"501:41:9",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint64",typeString:"uint64"},typeName:{id:1946,name:"uint64",nodeType:"ElementaryTypeName",src:"501:6:9",typeDescriptions:{typeIdentifier:"t_uint64",typeString:"uint64"}},value:{argumentTypes:null,commonType:{typeIdentifier:"t_rational_1000000000000000000_by_1",typeString:"int_const 1000000000000000000"},id:1949,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,leftExpression:{argumentTypes:null,hexValue:"3130",id:1947,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"536:2:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_10_by_1",typeString:"int_const 10"},value:"10"},nodeType:"BinaryOperation",operator:"**",rightExpression:{argumentTypes:null,hexValue:"3138",id:1948,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"540:2:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_18_by_1",typeString:"int_const 18"},value:"18"},src:"536:6:9",typeDescriptions:{typeIdentifier:"t_rational_1000000000000000000_by_1",typeString:"int_const 1000000000000000000"}},visibility:"public"},{anonymous:!1,documentation:null,id:1954,name:"AMMCreated",nodeType:"EventDefinition",parameters:{id:1953,nodeType:"ParameterList",parameters:[{constant:!1,id:1952,indexed:!1,name:"initialFunding",nodeType:"VariableDeclaration",scope:1954,src:"596:19:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:1951,name:"uint",nodeType:"ElementaryTypeName",src:"596:4:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"595:21:9"},src:"579:38:9"},{anonymous:!1,documentation:null,id:1956,name:"AMMPaused",nodeType:"EventDefinition",parameters:{id:1955,nodeType:"ParameterList",parameters:[],src:"637:2:9"},src:"622:18:9"},{anonymous:!1,documentation:null,id:1958,name:"AMMResumed",nodeType:"EventDefinition",parameters:{id:1957,nodeType:"ParameterList",parameters:[],src:"661:2:9"},src:"645:19:9"},{anonymous:!1,documentation:null,id:1960,name:"AMMClosed",nodeType:"EventDefinition",parameters:{id:1959,nodeType:"ParameterList",parameters:[],src:"684:2:9"},src:"669:18:9"},{anonymous:!1,documentation:null,id:1964,name:"AMMFundingChanged",nodeType:"EventDefinition",parameters:{id:1963,nodeType:"ParameterList",parameters:[{constant:!1,id:1962,indexed:!1,name:"fundingChange",nodeType:"VariableDeclaration",scope:1964,src:"716:17:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"},typeName:{id:1961,name:"int",nodeType:"ElementaryTypeName",src:"716:3:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},value:null,visibility:"internal"}],src:"715:19:9"},src:"692:43:9"},{anonymous:!1,documentation:null,id:1968,name:"AMMFeeChanged",nodeType:"EventDefinition",parameters:{id:1967,nodeType:"ParameterList",parameters:[{constant:!1,id:1966,indexed:!1,name:"newFee",nodeType:"VariableDeclaration",scope:1968,src:"760:13:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint64",typeString:"uint64"},typeName:{id:1965,name:"uint64",nodeType:"ElementaryTypeName",src:"760:6:9",typeDescriptions:{typeIdentifier:"t_uint64",typeString:"uint64"}},value:null,visibility:"internal"}],src:"759:15:9"},src:"740:35:9"},{anonymous:!1,documentation:null,id:1972,name:"AMMFeeWithdrawal",nodeType:"EventDefinition",parameters:{id:1971,nodeType:"ParameterList",parameters:[{constant:!1,id:1970,indexed:!1,name:"fees",nodeType:"VariableDeclaration",scope:1972,src:"803:9:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:1969,name:"uint",nodeType:"ElementaryTypeName",src:"803:4:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"802:11:9"},src:"780:34:9"},{anonymous:!1,documentation:null,id:1983,name:"AMMOutcomeTokenTrade",nodeType:"EventDefinition",parameters:{id:1982,nodeType:"ParameterList",parameters:[{constant:!1,id:1974,indexed:!0,name:"transactor",nodeType:"VariableDeclaration",scope:1983,src:"846:26:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:1973,name:"address",nodeType:"ElementaryTypeName",src:"846:7:9",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:!1,id:1977,indexed:!1,name:"outcomeTokenAmounts",nodeType:"VariableDeclaration",scope:1983,src:"874:25:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_array$_t_int256_$dyn_memory_ptr",typeString:"int256[]"},typeName:{baseType:{id:1975,name:"int",nodeType:"ElementaryTypeName",src:"874:3:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},id:1976,length:null,nodeType:"ArrayTypeName",src:"874:5:9",typeDescriptions:{typeIdentifier:"t_array$_t_int256_$dyn_storage_ptr",typeString:"int256[]"}},value:null,visibility:"internal"},{constant:!1,id:1979,indexed:!1,name:"outcomeTokenNetCost",nodeType:"VariableDeclaration",scope:1983,src:"901:23:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"},typeName:{id:1978,name:"int",nodeType:"ElementaryTypeName",src:"901:3:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},value:null,visibility:"internal"},{constant:!1,id:1981,indexed:!1,name:"marketFees",nodeType:"VariableDeclaration",scope:1983,src:"926:15:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:1980,name:"uint",nodeType:"ElementaryTypeName",src:"926:4:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"845:97:9"},src:"819:124:9"},{constant:!1,id:1985,name:"pmSystem",nodeType:"VariableDeclaration",scope:2963,src:"984:38:9",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_contract$_PredictionMarketSystem_$1456",typeString:"contract PredictionMarketSystem"},typeName:{contractScope:null,id:1984,name:"PredictionMarketSystem",nodeType:"UserDefinedTypeName",referencedDeclaration:1456,src:"984:22:9",typeDescriptions:{typeIdentifier:"t_contract$_PredictionMarketSystem_$1456",typeString:"contract PredictionMarketSystem"}},value:null,visibility:"public"},{constant:!1,id:1987,name:"collateralToken",nodeType:"VariableDeclaration",scope:2963,src:"1028:29:9",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_contract$_IERC20_$5241",typeString:"contract IERC20"},typeName:{contractScope:null,id:1986,name:"IERC20",nodeType:"UserDefinedTypeName",referencedDeclaration:5241,src:"1028:6:9",typeDescriptions:{typeIdentifier:"t_contract$_IERC20_$5241",typeString:"contract IERC20"}},value:null,visibility:"public"},{constant:!1,id:1990,name:"conditionIds",nodeType:"VariableDeclaration",scope:2963,src:"1063:29:9",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage",typeString:"bytes32[]"},typeName:{baseType:{id:1988,name:"bytes32",nodeType:"ElementaryTypeName",src:"1063:7:9",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},id:1989,length:null,nodeType:"ArrayTypeName",src:"1063:9:9",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage_ptr",typeString:"bytes32[]"}},value:null,visibility:"public"},{constant:!1,id:1992,name:"atomicOutcomeSlotCount",nodeType:"VariableDeclaration",scope:2963,src:"1098:34:9",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:1991,name:"uint",nodeType:"ElementaryTypeName",src:"1098:4:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"public"},{constant:!1,id:1994,name:"fee",nodeType:"VariableDeclaration",scope:2963,src:"1138:17:9",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint64",typeString:"uint64"},typeName:{id:1993,name:"uint64",nodeType:"ElementaryTypeName",src:"1138:6:9",typeDescriptions:{typeIdentifier:"t_uint64",typeString:"uint64"}},value:null,visibility:"public"},{constant:!1,id:1996,name:"funding",nodeType:"VariableDeclaration",scope:2963,src:"1161:19:9",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:1995,name:"uint",nodeType:"ElementaryTypeName",src:"1161:4:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"public"},{constant:!1,id:1998,name:"stage",nodeType:"VariableDeclaration",scope:2963,src:"1186:18:9",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_enum$_Stage_$2002",typeString:"enum MarketMaker.Stage"},typeName:{contractScope:null,id:1997,name:"Stage",nodeType:"UserDefinedTypeName",referencedDeclaration:2002,src:"1186:5:9",typeDescriptions:{typeIdentifier:"t_enum$_Stage_$2002",typeString:"enum MarketMaker.Stage"}},value:null,visibility:"public"},{canonicalName:"MarketMaker.Stage",id:2002,members:[{id:1999,name:"Running",nodeType:"EnumValue",src:"1231:7:9"},{id:2e3,name:"Paused",nodeType:"EnumValue",src:"1248:6:9"},{id:2001,name:"Closed",nodeType:"EnumValue",src:"1264:6:9"}],name:"Stage",nodeType:"EnumDefinition",src:"1210:66:9"},{body:{id:2013,nodeType:"Block",src:"1346:97:9",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_enum$_Stage_$2002",typeString:"enum MarketMaker.Stage"},id:2009,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:2007,name:"stage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1998,src:"1409:5:9",typeDescriptions:{typeIdentifier:"t_enum$_Stage_$2002",typeString:"enum MarketMaker.Stage"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,id:2008,name:"_stage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2004,src:"1418:6:9",typeDescriptions:{typeIdentifier:"t_enum$_Stage_$2002",typeString:"enum MarketMaker.Stage"}},src:"1409:15:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"}],id:2006,name:"require",nodeType:"Identifier",overloadedDeclarations:[5278,5279],referencedDeclaration:5278,src:"1401:7:9",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$returns$__$",typeString:"function (bool) pure"}},id:2010,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"1401:24:9",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:2011,nodeType:"ExpressionStatement",src:"1401:24:9"},{id:2012,nodeType:"PlaceholderStatement",src:"1435:1:9"}]},documentation:null,id:2014,name:"atStage",nodeType:"ModifierDefinition",parameters:{id:2005,nodeType:"ParameterList",parameters:[{constant:!1,id:2004,name:"_stage",nodeType:"VariableDeclaration",scope:2014,src:"1332:12:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_enum$_Stage_$2002",typeString:"enum MarketMaker.Stage"},typeName:{contractScope:null,id:2003,name:"Stage",nodeType:"UserDefinedTypeName",referencedDeclaration:2002,src:"1332:5:9",typeDescriptions:{typeIdentifier:"t_enum$_Stage_$2002",typeString:"enum MarketMaker.Stage"}},value:null,visibility:"internal"}],src:"1331:14:9"},src:"1315:128:9",visibility:"internal"},{body:{id:2132,nodeType:"Block",src:"1626:838:9",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_bool",typeString:"bool"},id:2041,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,commonType:{typeIdentifier:"t_address",typeString:"address"},id:2037,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,arguments:[{argumentTypes:null,id:2032,name:"_pmSystem",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2016,src:"1679:9:9",typeDescriptions:{typeIdentifier:"t_contract$_PredictionMarketSystem_$1456",typeString:"contract PredictionMarketSystem"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_PredictionMarketSystem_$1456",typeString:"contract PredictionMarketSystem"}],id:2031,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"1671:7:9",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:2033,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"1671:18:9",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},nodeType:"BinaryOperation",operator:"!=",rightExpression:{argumentTypes:null,arguments:[{argumentTypes:null,hexValue:"30",id:2035,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"1701:1:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"}],expression:{argumentTypes:[{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"}],id:2034,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"1693:7:9",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:2036,isConstant:!1,isLValue:!1,isPure:!0,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"1693:10:9",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},src:"1671:32:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},nodeType:"BinaryOperation",operator:"&&",rightExpression:{argumentTypes:null,commonType:{typeIdentifier:"t_uint64",typeString:"uint64"},id:2040,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:2038,name:"_fee",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2023,src:"1707:4:9",typeDescriptions:{typeIdentifier:"t_uint64",typeString:"uint64"}},nodeType:"BinaryOperation",operator:"<",rightExpression:{argumentTypes:null,id:2039,name:"FEE_RANGE",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1950,src:"1714:9:9",typeDescriptions:{typeIdentifier:"t_uint64",typeString:"uint64"}},src:"1707:16:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},src:"1671:52:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"}],id:2030,name:"require",nodeType:"Identifier",overloadedDeclarations:[5278,5279],referencedDeclaration:5278,src:"1663:7:9",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$returns$__$",typeString:"function (bool) pure"}},id:2042,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"1663:61:9",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:2043,nodeType:"ExpressionStatement",src:"1663:61:9"},{expression:{argumentTypes:null,id:2046,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,id:2044,name:"pmSystem",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1985,src:"1734:8:9",typeDescriptions:{typeIdentifier:"t_contract$_PredictionMarketSystem_$1456",typeString:"contract PredictionMarketSystem"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,id:2045,name:"_pmSystem",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2016,src:"1745:9:9",typeDescriptions:{typeIdentifier:"t_contract$_PredictionMarketSystem_$1456",typeString:"contract PredictionMarketSystem"}},src:"1734:20:9",typeDescriptions:{typeIdentifier:"t_contract$_PredictionMarketSystem_$1456",typeString:"contract PredictionMarketSystem"}},id:2047,nodeType:"ExpressionStatement",src:"1734:20:9"},{expression:{argumentTypes:null,id:2050,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,id:2048,name:"collateralToken",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1987,src:"1764:15:9",typeDescriptions:{typeIdentifier:"t_contract$_IERC20_$5241",typeString:"contract IERC20"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,id:2049,name:"_collateralToken",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2018,src:"1782:16:9",typeDescriptions:{typeIdentifier:"t_contract$_IERC20_$5241",typeString:"contract IERC20"}},src:"1764:34:9",typeDescriptions:{typeIdentifier:"t_contract$_IERC20_$5241",typeString:"contract IERC20"}},id:2051,nodeType:"ExpressionStatement",src:"1764:34:9"},{expression:{argumentTypes:null,id:2054,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,id:2052,name:"conditionIds",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1990,src:"1808:12:9",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage",typeString:"bytes32[] storage ref"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,id:2053,name:"_conditionIds",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2021,src:"1823:13:9",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_memory_ptr",typeString:"bytes32[] memory"}},src:"1808:28:9",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage",typeString:"bytes32[] storage ref"}},id:2055,nodeType:"ExpressionStatement",src:"1808:28:9"},{expression:{argumentTypes:null,id:2058,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,id:2056,name:"fee",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1994,src:"1846:3:9",typeDescriptions:{typeIdentifier:"t_uint64",typeString:"uint64"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,id:2057,name:"_fee",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2023,src:"1852:4:9",typeDescriptions:{typeIdentifier:"t_uint64",typeString:"uint64"}},src:"1846:10:9",typeDescriptions:{typeIdentifier:"t_uint64",typeString:"uint64"}},id:2059,nodeType:"ExpressionStatement",src:"1846:10:9"},{expression:{argumentTypes:null,id:2062,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,id:2060,name:"atomicOutcomeSlotCount",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1992,src:"1867:22:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,hexValue:"31",id:2061,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"1892:1:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_1_by_1",typeString:"int_const 1"},value:"1"},src:"1867:26:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:2063,nodeType:"ExpressionStatement",src:"1867:26:9"},{body:{id:2084,nodeType:"Block",src:"1950:96:9",statements:[{expression:{argumentTypes:null,id:2082,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,id:2075,name:"atomicOutcomeSlotCount",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1992,src:"1964:22:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"*=",rightHandSide:{argumentTypes:null,arguments:[{argumentTypes:null,baseExpression:{argumentTypes:null,id:2078,name:"conditionIds",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1990,src:"2019:12:9",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage",typeString:"bytes32[] storage ref"}},id:2080,indexExpression:{argumentTypes:null,id:2079,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2065,src:"2032:1:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"2019:15:9",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes32",typeString:"bytes32"}],expression:{argumentTypes:null,id:2076,name:"pmSystem",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1985,src:"1990:8:9",typeDescriptions:{typeIdentifier:"t_contract$_PredictionMarketSystem_$1456",typeString:"contract PredictionMarketSystem"}},id:2077,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"getOutcomeSlotCount",nodeType:"MemberAccess",referencedDeclaration:1427,src:"1990:28:9",typeDescriptions:{typeIdentifier:"t_function_external_view$_t_bytes32_$returns$_t_uint256_$",typeString:"function (bytes32) view external returns (uint256)"}},id:2081,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"1990:45:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"1964:71:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:2083,nodeType:"ExpressionStatement",src:"1964:71:9"}]},condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:2071,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:2068,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2065,src:"1920:1:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"<",rightExpression:{argumentTypes:null,expression:{argumentTypes:null,id:2069,name:"conditionIds",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1990,src:"1924:12:9",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage",typeString:"bytes32[] storage ref"}},id:2070,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,memberName:"length",nodeType:"MemberAccess",referencedDeclaration:null,src:"1924:19:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"1920:23:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},id:2085,initializationExpression:{assignments:[2065],declarations:[{constant:!1,id:2065,name:"i",nodeType:"VariableDeclaration",scope:2085,src:"1908:6:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:2064,name:"uint",nodeType:"ElementaryTypeName",src:"1908:4:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:2067,initialValue:{argumentTypes:null,hexValue:"30",id:2066,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"1917:1:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},nodeType:"VariableDeclarationStatement",src:"1908:10:9"},loopExpression:{expression:{argumentTypes:null,id:2073,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,nodeType:"UnaryOperation",operator:"++",prefix:!1,src:"1945:3:9",subExpression:{argumentTypes:null,id:2072,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2065,src:"1945:1:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:2074,nodeType:"ExpressionStatement",src:"1945:3:9"},nodeType:"ForStatement",src:"1903:143:9"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:2089,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:2087,name:"atomicOutcomeSlotCount",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1992,src:"2063:22:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:">",rightExpression:{argumentTypes:null,hexValue:"31",id:2088,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"2088:1:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_1_by_1",typeString:"int_const 1"},value:"1"},src:"2063:26:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"636f6e646974696f6e73206d7573742062652076616c6964",id:2090,isConstant:!1,isLValue:!1,isPure:!0,kind:"string",lValueRequested:!1,nodeType:"Literal",src:"2091:26:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_cd148311b7911b4ee79dcdb6c43a5e3ce4b2c17323005884872aa057fa3bf785",typeString:'literal_string "conditions must be valid"'},value:"conditions must be valid"}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_cd148311b7911b4ee79dcdb6c43a5e3ce4b2c17323005884872aa057fa3bf785",typeString:'literal_string "conditions must be valid"'}],id:2086,name:"require",nodeType:"Identifier",overloadedDeclarations:[5278,5279],referencedDeclaration:5279,src:"2055:7:9",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:2091,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"2055:63:9",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:2092,nodeType:"ExpressionStatement",src:"2055:63:9"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_bool",typeString:"bool"},id:2109,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,arguments:[{argumentTypes:null,id:2096,name:"marketOwner",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2027,src:"2166:11:9",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,arguments:[{argumentTypes:null,id:2098,name:"this",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:5312,src:"2187:4:9",typeDescriptions:{typeIdentifier:"t_contract$_MarketMaker_$2963",typeString:"contract MarketMaker"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_MarketMaker_$2963",typeString:"contract MarketMaker"}],id:2097,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"2179:7:9",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:2099,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"2179:13:9",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:2100,name:"initialFunding",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2025,src:"2194:14:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:2094,name:"collateralToken",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1987,src:"2137:15:9",typeDescriptions:{typeIdentifier:"t_contract$_IERC20_$5241",typeString:"contract IERC20"}},id:2095,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"transferFrom",nodeType:"MemberAccess",referencedDeclaration:5224,src:"2137:28:9",typeDescriptions:{typeIdentifier:"t_function_external_nonpayable$_t_address_$_t_address_$_t_uint256_$returns$_t_bool_$",typeString:"function (address,address,uint256) external returns (bool)"}},id:2101,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"2137:72:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},nodeType:"BinaryOperation",operator:"&&",rightExpression:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:2105,name:"pmSystem",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1985,src:"2245:8:9",typeDescriptions:{typeIdentifier:"t_contract$_PredictionMarketSystem_$1456",typeString:"contract PredictionMarketSystem"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_PredictionMarketSystem_$1456",typeString:"contract PredictionMarketSystem"}],id:2104,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"2237:7:9",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:2106,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"2237:17:9",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:2107,name:"initialFunding",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2025,src:"2256:14:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:2102,name:"collateralToken",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1987,src:"2213:15:9",typeDescriptions:{typeIdentifier:"t_contract$_IERC20_$5241",typeString:"contract IERC20"}},id:2103,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"approve",nodeType:"MemberAccess",referencedDeclaration:5213,src:"2213:23:9",typeDescriptions:{typeIdentifier:"t_function_external_nonpayable$_t_address_$_t_uint256_$returns$_t_bool_$",typeString:"function (address,uint256) external returns (bool)"}},id:2108,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"2213:58:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},src:"2137:134:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"}],id:2093,name:"require",nodeType:"Identifier",overloadedDeclarations:[5278,5279],referencedDeclaration:5278,src:"2129:7:9",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$returns$__$",typeString:"function (bool) pure"}},id:2110,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"2129:143:9",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:2111,nodeType:"ExpressionStatement",src:"2129:143:9"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:2113,name:"initialFunding",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2025,src:"2317:14:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,expression:{argumentTypes:null,id:2114,name:"conditionIds",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1990,src:"2333:12:9",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage",typeString:"bytes32[] storage ref"}},id:2115,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,memberName:"length",nodeType:"MemberAccess",referencedDeclaration:null,src:"2333:19:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,hexValue:"30",id:2116,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"2354:1:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"}],id:2112,name:"splitPositionThroughAllConditions",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2887,src:"2283:33:9",typeDescriptions:{typeIdentifier:"t_function_internal_nonpayable$_t_uint256_$_t_uint256_$_t_uint256_$returns$__$",typeString:"function (uint256,uint256,uint256)"}},id:2117,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"2283:73:9",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:2118,nodeType:"ExpressionStatement",src:"2283:73:9"},{expression:{argumentTypes:null,id:2121,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,id:2119,name:"funding",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1996,src:"2367:7:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,id:2120,name:"initialFunding",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2025,src:"2377:14:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"2367:24:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:2122,nodeType:"ExpressionStatement",src:"2367:24:9"},{expression:{argumentTypes:null,id:2126,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,id:2123,name:"stage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1998,src:"2402:5:9",typeDescriptions:{typeIdentifier:"t_enum$_Stage_$2002",typeString:"enum MarketMaker.Stage"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,expression:{argumentTypes:null,id:2124,name:"Stage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2002,src:"2410:5:9",typeDescriptions:{typeIdentifier:"t_type$_t_enum$_Stage_$2002_$",typeString:"type(enum MarketMaker.Stage)"}},id:2125,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,memberName:"Running",nodeType:"MemberAccess",referencedDeclaration:null,src:"2410:13:9",typeDescriptions:{typeIdentifier:"t_enum$_Stage_$2002",typeString:"enum MarketMaker.Stage"}},src:"2402:21:9",typeDescriptions:{typeIdentifier:"t_enum$_Stage_$2002",typeString:"enum MarketMaker.Stage"}},id:2127,nodeType:"ExpressionStatement",src:"2402:21:9"},{eventCall:{argumentTypes:null,arguments:[{argumentTypes:null,id:2129,name:"funding",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1996,src:"2449:7:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],id:2128,name:"AMMCreated",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1954,src:"2438:10:9",typeDescriptions:{typeIdentifier:"t_function_event_nonpayable$_t_uint256_$returns$__$",typeString:"function (uint256)"}},id:2130,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"2438:19:9",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:2131,nodeType:"EmitStatement",src:"2433:24:9"}]},documentation:null,id:2133,implemented:!0,kind:"constructor",modifiers:[],name:"",nodeType:"FunctionDefinition",parameters:{id:2028,nodeType:"ParameterList",parameters:[{constant:!1,id:2016,name:"_pmSystem",nodeType:"VariableDeclaration",scope:2133,src:"1461:32:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_contract$_PredictionMarketSystem_$1456",typeString:"contract PredictionMarketSystem"},typeName:{contractScope:null,id:2015,name:"PredictionMarketSystem",nodeType:"UserDefinedTypeName",referencedDeclaration:1456,src:"1461:22:9",typeDescriptions:{typeIdentifier:"t_contract$_PredictionMarketSystem_$1456",typeString:"contract PredictionMarketSystem"}},value:null,visibility:"internal"},{constant:!1,id:2018,name:"_collateralToken",nodeType:"VariableDeclaration",scope:2133,src:"1495:23:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_contract$_IERC20_$5241",typeString:"contract IERC20"},typeName:{contractScope:null,id:2017,name:"IERC20",nodeType:"UserDefinedTypeName",referencedDeclaration:5241,src:"1495:6:9",typeDescriptions:{typeIdentifier:"t_contract$_IERC20_$5241",typeString:"contract IERC20"}},value:null,visibility:"internal"},{constant:!1,id:2021,name:"_conditionIds",nodeType:"VariableDeclaration",scope:2133,src:"1520:30:9",stateVariable:!1,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_memory_ptr",typeString:"bytes32[]"},typeName:{baseType:{id:2019,name:"bytes32",nodeType:"ElementaryTypeName",src:"1520:7:9",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},id:2020,length:null,nodeType:"ArrayTypeName",src:"1520:9:9",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage_ptr",typeString:"bytes32[]"}},value:null,visibility:"internal"},{constant:!1,id:2023,name:"_fee",nodeType:"VariableDeclaration",scope:2133,src:"1552:11:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint64",typeString:"uint64"},typeName:{id:2022,name:"uint64",nodeType:"ElementaryTypeName",src:"1552:6:9",typeDescriptions:{typeIdentifier:"t_uint64",typeString:"uint64"}},value:null,visibility:"internal"},{constant:!1,id:2025,name:"initialFunding",nodeType:"VariableDeclaration",scope:2133,src:"1565:19:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:2024,name:"uint",nodeType:"ElementaryTypeName",src:"1565:4:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:!1,id:2027,name:"marketOwner",nodeType:"VariableDeclaration",scope:2133,src:"1586:19:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:2026,name:"address",nodeType:"ElementaryTypeName",src:"1586:7:9",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"}],src:"1460:146:9"},returnParameters:{id:2029,nodeType:"ParameterList",parameters:[],src:"1626:0:9"},scope:2963,src:"1449:1015:9",stateMutability:"nonpayable",superFunction:null,visibility:"public"},{body:null,documentation:null,id:2141,implemented:!1,kind:"function",modifiers:[],name:"calcNetCost",nodeType:"FunctionDefinition",parameters:{id:2137,nodeType:"ParameterList",parameters:[{constant:!1,id:2136,name:"outcomeTokenAmounts",nodeType:"VariableDeclaration",scope:2141,src:"2491:32:9",stateVariable:!1,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_array$_t_int256_$dyn_memory_ptr",typeString:"int256[]"},typeName:{baseType:{id:2134,name:"int",nodeType:"ElementaryTypeName",src:"2491:3:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},id:2135,length:null,nodeType:"ArrayTypeName",src:"2491:5:9",typeDescriptions:{typeIdentifier:"t_array$_t_int256_$dyn_storage_ptr",typeString:"int256[]"}},value:null,visibility:"internal"}],src:"2490:34:9"},returnParameters:{id:2140,nodeType:"ParameterList",parameters:[{constant:!1,id:2139,name:"netCost",nodeType:"VariableDeclaration",scope:2141,src:"2546:11:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"},typeName:{id:2138,name:"int",nodeType:"ElementaryTypeName",src:"2546:3:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},value:null,visibility:"internal"}],src:"2545:13:9"},scope:2963,src:"2470:89:9",stateMutability:"view",superFunction:null,visibility:"public"},{body:{id:2251,nodeType:"Block",src:"2923:965:9",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_int256",typeString:"int256"},id:2155,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:2153,name:"fundingChange",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2143,src:"2941:13:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},nodeType:"BinaryOperation",operator:"!=",rightExpression:{argumentTypes:null,hexValue:"30",id:2154,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"2958:1:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"2941:18:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"412066756e64696e674368616e6765206f66207a65726f206973206e6f7420612066756e64696e674368616e676520617420616c6c2e20497420697320756e61636365707461626c652e",id:2156,isConstant:!1,isLValue:!1,isPure:!0,kind:"string",lValueRequested:!1,nodeType:"Literal",src:"2961:76:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_8b0abfd0a6a26cf9e76f3923f83612ab8d81fdb0309d6dce5760bf580777c1fc",typeString:'literal_string "A fundingChange of zero is not a fundingChange at all. It is unacceptable."'},value:"A fundingChange of zero is not a fundingChange at all. It is unacceptable."}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_8b0abfd0a6a26cf9e76f3923f83612ab8d81fdb0309d6dce5760bf580777c1fc",typeString:'literal_string "A fundingChange of zero is not a fundingChange at all. It is unacceptable."'}],id:2152,name:"require",nodeType:"Identifier",overloadedDeclarations:[5278,5279],referencedDeclaration:5279,src:"2933:7:9",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:2157,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"2933:105:9",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:2158,nodeType:"ExpressionStatement",src:"2933:105:9"},{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_int256",typeString:"int256"},id:2161,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:2159,name:"fundingChange",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2143,src:"3164:13:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},nodeType:"BinaryOperation",operator:">",rightExpression:{argumentTypes:null,hexValue:"30",id:2160,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"3180:1:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"3164:17:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:null,id:2209,nodeType:"IfStatement",src:"3160:399:9",trueBody:{id:2208,nodeType:"Block",src:"3183:376:9",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_bool",typeString:"bool"},id:2183,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:2165,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:5275,src:"3234:3:9",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:2166,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"3234:10:9",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},{argumentTypes:null,arguments:[{argumentTypes:null,id:2168,name:"this",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:5312,src:"3254:4:9",typeDescriptions:{typeIdentifier:"t_contract$_MarketMaker_$2963",typeString:"contract MarketMaker"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_MarketMaker_$2963",typeString:"contract MarketMaker"}],id:2167,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"3246:7:9",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:2169,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"3246:13:9",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,arguments:[{argumentTypes:null,id:2171,name:"fundingChange",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2143,src:"3266:13:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}}],expression:{argumentTypes:[{typeIdentifier:"t_int256",typeString:"int256"}],id:2170,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"3261:4:9",typeDescriptions:{typeIdentifier:"t_type$_t_uint256_$",typeString:"type(uint256)"},typeName:"uint"},id:2172,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"3261:19:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address_payable",typeString:"address payable"},{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:2163,name:"collateralToken",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1987,src:"3205:15:9",typeDescriptions:{typeIdentifier:"t_contract$_IERC20_$5241",typeString:"contract IERC20"}},id:2164,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"transferFrom",nodeType:"MemberAccess",referencedDeclaration:5224,src:"3205:28:9",typeDescriptions:{typeIdentifier:"t_function_external_nonpayable$_t_address_$_t_address_$_t_uint256_$returns$_t_bool_$",typeString:"function (address,address,uint256) external returns (bool)"}},id:2173,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"3205:76:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},nodeType:"BinaryOperation",operator:"&&",rightExpression:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:2177,name:"pmSystem",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1985,src:"3317:8:9",typeDescriptions:{typeIdentifier:"t_contract$_PredictionMarketSystem_$1456",typeString:"contract PredictionMarketSystem"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_PredictionMarketSystem_$1456",typeString:"contract PredictionMarketSystem"}],id:2176,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"3309:7:9",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:2178,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"3309:17:9",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,arguments:[{argumentTypes:null,id:2180,name:"fundingChange",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2143,src:"3333:13:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}}],expression:{argumentTypes:[{typeIdentifier:"t_int256",typeString:"int256"}],id:2179,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"3328:4:9",typeDescriptions:{typeIdentifier:"t_type$_t_uint256_$",typeString:"type(uint256)"},typeName:"uint"},id:2181,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"3328:19:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:2174,name:"collateralToken",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1987,src:"3285:15:9",typeDescriptions:{typeIdentifier:"t_contract$_IERC20_$5241",typeString:"contract IERC20"}},id:2175,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"approve",nodeType:"MemberAccess",referencedDeclaration:5213,src:"3285:23:9",typeDescriptions:{typeIdentifier:"t_function_external_nonpayable$_t_address_$_t_uint256_$returns$_t_bool_$",typeString:"function (address,uint256) external returns (bool)"}},id:2182,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"3285:63:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},src:"3205:143:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"}],id:2162,name:"require",nodeType:"Identifier",overloadedDeclarations:[5278,5279],referencedDeclaration:5278,src:"3197:7:9",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$returns$__$",typeString:"function (bool) pure"}},id:2184,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"3197:152:9",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:2185,nodeType:"ExpressionStatement",src:"3197:152:9"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:2188,name:"fundingChange",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2143,src:"3402:13:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}}],expression:{argumentTypes:[{typeIdentifier:"t_int256",typeString:"int256"}],id:2187,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"3397:4:9",typeDescriptions:{typeIdentifier:"t_type$_t_uint256_$",typeString:"type(uint256)"},typeName:"uint"},id:2189,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"3397:19:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,expression:{argumentTypes:null,id:2190,name:"conditionIds",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1990,src:"3418:12:9",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage",typeString:"bytes32[] storage ref"}},id:2191,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,memberName:"length",nodeType:"MemberAccess",referencedDeclaration:null,src:"3418:19:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,hexValue:"30",id:2192,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"3439:1:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"}],id:2186,name:"splitPositionThroughAllConditions",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2887,src:"3363:33:9",typeDescriptions:{typeIdentifier:"t_function_internal_nonpayable$_t_uint256_$_t_uint256_$_t_uint256_$returns$__$",typeString:"function (uint256,uint256,uint256)"}},id:2193,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"3363:78:9",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:2194,nodeType:"ExpressionStatement",src:"3363:78:9"},{expression:{argumentTypes:null,id:2202,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,id:2195,name:"funding",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1996,src:"3455:7:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:2199,name:"fundingChange",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2143,src:"3482:13:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}}],expression:{argumentTypes:[{typeIdentifier:"t_int256",typeString:"int256"}],id:2198,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"3477:4:9",typeDescriptions:{typeIdentifier:"t_type$_t_uint256_$",typeString:"type(uint256)"},typeName:"uint"},id:2200,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"3477:19:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:2196,name:"funding",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1996,src:"3465:7:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:2197,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"add",nodeType:"MemberAccess",referencedDeclaration:5042,src:"3465:11:9",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:2201,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"3465:32:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"3455:42:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:2203,nodeType:"ExpressionStatement",src:"3455:42:9"},{eventCall:{argumentTypes:null,arguments:[{argumentTypes:null,id:2205,name:"fundingChange",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2143,src:"3534:13:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}}],expression:{argumentTypes:[{typeIdentifier:"t_int256",typeString:"int256"}],id:2204,name:"AMMFundingChanged",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1964,src:"3516:17:9",typeDescriptions:{typeIdentifier:"t_function_event_nonpayable$_t_int256_$returns$__$",typeString:"function (int256)"}},id:2206,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"3516:32:9",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:2207,nodeType:"EmitStatement",src:"3511:37:9"}]}},{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_int256",typeString:"int256"},id:2212,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:2210,name:"fundingChange",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2143,src:"3572:13:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},nodeType:"BinaryOperation",operator:"<",rightExpression:{argumentTypes:null,hexValue:"30",id:2211,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"3588:1:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"3572:17:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:null,id:2250,nodeType:"IfStatement",src:"3568:314:9",trueBody:{id:2249,nodeType:"Block",src:"3591:291:9",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:2216,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,nodeType:"UnaryOperation",operator:"-",prefix:!0,src:"3645:14:9",subExpression:{argumentTypes:null,id:2215,name:"fundingChange",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2143,src:"3646:13:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}}],expression:{argumentTypes:[{typeIdentifier:"t_int256",typeString:"int256"}],id:2214,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"3640:4:9",typeDescriptions:{typeIdentifier:"t_type$_t_uint256_$",typeString:"type(uint256)"},typeName:"uint"},id:2217,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"3640:20:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,expression:{argumentTypes:null,id:2218,name:"conditionIds",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1990,src:"3662:12:9",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage",typeString:"bytes32[] storage ref"}},id:2219,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,memberName:"length",nodeType:"MemberAccess",referencedDeclaration:null,src:"3662:19:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,hexValue:"30",id:2220,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"3683:1:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"}],id:2213,name:"mergePositionsThroughAllConditions",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2962,src:"3605:34:9",typeDescriptions:{typeIdentifier:"t_function_internal_nonpayable$_t_uint256_$_t_uint256_$_t_uint256_$returns$__$",typeString:"function (uint256,uint256,uint256)"}},id:2221,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"3605:80:9",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:2222,nodeType:"ExpressionStatement",src:"3605:80:9"},{expression:{argumentTypes:null,id:2231,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,id:2223,name:"funding",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1996,src:"3699:7:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:2228,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,nodeType:"UnaryOperation",operator:"-",prefix:!0,src:"3726:14:9",subExpression:{argumentTypes:null,id:2227,name:"fundingChange",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2143,src:"3727:13:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}}],expression:{argumentTypes:[{typeIdentifier:"t_int256",typeString:"int256"}],id:2226,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"3721:4:9",typeDescriptions:{typeIdentifier:"t_type$_t_uint256_$",typeString:"type(uint256)"},typeName:"uint"},id:2229,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"3721:20:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:2224,name:"funding",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1996,src:"3709:7:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:2225,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"sub",nodeType:"MemberAccess",referencedDeclaration:5018,src:"3709:11:9",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:2230,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"3709:33:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"3699:43:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:2232,nodeType:"ExpressionStatement",src:"3699:43:9"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[],expression:{argumentTypes:[],id:2236,name:"owner",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:5097,src:"3789:5:9",typeDescriptions:{typeIdentifier:"t_function_internal_view$__$returns$_t_address_$",typeString:"function () view returns (address)"}},id:2237,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"3789:7:9",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,arguments:[{argumentTypes:null,id:2240,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,nodeType:"UnaryOperation",operator:"-",prefix:!0,src:"3803:14:9",subExpression:{argumentTypes:null,id:2239,name:"fundingChange",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2143,src:"3804:13:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}}],expression:{argumentTypes:[{typeIdentifier:"t_int256",typeString:"int256"}],id:2238,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"3798:4:9",typeDescriptions:{typeIdentifier:"t_type$_t_uint256_$",typeString:"type(uint256)"},typeName:"uint"},id:2241,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"3798:20:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:2234,name:"collateralToken",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1987,src:"3764:15:9",typeDescriptions:{typeIdentifier:"t_contract$_IERC20_$5241",typeString:"contract IERC20"}},id:2235,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"transfer",nodeType:"MemberAccess",referencedDeclaration:5204,src:"3764:24:9",typeDescriptions:{typeIdentifier:"t_function_external_nonpayable$_t_address_$_t_uint256_$returns$_t_bool_$",typeString:"function (address,uint256) external returns (bool)"}},id:2242,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"3764:55:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"}],id:2233,name:"require",nodeType:"Identifier",overloadedDeclarations:[5278,5279],referencedDeclaration:5278,src:"3756:7:9",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$returns$__$",typeString:"function (bool) pure"}},id:2243,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"3756:64:9",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:2244,nodeType:"ExpressionStatement",src:"3756:64:9"},{eventCall:{argumentTypes:null,arguments:[{argumentTypes:null,id:2246,name:"fundingChange",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2143,src:"3857:13:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}}],expression:{argumentTypes:[{typeIdentifier:"t_int256",typeString:"int256"}],id:2245,name:"AMMFundingChanged",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1964,src:"3839:17:9",typeDescriptions:{typeIdentifier:"t_function_event_nonpayable$_t_int256_$returns$__$",typeString:"function (int256)"}},id:2247,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"3839:32:9",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:2248,nodeType:"EmitStatement",src:"3834:37:9"}]}}]},documentation:"@dev Allows to fund the market with collateral tokens converting them into outcome tokens\n Note for the future: should combine splitPosition and mergePositions into one function, as code duplication causes things like this to happen.",id:2252,implemented:!0,kind:"function",modifiers:[{arguments:null,id:2146,modifierName:{argumentTypes:null,id:2145,name:"onlyOwner",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:5106,src:"2879:9:9",typeDescriptions:{typeIdentifier:"t_modifier$__$",typeString:"modifier ()"}},nodeType:"ModifierInvocation",src:"2879:9:9"},{arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:2148,name:"Stage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2002,src:"2905:5:9",typeDescriptions:{typeIdentifier:"t_type$_t_enum$_Stage_$2002_$",typeString:"type(enum MarketMaker.Stage)"}},id:2149,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,memberName:"Paused",nodeType:"MemberAccess",referencedDeclaration:null,src:"2905:12:9",typeDescriptions:{typeIdentifier:"t_enum$_Stage_$2002",typeString:"enum MarketMaker.Stage"}}],id:2150,modifierName:{argumentTypes:null,id:2147,name:"atStage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2014,src:"2897:7:9",typeDescriptions:{typeIdentifier:"t_modifier$_t_enum$_Stage_$2002_$",typeString:"modifier (enum MarketMaker.Stage)"}},nodeType:"ModifierInvocation",src:"2897:21:9"}],name:"changeFunding",nodeType:"FunctionDefinition",parameters:{id:2144,nodeType:"ParameterList",parameters:[{constant:!1,id:2143,name:"fundingChange",nodeType:"VariableDeclaration",scope:2252,src:"2837:17:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"},typeName:{id:2142,name:"int",nodeType:"ElementaryTypeName",src:"2837:3:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},value:null,visibility:"internal"}],src:"2836:19:9"},returnParameters:{id:2151,nodeType:"ParameterList",parameters:[],src:"2923:0:9"},scope:2963,src:"2814:1074:9",stateMutability:"nonpayable",superFunction:null,visibility:"public"},{body:{id:2269,nodeType:"Block",src:"3951:63:9",statements:[{expression:{argumentTypes:null,id:2264,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,id:2261,name:"stage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1998,src:"3961:5:9",typeDescriptions:{typeIdentifier:"t_enum$_Stage_$2002",typeString:"enum MarketMaker.Stage"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,expression:{argumentTypes:null,id:2262,name:"Stage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2002,src:"3969:5:9",typeDescriptions:{typeIdentifier:"t_type$_t_enum$_Stage_$2002_$",typeString:"type(enum MarketMaker.Stage)"}},id:2263,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,memberName:"Paused",nodeType:"MemberAccess",referencedDeclaration:null,src:"3969:12:9",typeDescriptions:{typeIdentifier:"t_enum$_Stage_$2002",typeString:"enum MarketMaker.Stage"}},src:"3961:20:9",typeDescriptions:{typeIdentifier:"t_enum$_Stage_$2002",typeString:"enum MarketMaker.Stage"}},id:2265,nodeType:"ExpressionStatement",src:"3961:20:9"},{eventCall:{argumentTypes:null,arguments:[],expression:{argumentTypes:[],id:2266,name:"AMMPaused",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1956,src:"3996:9:9",typeDescriptions:{typeIdentifier:"t_function_event_nonpayable$__$returns$__$",typeString:"function ()"}},id:2267,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"3996:11:9",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:2268,nodeType:"EmitStatement",src:"3991:16:9"}]},documentation:null,id:2270,implemented:!0,kind:"function",modifiers:[{arguments:null,id:2255,modifierName:{argumentTypes:null,id:2254,name:"onlyOwner",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:5106,src:"3918:9:9",typeDescriptions:{typeIdentifier:"t_modifier$__$",typeString:"modifier ()"}},nodeType:"ModifierInvocation",src:"3918:9:9"},{arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:2257,name:"Stage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2002,src:"3936:5:9",typeDescriptions:{typeIdentifier:"t_type$_t_enum$_Stage_$2002_$",typeString:"type(enum MarketMaker.Stage)"}},id:2258,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,memberName:"Running",nodeType:"MemberAccess",referencedDeclaration:null,src:"3936:13:9",typeDescriptions:{typeIdentifier:"t_enum$_Stage_$2002",typeString:"enum MarketMaker.Stage"}}],id:2259,modifierName:{argumentTypes:null,id:2256,name:"atStage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2014,src:"3928:7:9",typeDescriptions:{typeIdentifier:"t_modifier$_t_enum$_Stage_$2002_$",typeString:"modifier (enum MarketMaker.Stage)"}},nodeType:"ModifierInvocation",src:"3928:22:9"}],name:"pause",nodeType:"FunctionDefinition",parameters:{id:2253,nodeType:"ParameterList",parameters:[],src:"3908:2:9"},returnParameters:{id:2260,nodeType:"ParameterList",parameters:[],src:"3951:0:9"},scope:2963,src:"3894:120:9",stateMutability:"nonpayable",superFunction:null,visibility:"public"},{body:{id:2287,nodeType:"Block",src:"4081:65:9",statements:[{expression:{argumentTypes:null,id:2282,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,id:2279,name:"stage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1998,src:"4091:5:9",typeDescriptions:{typeIdentifier:"t_enum$_Stage_$2002",typeString:"enum MarketMaker.Stage"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,expression:{argumentTypes:null,id:2280,name:"Stage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2002,src:"4099:5:9",typeDescriptions:{typeIdentifier:"t_type$_t_enum$_Stage_$2002_$",typeString:"type(enum MarketMaker.Stage)"}},id:2281,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,memberName:"Running",nodeType:"MemberAccess",referencedDeclaration:null,src:"4099:13:9",typeDescriptions:{typeIdentifier:"t_enum$_Stage_$2002",typeString:"enum MarketMaker.Stage"}},src:"4091:21:9",typeDescriptions:{typeIdentifier:"t_enum$_Stage_$2002",typeString:"enum MarketMaker.Stage"}},id:2283,nodeType:"ExpressionStatement",src:"4091:21:9"},{eventCall:{argumentTypes:null,arguments:[],expression:{argumentTypes:[],id:2284,name:"AMMResumed",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1958,src:"4127:10:9",typeDescriptions:{typeIdentifier:"t_function_event_nonpayable$__$returns$__$",typeString:"function ()"}},id:2285,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"4127:12:9",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:2286,nodeType:"EmitStatement",src:"4122:17:9"}]},documentation:null,id:2288,implemented:!0,kind:"function",modifiers:[{arguments:null,id:2273,modifierName:{argumentTypes:null,id:2272,name:"onlyOwner",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:5106,src:"4049:9:9",typeDescriptions:{typeIdentifier:"t_modifier$__$",typeString:"modifier ()"}},nodeType:"ModifierInvocation",src:"4049:9:9"},{arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:2275,name:"Stage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2002,src:"4067:5:9",typeDescriptions:{typeIdentifier:"t_type$_t_enum$_Stage_$2002_$",typeString:"type(enum MarketMaker.Stage)"}},id:2276,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,memberName:"Paused",nodeType:"MemberAccess",referencedDeclaration:null,src:"4067:12:9",typeDescriptions:{typeIdentifier:"t_enum$_Stage_$2002",typeString:"enum MarketMaker.Stage"}}],id:2277,modifierName:{argumentTypes:null,id:2274,name:"atStage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2014,src:"4059:7:9",typeDescriptions:{typeIdentifier:"t_modifier$_t_enum$_Stage_$2002_$",typeString:"modifier (enum MarketMaker.Stage)"}},nodeType:"ModifierInvocation",src:"4059:21:9"}],name:"resume",nodeType:"FunctionDefinition",parameters:{id:2271,nodeType:"ParameterList",parameters:[],src:"4039:2:9"},returnParameters:{id:2278,nodeType:"ParameterList",parameters:[],src:"4081:0:9"},scope:2963,src:"4024:122:9",stateMutability:"nonpayable",superFunction:null,visibility:"public"},{body:{id:2307,nodeType:"Block",src:"4223:60:9",statements:[{expression:{argumentTypes:null,id:2301,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,id:2299,name:"fee",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1994,src:"4233:3:9",typeDescriptions:{typeIdentifier:"t_uint64",typeString:"uint64"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,id:2300,name:"_fee",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2290,src:"4239:4:9",typeDescriptions:{typeIdentifier:"t_uint64",typeString:"uint64"}},src:"4233:10:9",typeDescriptions:{typeIdentifier:"t_uint64",typeString:"uint64"}},id:2302,nodeType:"ExpressionStatement",src:"4233:10:9"},{eventCall:{argumentTypes:null,arguments:[{argumentTypes:null,id:2304,name:"fee",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1994,src:"4272:3:9",typeDescriptions:{typeIdentifier:"t_uint64",typeString:"uint64"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint64",typeString:"uint64"}],id:2303,name:"AMMFeeChanged",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1968,src:"4258:13:9",typeDescriptions:{typeIdentifier:"t_function_event_nonpayable$_t_uint64_$returns$__$",typeString:"function (uint64)"}},id:2305,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"4258:18:9",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:2306,nodeType:"EmitStatement",src:"4253:23:9"}]},documentation:null,id:2308,implemented:!0,kind:"function",modifiers:[{arguments:null,id:2293,modifierName:{argumentTypes:null,id:2292,name:"onlyOwner",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:5106,src:"4191:9:9",typeDescriptions:{typeIdentifier:"t_modifier$__$",typeString:"modifier ()"}},nodeType:"ModifierInvocation",src:"4191:9:9"},{arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:2295,name:"Stage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2002,src:"4209:5:9",typeDescriptions:{typeIdentifier:"t_type$_t_enum$_Stage_$2002_$",typeString:"type(enum MarketMaker.Stage)"}},id:2296,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,memberName:"Paused",nodeType:"MemberAccess",referencedDeclaration:null,src:"4209:12:9",typeDescriptions:{typeIdentifier:"t_enum$_Stage_$2002",typeString:"enum MarketMaker.Stage"}}],id:2297,modifierName:{argumentTypes:null,id:2294,name:"atStage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2014,src:"4201:7:9",typeDescriptions:{typeIdentifier:"t_modifier$_t_enum$_Stage_$2002_$",typeString:"modifier (enum MarketMaker.Stage)"}},nodeType:"ModifierInvocation",src:"4201:21:9"}],name:"changeFee",nodeType:"FunctionDefinition",parameters:{id:2291,nodeType:"ParameterList",parameters:[{constant:!1,id:2290,name:"_fee",nodeType:"VariableDeclaration",scope:2308,src:"4171:11:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint64",typeString:"uint64"},typeName:{id:2289,name:"uint64",nodeType:"ElementaryTypeName",src:"4171:6:9",typeDescriptions:{typeIdentifier:"t_uint64",typeString:"uint64"}},value:null,visibility:"internal"}],src:"4170:13:9"},returnParameters:{id:2298,nodeType:"ParameterList",parameters:[],src:"4223:0:9"},scope:2963,src:"4152:131:9",stateMutability:"nonpayable",superFunction:null,visibility:"public"},{body:{id:2371,nodeType:"Block",src:"4455:423:9",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_bool",typeString:"bool"},id:2322,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,commonType:{typeIdentifier:"t_enum$_Stage_$2002",typeString:"enum MarketMaker.Stage"},id:2317,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:2314,name:"stage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1998,src:"4473:5:9",typeDescriptions:{typeIdentifier:"t_enum$_Stage_$2002",typeString:"enum MarketMaker.Stage"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,expression:{argumentTypes:null,id:2315,name:"Stage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2002,src:"4482:5:9",typeDescriptions:{typeIdentifier:"t_type$_t_enum$_Stage_$2002_$",typeString:"type(enum MarketMaker.Stage)"}},id:2316,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,memberName:"Running",nodeType:"MemberAccess",referencedDeclaration:null,src:"4482:13:9",typeDescriptions:{typeIdentifier:"t_enum$_Stage_$2002",typeString:"enum MarketMaker.Stage"}},src:"4473:22:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},nodeType:"BinaryOperation",operator:"||",rightExpression:{argumentTypes:null,commonType:{typeIdentifier:"t_enum$_Stage_$2002",typeString:"enum MarketMaker.Stage"},id:2321,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:2318,name:"stage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1998,src:"4499:5:9",typeDescriptions:{typeIdentifier:"t_enum$_Stage_$2002",typeString:"enum MarketMaker.Stage"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,expression:{argumentTypes:null,id:2319,name:"Stage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2002,src:"4508:5:9",typeDescriptions:{typeIdentifier:"t_type$_t_enum$_Stage_$2002_$",typeString:"type(enum MarketMaker.Stage)"}},id:2320,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,memberName:"Paused",nodeType:"MemberAccess",referencedDeclaration:null,src:"4508:12:9",typeDescriptions:{typeIdentifier:"t_enum$_Stage_$2002",typeString:"enum MarketMaker.Stage"}},src:"4499:21:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},src:"4473:47:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"54686973204d61726b65742068617320616c7265616479206265656e20636c6f736564",id:2323,isConstant:!1,isLValue:!1,isPure:!0,kind:"string",lValueRequested:!1,nodeType:"Literal",src:"4522:37:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_ce82b757e84d3f085f7655825c68fa1a13fda6cc3913781fbe7409417e74f19c",typeString:'literal_string "This Market has already been closed"'},value:"This Market has already been closed"}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_ce82b757e84d3f085f7655825c68fa1a13fda6cc3913781fbe7409417e74f19c",typeString:'literal_string "This Market has already been closed"'}],id:2313,name:"require",nodeType:"Identifier",overloadedDeclarations:[5278,5279],referencedDeclaration:5279,src:"4465:7:9",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:2324,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"4465:95:9",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:2325,nodeType:"ExpressionStatement",src:"4465:95:9"},{body:{id:2361,nodeType:"Block",src:"4620:196:9",statements:[{assignments:[2337],declarations:[{constant:!1,id:2337,name:"positionId",nodeType:"VariableDeclaration",scope:2361,src:"4634:15:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:2336,name:"uint",nodeType:"ElementaryTypeName",src:"4634:4:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:2341,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:2339,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2327,src:"4677:1:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],id:2338,name:"generateAtomicPositionId",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2812,src:"4652:24:9",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_uint256_$returns$_t_uint256_$",typeString:"function (uint256) view returns (uint256)"}},id:2340,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"4652:27:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"4634:45:9"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:2346,name:"this",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:5312,src:"4727:4:9",typeDescriptions:{typeIdentifier:"t_contract$_MarketMaker_$2963",typeString:"contract MarketMaker"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_MarketMaker_$2963",typeString:"contract MarketMaker"}],id:2345,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"4719:7:9",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:2347,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"4719:13:9",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,arguments:[],expression:{argumentTypes:[],id:2348,name:"owner",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:5097,src:"4734:5:9",typeDescriptions:{typeIdentifier:"t_function_internal_view$__$returns$_t_address_$",typeString:"function () view returns (address)"}},id:2349,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"4734:7:9",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:2350,name:"positionId",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2337,src:"4743:10:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:2354,name:"this",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:5312,src:"4782:4:9",typeDescriptions:{typeIdentifier:"t_contract$_MarketMaker_$2963",typeString:"contract MarketMaker"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_MarketMaker_$2963",typeString:"contract MarketMaker"}],id:2353,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"4774:7:9",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:2355,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"4774:13:9",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:2356,name:"positionId",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2337,src:"4789:10:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:2351,name:"pmSystem",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1985,src:"4755:8:9",typeDescriptions:{typeIdentifier:"t_contract$_PredictionMarketSystem_$1456",typeString:"contract PredictionMarketSystem"}},id:2352,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"balanceOf",nodeType:"MemberAccess",referencedDeclaration:4671,src:"4755:18:9",typeDescriptions:{typeIdentifier:"t_function_external_view$_t_address_$_t_uint256_$returns$_t_uint256_$",typeString:"function (address,uint256) view external returns (uint256)"}},id:2357,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"4755:45:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,hexValue:"",id:2358,isConstant:!1,isLValue:!1,isPure:!0,kind:"string",lValueRequested:!1,nodeType:"Literal",src:"4802:2:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",typeString:'literal_string ""'},value:""}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_stringliteral_c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",typeString:'literal_string ""'}],expression:{argumentTypes:null,id:2342,name:"pmSystem",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1985,src:"4693:8:9",typeDescriptions:{typeIdentifier:"t_contract$_PredictionMarketSystem_$1456",typeString:"contract PredictionMarketSystem"}},id:2344,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"safeTransferFrom",nodeType:"MemberAccess",referencedDeclaration:4519,src:"4693:25:9",typeDescriptions:{typeIdentifier:"t_function_external_nonpayable$_t_address_$_t_address_$_t_uint256_$_t_uint256_$_t_bytes_memory_ptr_$returns$__$",typeString:"function (address,address,uint256,uint256,bytes memory) external"}},id:2359,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"4693:112:9",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:2360,nodeType:"ExpressionStatement",src:"4693:112:9"}]},condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:2332,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:2330,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2327,src:"4587:1:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"<",rightExpression:{argumentTypes:null,id:2331,name:"atomicOutcomeSlotCount",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1992,src:"4591:22:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"4587:26:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},id:2362,initializationExpression:{assignments:[2327],declarations:[{constant:!1,id:2327,name:"i",nodeType:"VariableDeclaration",scope:2362,src:"4575:6:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:2326,name:"uint",nodeType:"ElementaryTypeName",src:"4575:4:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:2329,initialValue:{argumentTypes:null,hexValue:"30",id:2328,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"4584:1:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},nodeType:"VariableDeclarationStatement",src:"4575:10:9"},loopExpression:{expression:{argumentTypes:null,id:2334,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,nodeType:"UnaryOperation",operator:"++",prefix:!1,src:"4615:3:9",subExpression:{argumentTypes:null,id:2333,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2327,src:"4615:1:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:2335,nodeType:"ExpressionStatement",src:"4615:3:9"},nodeType:"ForStatement",src:"4570:246:9"},{expression:{argumentTypes:null,id:2366,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,id:2363,name:"stage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1998,src:"4825:5:9",typeDescriptions:{typeIdentifier:"t_enum$_Stage_$2002",typeString:"enum MarketMaker.Stage"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,expression:{argumentTypes:null,id:2364,name:"Stage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2002,src:"4833:5:9",typeDescriptions:{typeIdentifier:"t_type$_t_enum$_Stage_$2002_$",typeString:"type(enum MarketMaker.Stage)"}},id:2365,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,memberName:"Closed",nodeType:"MemberAccess",referencedDeclaration:null,src:"4833:12:9",typeDescriptions:{typeIdentifier:"t_enum$_Stage_$2002",typeString:"enum MarketMaker.Stage"}},src:"4825:20:9",typeDescriptions:{typeIdentifier:"t_enum$_Stage_$2002",typeString:"enum MarketMaker.Stage"}},id:2367,nodeType:"ExpressionStatement",src:"4825:20:9"},{eventCall:{argumentTypes:null,arguments:[],expression:{argumentTypes:[],id:2368,name:"AMMClosed",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1960,src:"4860:9:9",typeDescriptions:{typeIdentifier:"t_function_event_nonpayable$__$returns$__$",typeString:"function ()"}},id:2369,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"4860:11:9",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:2370,nodeType:"EmitStatement",src:"4855:16:9"}]},documentation:"@dev Allows market owner to close the markets by transferring all remaining outcome tokens to the owner",id:2372,implemented:!0,kind:"function",modifiers:[{arguments:null,id:2311,modifierName:{argumentTypes:null,id:2310,name:"onlyOwner",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:5106,src:"4441:9:9",typeDescriptions:{typeIdentifier:"t_modifier$__$",typeString:"modifier ()"}},nodeType:"ModifierInvocation",src:"4441:9:9"}],name:"close",nodeType:"FunctionDefinition",parameters:{id:2309,nodeType:"ParameterList",parameters:[],src:"4415:2:9"},returnParameters:{id:2312,nodeType:"ParameterList",parameters:[],src:"4455:0:9"},scope:2963,src:"4401:477:9",stateMutability:"nonpayable",superFunction:null,visibility:"public"},{body:{id:2401,nodeType:"Block",src:"5070:184:9",statements:[{expression:{argumentTypes:null,id:2386,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,id:2379,name:"fees",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2377,src:"5080:4:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:2383,name:"this",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:5312,src:"5121:4:9",typeDescriptions:{typeIdentifier:"t_contract$_MarketMaker_$2963",typeString:"contract MarketMaker"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_MarketMaker_$2963",typeString:"contract MarketMaker"}],id:2382,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"5113:7:9",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:2384,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"5113:13:9",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],expression:{argumentTypes:null,id:2380,name:"collateralToken",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1987,src:"5087:15:9",typeDescriptions:{typeIdentifier:"t_contract$_IERC20_$5241",typeString:"contract IERC20"}},id:2381,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"balanceOf",nodeType:"MemberAccess",referencedDeclaration:5186,src:"5087:25:9",typeDescriptions:{typeIdentifier:"t_function_external_view$_t_address_$returns$_t_uint256_$",typeString:"function (address) view external returns (uint256)"}},id:2385,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"5087:40:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"5080:47:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:2387,nodeType:"ExpressionStatement",src:"5080:47:9"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[],expression:{argumentTypes:[],id:2391,name:"owner",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:5097,src:"5195:5:9",typeDescriptions:{typeIdentifier:"t_function_internal_view$__$returns$_t_address_$",typeString:"function () view returns (address)"}},id:2392,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"5195:7:9",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:2393,name:"fees",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2377,src:"5204:4:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:2389,name:"collateralToken",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1987,src:"5170:15:9",typeDescriptions:{typeIdentifier:"t_contract$_IERC20_$5241",typeString:"contract IERC20"}},id:2390,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"transfer",nodeType:"MemberAccess",referencedDeclaration:5204,src:"5170:24:9",typeDescriptions:{typeIdentifier:"t_function_external_nonpayable$_t_address_$_t_uint256_$returns$_t_bool_$",typeString:"function (address,uint256) external returns (bool)"}},id:2394,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"5170:39:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"}],id:2388,name:"require",nodeType:"Identifier",overloadedDeclarations:[5278,5279],referencedDeclaration:5278,src:"5162:7:9",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$returns$__$",typeString:"function (bool) pure"}},id:2395,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"5162:48:9",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:2396,nodeType:"ExpressionStatement",src:"5162:48:9"},{eventCall:{argumentTypes:null,arguments:[{argumentTypes:null,id:2398,name:"fees",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2377,src:"5242:4:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],id:2397,name:"AMMFeeWithdrawal",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1972,src:"5225:16:9",typeDescriptions:{typeIdentifier:"t_function_event_nonpayable$_t_uint256_$returns$__$",typeString:"function (uint256)"}},id:2399,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"5225:22:9",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:2400,nodeType:"EmitStatement",src:"5220:27:9"}]},documentation:"@dev Allows market owner to withdraw fees generated by trades\n @return Fee amount",id:2402,implemented:!0,kind:"function",modifiers:[{arguments:null,id:2375,modifierName:{argumentTypes:null,id:2374,name:"onlyOwner",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:5106,src:"5028:9:9",typeDescriptions:{typeIdentifier:"t_modifier$__$",typeString:"modifier ()"}},nodeType:"ModifierInvocation",src:"5028:9:9"}],name:"withdrawFees",nodeType:"FunctionDefinition",parameters:{id:2373,nodeType:"ParameterList",parameters:[],src:"5002:2:9"},returnParameters:{id:2378,nodeType:"ParameterList",parameters:[{constant:!1,id:2377,name:"fees",nodeType:"VariableDeclaration",scope:2402,src:"5055:9:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:2376,name:"uint",nodeType:"ElementaryTypeName",src:"5055:4:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"5054:11:9"},scope:2963,src:"4981:273:9",stateMutability:"nonpayable",superFunction:null,visibility:"public"},{body:{id:2633,nodeType:"Block",src:"7226:2081:9",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:2420,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,expression:{argumentTypes:null,id:2417,name:"outcomeTokenAmounts",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2405,src:"7244:19:9",typeDescriptions:{typeIdentifier:"t_array$_t_int256_$dyn_memory_ptr",typeString:"int256[] memory"}},id:2418,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"length",nodeType:"MemberAccess",referencedDeclaration:null,src:"7244:26:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,id:2419,name:"atomicOutcomeSlotCount",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1992,src:"7274:22:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"7244:52:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"}],id:2416,name:"require",nodeType:"Identifier",overloadedDeclarations:[5278,5279],referencedDeclaration:5278,src:"7236:7:9",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$returns$__$",typeString:"function (bool) pure"}},id:2421,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"7236:61:9",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:2422,nodeType:"ExpressionStatement",src:"7236:61:9"},{assignments:[2424],declarations:[{constant:!1,id:2424,name:"outcomeTokenNetCost",nodeType:"VariableDeclaration",scope:2633,src:"7358:23:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"},typeName:{id:2423,name:"int",nodeType:"ElementaryTypeName",src:"7358:3:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},value:null,visibility:"internal"}],id:2428,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:2426,name:"outcomeTokenAmounts",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2405,src:"7396:19:9",typeDescriptions:{typeIdentifier:"t_array$_t_int256_$dyn_memory_ptr",typeString:"int256[] memory"}}],expression:{argumentTypes:[{typeIdentifier:"t_array$_t_int256_$dyn_memory_ptr",typeString:"int256[] memory"}],id:2425,name:"calcNetCost",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2141,src:"7384:11:9",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_array$_t_int256_$dyn_memory_ptr_$returns$_t_int256_$",typeString:"function (int256[] memory) view returns (int256)"}},id:2427,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"7384:32:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},nodeType:"VariableDeclarationStatement",src:"7358:58:9"},{assignments:[2430],declarations:[{constant:!1,id:2430,name:"fees",nodeType:"VariableDeclaration",scope:2633,src:"7426:8:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"},typeName:{id:2429,name:"int",nodeType:"ElementaryTypeName",src:"7426:3:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},value:null,visibility:"internal"}],id:2431,initialValue:null,nodeType:"VariableDeclarationStatement",src:"7426:8:9"},{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_int256",typeString:"int256"},id:2434,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:2432,name:"outcomeTokenNetCost",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2424,src:"7447:19:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},nodeType:"BinaryOperation",operator:"<",rightExpression:{argumentTypes:null,hexValue:"30",id:2433,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"7469:1:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"7447:23:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:{expression:{argumentTypes:null,id:2454,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,id:2446,name:"fees",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2430,src:"7564:4:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:2450,name:"outcomeTokenNetCost",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2424,src:"7594:19:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}}],expression:{argumentTypes:[{typeIdentifier:"t_int256",typeString:"int256"}],id:2449,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"7589:4:9",typeDescriptions:{typeIdentifier:"t_type$_t_uint256_$",typeString:"type(uint256)"},typeName:"uint"},id:2451,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"7589:25:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],id:2448,name:"calcMarketFee",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2648,src:"7575:13:9",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_uint256_$returns$_t_uint256_$",typeString:"function (uint256) view returns (uint256)"}},id:2452,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"7575:40:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],id:2447,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"7571:3:9",typeDescriptions:{typeIdentifier:"t_type$_t_int256_$",typeString:"type(int256)"},typeName:"int"},id:2453,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"7571:45:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},src:"7564:52:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},id:2455,nodeType:"ExpressionStatement",src:"7564:52:9"},id:2456,nodeType:"IfStatement",src:"7444:172:9",trueBody:{expression:{argumentTypes:null,id:2444,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,id:2435,name:"fees",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2430,src:"7484:4:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:2440,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,nodeType:"UnaryOperation",operator:"-",prefix:!0,src:"7514:20:9",subExpression:{argumentTypes:null,id:2439,name:"outcomeTokenNetCost",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2424,src:"7515:19:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}}],expression:{argumentTypes:[{typeIdentifier:"t_int256",typeString:"int256"}],id:2438,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"7509:4:9",typeDescriptions:{typeIdentifier:"t_type$_t_uint256_$",typeString:"type(uint256)"},typeName:"uint"},id:2441,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"7509:26:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],id:2437,name:"calcMarketFee",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2648,src:"7495:13:9",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_uint256_$returns$_t_uint256_$",typeString:"function (uint256) view returns (uint256)"}},id:2442,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"7495:41:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],id:2436,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"7491:3:9",typeDescriptions:{typeIdentifier:"t_type$_t_int256_$",typeString:"type(int256)"},typeName:"int"},id:2443,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"7491:46:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},src:"7484:53:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},id:2445,nodeType:"ExpressionStatement",src:"7484:53:9"}},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_int256",typeString:"int256"},id:2460,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:2458,name:"fees",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2430,src:"7635:4:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},nodeType:"BinaryOperation",operator:">=",rightExpression:{argumentTypes:null,hexValue:"30",id:2459,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"7643:1:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"7635:9:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"}],id:2457,name:"require",nodeType:"Identifier",overloadedDeclarations:[5278,5279],referencedDeclaration:5278,src:"7627:7:9",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$returns$__$",typeString:"function (bool) pure"}},id:2461,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"7627:18:9",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:2462,nodeType:"ExpressionStatement",src:"7627:18:9"},{expression:{argumentTypes:null,id:2468,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,id:2463,name:"netCost",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2414,src:"7655:7:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,arguments:[{argumentTypes:null,id:2466,name:"fees",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2430,src:"7689:4:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}}],expression:{argumentTypes:[{typeIdentifier:"t_int256",typeString:"int256"}],expression:{argumentTypes:null,id:2464,name:"outcomeTokenNetCost",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2424,src:"7665:19:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},id:2465,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"add",nodeType:"MemberAccess",referencedDeclaration:4113,src:"7665:23:9",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_int256_$_t_int256_$returns$_t_int256_$bound_to$_t_int256_$",typeString:"function (int256,int256) pure returns (int256)"}},id:2467,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"7665:29:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},src:"7655:39:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},id:2469,nodeType:"ExpressionStatement",src:"7655:39:9"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_bool",typeString:"bool"},id:2482,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,components:[{argumentTypes:null,commonType:{typeIdentifier:"t_bool",typeString:"bool"},id:2477,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,commonType:{typeIdentifier:"t_int256",typeString:"int256"},id:2473,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:2471,name:"collateralLimit",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2407,src:"7727:15:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},nodeType:"BinaryOperation",operator:"!=",rightExpression:{argumentTypes:null,hexValue:"30",id:2472,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"7746:1:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"7727:20:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},nodeType:"BinaryOperation",operator:"&&",rightExpression:{argumentTypes:null,commonType:{typeIdentifier:"t_int256",typeString:"int256"},id:2476,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:2474,name:"netCost",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2414,src:"7751:7:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},nodeType:"BinaryOperation",operator:"<=",rightExpression:{argumentTypes:null,id:2475,name:"collateralLimit",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2407,src:"7762:15:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},src:"7751:26:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},src:"7727:50:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}}],id:2478,isConstant:!1,isInlineArray:!1,isLValue:!1,isPure:!1,lValueRequested:!1,nodeType:"TupleExpression",src:"7726:52:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},nodeType:"BinaryOperation",operator:"||",rightExpression:{argumentTypes:null,commonType:{typeIdentifier:"t_int256",typeString:"int256"},id:2481,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:2479,name:"collateralLimit",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2407,src:"7794:15:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,hexValue:"30",id:2480,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"7813:1:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"7794:20:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},src:"7726:88:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"}],id:2470,name:"require",nodeType:"Identifier",overloadedDeclarations:[5278,5279],referencedDeclaration:5278,src:"7705:7:9",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$returns$__$",typeString:"function (bool) pure"}},id:2483,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"7705:119:9",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:2484,nodeType:"ExpressionStatement",src:"7705:119:9"},{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_int256",typeString:"int256"},id:2487,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:2485,name:"outcomeTokenNetCost",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2424,src:"7838:19:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},nodeType:"BinaryOperation",operator:">",rightExpression:{argumentTypes:null,hexValue:"30",id:2486,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"7860:1:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"7838:23:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:null,id:2522,nodeType:"IfStatement",src:"7835:350:9",trueBody:{id:2521,nodeType:"Block",src:"7863:322:9",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_bool",typeString:"bool"},id:2509,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:2491,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:5275,src:"7931:3:9",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:2492,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"7931:10:9",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},{argumentTypes:null,arguments:[{argumentTypes:null,id:2494,name:"this",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:5312,src:"7951:4:9",typeDescriptions:{typeIdentifier:"t_contract$_MarketMaker_$2963",typeString:"contract MarketMaker"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_MarketMaker_$2963",typeString:"contract MarketMaker"}],id:2493,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"7943:7:9",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:2495,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"7943:13:9",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,arguments:[{argumentTypes:null,id:2497,name:"netCost",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2414,src:"7963:7:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}}],expression:{argumentTypes:[{typeIdentifier:"t_int256",typeString:"int256"}],id:2496,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"7958:4:9",typeDescriptions:{typeIdentifier:"t_type$_t_uint256_$",typeString:"type(uint256)"},typeName:"uint"},id:2498,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"7958:13:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address_payable",typeString:"address payable"},{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:2489,name:"collateralToken",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1987,src:"7902:15:9",typeDescriptions:{typeIdentifier:"t_contract$_IERC20_$5241",typeString:"contract IERC20"}},id:2490,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"transferFrom",nodeType:"MemberAccess",referencedDeclaration:5224,src:"7902:28:9",typeDescriptions:{typeIdentifier:"t_function_external_nonpayable$_t_address_$_t_address_$_t_uint256_$returns$_t_bool_$",typeString:"function (address,address,uint256) external returns (bool)"}},id:2499,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"7902:70:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},nodeType:"BinaryOperation",operator:"&&",rightExpression:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:2503,name:"pmSystem",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1985,src:"8024:8:9",typeDescriptions:{typeIdentifier:"t_contract$_PredictionMarketSystem_$1456",typeString:"contract PredictionMarketSystem"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_PredictionMarketSystem_$1456",typeString:"contract PredictionMarketSystem"}],id:2502,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"8016:7:9",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:2504,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"8016:17:9",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,arguments:[{argumentTypes:null,id:2506,name:"outcomeTokenNetCost",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2424,src:"8040:19:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}}],expression:{argumentTypes:[{typeIdentifier:"t_int256",typeString:"int256"}],id:2505,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"8035:4:9",typeDescriptions:{typeIdentifier:"t_type$_t_uint256_$",typeString:"type(uint256)"},typeName:"uint"},id:2507,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"8035:25:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:2500,name:"collateralToken",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1987,src:"7992:15:9",typeDescriptions:{typeIdentifier:"t_contract$_IERC20_$5241",typeString:"contract IERC20"}},id:2501,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"approve",nodeType:"MemberAccess",referencedDeclaration:5213,src:"7992:23:9",typeDescriptions:{typeIdentifier:"t_function_external_nonpayable$_t_address_$_t_uint256_$returns$_t_bool_$",typeString:"function (address,uint256) external returns (bool)"}},id:2508,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"7992:69:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},src:"7902:159:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"}],id:2488,name:"require",nodeType:"Identifier",overloadedDeclarations:[5278,5279],referencedDeclaration:5278,src:"7877:7:9",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$returns$__$",typeString:"function (bool) pure"}},id:2510,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"7877:198:9",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:2511,nodeType:"ExpressionStatement",src:"7877:198:9"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:2514,name:"outcomeTokenNetCost",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2424,src:"8129:19:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}}],expression:{argumentTypes:[{typeIdentifier:"t_int256",typeString:"int256"}],id:2513,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"8124:4:9",typeDescriptions:{typeIdentifier:"t_type$_t_uint256_$",typeString:"type(uint256)"},typeName:"uint"},id:2515,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"8124:25:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,expression:{argumentTypes:null,id:2516,name:"conditionIds",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1990,src:"8151:12:9",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage",typeString:"bytes32[] storage ref"}},id:2517,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,memberName:"length",nodeType:"MemberAccess",referencedDeclaration:null,src:"8151:19:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,hexValue:"30",id:2518,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"8172:1:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"}],id:2512,name:"splitPositionThroughAllConditions",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2887,src:"8090:33:9",typeDescriptions:{typeIdentifier:"t_function_internal_nonpayable$_t_uint256_$_t_uint256_$_t_uint256_$returns$__$",typeString:"function (uint256,uint256,uint256)"}},id:2519,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"8090:84:9",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:2520,nodeType:"ExpressionStatement",src:"8090:84:9"}]}},{body:{id:2589,nodeType:"Block",src:"8245:468:9",statements:[{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_int256",typeString:"int256"},id:2537,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:2533,name:"outcomeTokenAmounts",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2405,src:"8262:19:9",typeDescriptions:{typeIdentifier:"t_array$_t_int256_$dyn_memory_ptr",typeString:"int256[] memory"}},id:2535,indexExpression:{argumentTypes:null,id:2534,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2524,src:"8282:1:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"8262:22:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},nodeType:"BinaryOperation",operator:"!=",rightExpression:{argumentTypes:null,hexValue:"30",id:2536,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"8288:1:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"8262:27:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:null,id:2588,nodeType:"IfStatement",src:"8259:444:9",trueBody:{id:2587,nodeType:"Block",src:"8291:412:9",statements:[{assignments:[2539],declarations:[{constant:!1,id:2539,name:"positionId",nodeType:"VariableDeclaration",scope:2587,src:"8309:15:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:2538,name:"uint",nodeType:"ElementaryTypeName",src:"8309:4:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:2543,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:2541,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2524,src:"8352:1:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],id:2540,name:"generateAtomicPositionId",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2812,src:"8327:24:9",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_uint256_$returns$_t_uint256_$",typeString:"function (uint256) view returns (uint256)"}},id:2542,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"8327:27:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"8309:45:9"},{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_int256",typeString:"int256"},id:2548,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:2544,name:"outcomeTokenAmounts",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2405,src:"8375:19:9",typeDescriptions:{typeIdentifier:"t_array$_t_int256_$dyn_memory_ptr",typeString:"int256[] memory"}},id:2546,indexExpression:{argumentTypes:null,id:2545,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2524,src:"8395:1:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"8375:22:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},nodeType:"BinaryOperation",operator:"<",rightExpression:{argumentTypes:null,hexValue:"30",id:2547,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"8400:1:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"8375:26:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:{id:2585,nodeType:"Block",src:"8549:139:9",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:2572,name:"this",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:5312,src:"8605:4:9",typeDescriptions:{typeIdentifier:"t_contract$_MarketMaker_$2963",typeString:"contract MarketMaker"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_MarketMaker_$2963",typeString:"contract MarketMaker"}],id:2571,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"8597:7:9",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:2573,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"8597:13:9",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,expression:{argumentTypes:null,id:2574,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:5275,src:"8612:3:9",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:2575,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"8612:10:9",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},{argumentTypes:null,id:2576,name:"positionId",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2539,src:"8624:10:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,arguments:[{argumentTypes:null,baseExpression:{argumentTypes:null,id:2578,name:"outcomeTokenAmounts",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2405,src:"8641:19:9",typeDescriptions:{typeIdentifier:"t_array$_t_int256_$dyn_memory_ptr",typeString:"int256[] memory"}},id:2580,indexExpression:{argumentTypes:null,id:2579,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2524,src:"8661:1:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"8641:22:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}}],expression:{argumentTypes:[{typeIdentifier:"t_int256",typeString:"int256"}],id:2577,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"8636:4:9",typeDescriptions:{typeIdentifier:"t_type$_t_uint256_$",typeString:"type(uint256)"},typeName:"uint"},id:2581,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"8636:28:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,hexValue:"",id:2582,isConstant:!1,isLValue:!1,isPure:!0,kind:"string",lValueRequested:!1,nodeType:"Literal",src:"8666:2:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",typeString:'literal_string ""'},value:""}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_address_payable",typeString:"address payable"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_stringliteral_c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",typeString:'literal_string ""'}],expression:{argumentTypes:null,id:2568,name:"pmSystem",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1985,src:"8571:8:9",typeDescriptions:{typeIdentifier:"t_contract$_PredictionMarketSystem_$1456",typeString:"contract PredictionMarketSystem"}},id:2570,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"safeTransferFrom",nodeType:"MemberAccess",referencedDeclaration:4519,src:"8571:25:9",typeDescriptions:{typeIdentifier:"t_function_external_nonpayable$_t_address_$_t_address_$_t_uint256_$_t_uint256_$_t_bytes_memory_ptr_$returns$__$",typeString:"function (address,address,uint256,uint256,bytes memory) external"}},id:2583,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"8571:98:9",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:2584,nodeType:"ExpressionStatement",src:"8571:98:9"}]},id:2586,nodeType:"IfStatement",src:"8372:316:9",trueBody:{id:2567,nodeType:"Block",src:"8403:140:9",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:2552,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:5275,src:"8451:3:9",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:2553,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"8451:10:9",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},{argumentTypes:null,arguments:[{argumentTypes:null,id:2555,name:"this",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:5312,src:"8471:4:9",typeDescriptions:{typeIdentifier:"t_contract$_MarketMaker_$2963",typeString:"contract MarketMaker"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_MarketMaker_$2963",typeString:"contract MarketMaker"}],id:2554,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"8463:7:9",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:2556,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"8463:13:9",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:2557,name:"positionId",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2539,src:"8478:10:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,arguments:[{argumentTypes:null,id:2562,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,nodeType:"UnaryOperation",operator:"-",prefix:!0,src:"8495:23:9",subExpression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:2559,name:"outcomeTokenAmounts",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2405,src:"8496:19:9",typeDescriptions:{typeIdentifier:"t_array$_t_int256_$dyn_memory_ptr",typeString:"int256[] memory"}},id:2561,indexExpression:{argumentTypes:null,id:2560,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2524,src:"8516:1:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"8496:22:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}}],expression:{argumentTypes:[{typeIdentifier:"t_int256",typeString:"int256"}],id:2558,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"8490:4:9",typeDescriptions:{typeIdentifier:"t_type$_t_uint256_$",typeString:"type(uint256)"},typeName:"uint"},id:2563,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"8490:29:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,hexValue:"",id:2564,isConstant:!1,isLValue:!1,isPure:!0,kind:"string",lValueRequested:!1,nodeType:"Literal",src:"8521:2:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",typeString:'literal_string ""'},value:""}],expression:{argumentTypes:[{typeIdentifier:"t_address_payable",typeString:"address payable"},{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_stringliteral_c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",typeString:'literal_string ""'}],expression:{argumentTypes:null,id:2549,name:"pmSystem",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1985,src:"8425:8:9",typeDescriptions:{typeIdentifier:"t_contract$_PredictionMarketSystem_$1456",typeString:"contract PredictionMarketSystem"}},id:2551,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"safeTransferFrom",nodeType:"MemberAccess",referencedDeclaration:4519,src:"8425:25:9",typeDescriptions:{typeIdentifier:"t_function_external_nonpayable$_t_address_$_t_address_$_t_uint256_$_t_uint256_$_t_bytes_memory_ptr_$returns$__$",typeString:"function (address,address,uint256,uint256,bytes memory) external"}},id:2565,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"8425:99:9",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:2566,nodeType:"ExpressionStatement",src:"8425:99:9"}]}}]}}]},condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:2529,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:2527,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2524,src:"8212:1:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"<",rightExpression:{argumentTypes:null,id:2528,name:"atomicOutcomeSlotCount",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1992,src:"8216:22:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"8212:26:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},id:2590,initializationExpression:{assignments:[2524],declarations:[{constant:!1,id:2524,name:"i",nodeType:"VariableDeclaration",scope:2590,src:"8200:6:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:2523,name:"uint",nodeType:"ElementaryTypeName",src:"8200:4:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:2526,initialValue:{argumentTypes:null,hexValue:"30",id:2525,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"8209:1:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},nodeType:"VariableDeclarationStatement",src:"8200:10:9"},loopExpression:{expression:{argumentTypes:null,id:2531,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,nodeType:"UnaryOperation",operator:"++",prefix:!1,src:"8240:3:9",subExpression:{argumentTypes:null,id:2530,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2524,src:"8240:1:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:2532,nodeType:"ExpressionStatement",src:"8240:3:9"},nodeType:"ForStatement",src:"8195:518:9"},{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_int256",typeString:"int256"},id:2593,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:2591,name:"outcomeTokenNetCost",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2424,src:"8726:19:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},nodeType:"BinaryOperation",operator:"<",rightExpression:{argumentTypes:null,hexValue:"30",id:2592,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"8748:1:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"8726:23:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:null,id:2622,nodeType:"IfStatement",src:"8723:476:9",trueBody:{id:2621,nodeType:"Block",src:"8751:448:9",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:2597,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,nodeType:"UnaryOperation",operator:"-",prefix:!0,src:"9019:20:9",subExpression:{argumentTypes:null,id:2596,name:"outcomeTokenNetCost",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2424,src:"9020:19:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}}],expression:{argumentTypes:[{typeIdentifier:"t_int256",typeString:"int256"}],id:2595,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"9014:4:9",typeDescriptions:{typeIdentifier:"t_type$_t_uint256_$",typeString:"type(uint256)"},typeName:"uint"},id:2598,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"9014:26:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,expression:{argumentTypes:null,id:2599,name:"conditionIds",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1990,src:"9042:12:9",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage",typeString:"bytes32[] storage ref"}},id:2600,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,memberName:"length",nodeType:"MemberAccess",referencedDeclaration:null,src:"9042:19:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,hexValue:"30",id:2601,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"9063:1:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"}],id:2594,name:"mergePositionsThroughAllConditions",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2962,src:"8979:34:9",typeDescriptions:{typeIdentifier:"t_function_internal_nonpayable$_t_uint256_$_t_uint256_$_t_uint256_$returns$__$",typeString:"function (uint256,uint256,uint256)"}},id:2602,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"8979:86:9",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:2603,nodeType:"ExpressionStatement",src:"8979:86:9"},{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_int256",typeString:"int256"},id:2606,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:2604,name:"netCost",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2414,src:"9082:7:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},nodeType:"BinaryOperation",operator:"<",rightExpression:{argumentTypes:null,hexValue:"30",id:2605,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"9092:1:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"9082:11:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:null,id:2620,nodeType:"IfStatement",src:"9079:110:9",trueBody:{id:2619,nodeType:"Block",src:"9095:94:9",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:2610,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:5275,src:"9146:3:9",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:2611,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"9146:10:9",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},{argumentTypes:null,arguments:[{argumentTypes:null,id:2614,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,nodeType:"UnaryOperation",operator:"-",prefix:!0,src:"9163:8:9",subExpression:{argumentTypes:null,id:2613,name:"netCost",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2414,src:"9164:7:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}}],expression:{argumentTypes:[{typeIdentifier:"t_int256",typeString:"int256"}],id:2612,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"9158:4:9",typeDescriptions:{typeIdentifier:"t_type$_t_uint256_$",typeString:"type(uint256)"},typeName:"uint"},id:2615,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"9158:14:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address_payable",typeString:"address payable"},{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:2608,name:"collateralToken",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1987,src:"9121:15:9",typeDescriptions:{typeIdentifier:"t_contract$_IERC20_$5241",typeString:"contract IERC20"}},id:2609,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"transfer",nodeType:"MemberAccess",referencedDeclaration:5204,src:"9121:24:9",typeDescriptions:{typeIdentifier:"t_function_external_nonpayable$_t_address_$_t_uint256_$returns$_t_bool_$",typeString:"function (address,uint256) external returns (bool)"}},id:2616,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"9121:52:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"}],id:2607,name:"require",nodeType:"Identifier",overloadedDeclarations:[5278,5279],referencedDeclaration:5278,src:"9113:7:9",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$returns$__$",typeString:"function (bool) pure"}},id:2617,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"9113:61:9",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:2618,nodeType:"ExpressionStatement",src:"9113:61:9"}]}}]}},{eventCall:{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:2624,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:5275,src:"9235:3:9",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:2625,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"9235:10:9",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},{argumentTypes:null,id:2626,name:"outcomeTokenAmounts",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2405,src:"9247:19:9",typeDescriptions:{typeIdentifier:"t_array$_t_int256_$dyn_memory_ptr",typeString:"int256[] memory"}},{argumentTypes:null,id:2627,name:"outcomeTokenNetCost",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2424,src:"9268:19:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},{argumentTypes:null,arguments:[{argumentTypes:null,id:2629,name:"fees",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2430,src:"9294:4:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}}],expression:{argumentTypes:[{typeIdentifier:"t_int256",typeString:"int256"}],id:2628,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"9289:4:9",typeDescriptions:{typeIdentifier:"t_type$_t_uint256_$",typeString:"type(uint256)"},typeName:"uint"},id:2630,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"9289:10:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address_payable",typeString:"address payable"},{typeIdentifier:"t_array$_t_int256_$dyn_memory_ptr",typeString:"int256[] memory"},{typeIdentifier:"t_int256",typeString:"int256"},{typeIdentifier:"t_uint256",typeString:"uint256"}],id:2623,name:"AMMOutcomeTokenTrade",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1983,src:"9214:20:9",typeDescriptions:{typeIdentifier:"t_function_event_nonpayable$_t_address_$_t_array$_t_int256_$dyn_memory_ptr_$_t_int256_$_t_uint256_$returns$__$",typeString:"function (address,int256[] memory,int256,uint256)"}},id:2631,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"9214:86:9",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:2632,nodeType:"EmitStatement",src:"9209:91:9"}]},documentation:"@dev Allows to trade outcome tokens and collateral with the market maker\n @param outcomeTokenAmounts Amounts of each atomic outcome token to buy or sell. If positive, will buy this amount of outcome token from the market. If negative, will sell this amount back to the market instead. The indices of this array range from 0 to product(all conditions' outcomeSlotCounts)-1. For example, with two conditions with three outcome slots each and one condition with two outcome slots, you will have 3*3*2=18 total atomic outcome tokens, and the indices will range from 0 to 17. The indices map to atomic outcome slots depending on the order of the conditionIds. Let's say the first condition has slots A, B, C the second has slots X, Y, and the third has slots I, J, K. We can associate each atomic outcome token with indices by this map:\n A&X&I == 0\n B&X&I == 1\n C&X&I == 2\n A&Y&I == 3\n B&Y&I == 4\n C&Y&I == 5\n A&X&J == 6\n B&X&J == 7\n C&X&J == 8\n A&Y&J == 9\n B&Y&J == 10\n C&Y&J == 11\n A&X&K == 12\n B&X&K == 13\n C&X&K == 14\n A&Y&K == 15\n B&Y&K == 16\n C&Y&K == 17\n This order is calculated via the generateAtomicPositionId function below: C&Y&I -> (2, 1, 0) -> 2 + 3 * (1 + 2 * (0 + 3 * (0 + 0)))\n @param collateralLimit If positive, this is the limit for the amount of collateral tokens which will be sent to the market to conduct the trade. If negative, this is the minimum amount of collateral tokens which will be received from the market for the trade. If zero, there is no limit.\n @return If positive, the amount of collateral sent to the market. If negative, the amount of collateral received from the market. If zero, no collateral was sent or received.",id:2634,implemented:!0,kind:"function",modifiers:[{arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:2410,name:"Stage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2002,src:"7177:5:9",typeDescriptions:{typeIdentifier:"t_type$_t_enum$_Stage_$2002_$",typeString:"type(enum MarketMaker.Stage)"}},id:2411,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,memberName:"Running",nodeType:"MemberAccess",referencedDeclaration:null,src:"7177:13:9",typeDescriptions:{typeIdentifier:"t_enum$_Stage_$2002",typeString:"enum MarketMaker.Stage"}}],id:2412,modifierName:{argumentTypes:null,id:2409,name:"atStage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2014,src:"7169:7:9",typeDescriptions:{typeIdentifier:"t_modifier$_t_enum$_Stage_$2002_$",typeString:"modifier (enum MarketMaker.Stage)"}},nodeType:"ModifierInvocation",src:"7169:22:9"}],name:"trade",nodeType:"FunctionDefinition",parameters:{id:2408,nodeType:"ParameterList",parameters:[{constant:!1,id:2405,name:"outcomeTokenAmounts",nodeType:"VariableDeclaration",scope:2634,src:"7091:32:9",stateVariable:!1,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_array$_t_int256_$dyn_memory_ptr",typeString:"int256[]"},typeName:{baseType:{id:2403,name:"int",nodeType:"ElementaryTypeName",src:"7091:3:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},id:2404,length:null,nodeType:"ArrayTypeName",src:"7091:5:9",typeDescriptions:{typeIdentifier:"t_array$_t_int256_$dyn_storage_ptr",typeString:"int256[]"}},value:null,visibility:"internal"},{constant:!1,id:2407,name:"collateralLimit",nodeType:"VariableDeclaration",scope:2634,src:"7125:19:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"},typeName:{id:2406,name:"int",nodeType:"ElementaryTypeName",src:"7125:3:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},value:null,visibility:"internal"}],src:"7090:55:9"},returnParameters:{id:2415,nodeType:"ParameterList",parameters:[{constant:!1,id:2414,name:"netCost",nodeType:"VariableDeclaration",scope:2634,src:"7209:11:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"},typeName:{id:2413,name:"int",nodeType:"ElementaryTypeName",src:"7209:3:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},value:null,visibility:"internal"}],src:"7208:13:9"},scope:2963,src:"7076:2231:9",stateMutability:"nonpayable",superFunction:null,visibility:"public"},{body:{id:2647,nodeType:"Block",src:"9562:58:9",statements:[{expression:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:2645,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:2643,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:2641,name:"outcomeTokenCost",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2636,src:"9579:16:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"*",rightExpression:{argumentTypes:null,id:2642,name:"fee",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1994,src:"9598:3:9",typeDescriptions:{typeIdentifier:"t_uint64",typeString:"uint64"}},src:"9579:22:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"/",rightExpression:{argumentTypes:null,id:2644,name:"FEE_RANGE",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1950,src:"9604:9:9",typeDescriptions:{typeIdentifier:"t_uint64",typeString:"uint64"}},src:"9579:34:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},functionReturnParameters:2640,id:2646,nodeType:"Return",src:"9572:41:9"}]},documentation:"@dev Calculates fee to be paid to market maker\n @param outcomeTokenCost Cost for buying outcome tokens\n @return Fee for trade",id:2648,implemented:!0,kind:"function",modifiers:[],name:"calcMarketFee",nodeType:"FunctionDefinition",parameters:{id:2637,nodeType:"ParameterList",parameters:[{constant:!1,id:2636,name:"outcomeTokenCost",nodeType:"VariableDeclaration",scope:2648,src:"9484:21:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:2635,name:"uint",nodeType:"ElementaryTypeName",src:"9484:4:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"9483:23:9"},returnParameters:{id:2640,nodeType:"ParameterList",parameters:[{constant:!1,id:2639,name:"",nodeType:"VariableDeclaration",scope:2648,src:"9552:4:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:2638,name:"uint",nodeType:"ElementaryTypeName",src:"9552:4:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"9551:6:9"},scope:2963,src:"9461:159:9",stateMutability:"view",superFunction:null,visibility:"public"},{body:{id:2674,nodeType:"Block",src:"9774:109:9",statements:[{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_address",typeString:"address"},id:2667,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:2663,name:"operator",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2650,src:"9788:8:9",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,arguments:[{argumentTypes:null,id:2665,name:"this",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:5312,src:"9808:4:9",typeDescriptions:{typeIdentifier:"t_contract$_MarketMaker_$2963",typeString:"contract MarketMaker"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_MarketMaker_$2963",typeString:"contract MarketMaker"}],id:2664,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"9800:7:9",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:2666,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"9800:13:9",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},src:"9788:25:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:null,id:2671,nodeType:"IfStatement",src:"9784:73:9",trueBody:{id:2670,nodeType:"Block",src:"9815:42:9",statements:[{expression:{argumentTypes:null,hexValue:"30786632336136653631",id:2668,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"9836:10:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_4063915617_by_1",typeString:"int_const 4063915617"},value:"0xf23a6e61"},functionReturnParameters:2662,id:2669,nodeType:"Return",src:"9829:17:9"}]}},{expression:{argumentTypes:null,hexValue:"307830",id:2672,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"9873:3:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0x0"},functionReturnParameters:2662,id:2673,nodeType:"Return",src:"9866:10:9"}]},documentation:null,id:2675,implemented:!0,kind:"function",modifiers:[],name:"onERC1155Received",nodeType:"FunctionDefinition",parameters:{id:2659,nodeType:"ParameterList",parameters:[{constant:!1,id:2650,name:"operator",nodeType:"VariableDeclaration",scope:2675,src:"9653:16:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:2649,name:"address",nodeType:"ElementaryTypeName",src:"9653:7:9",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:!1,id:2652,name:"",nodeType:"VariableDeclaration",scope:2675,src:"9671:7:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:2651,name:"address",nodeType:"ElementaryTypeName",src:"9671:7:9",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:!1,id:2654,name:"",nodeType:"VariableDeclaration",scope:2675,src:"9689:7:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:2653,name:"uint256",nodeType:"ElementaryTypeName",src:"9689:7:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:!1,id:2656,name:"",nodeType:"VariableDeclaration",scope:2675,src:"9705:7:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:2655,name:"uint256",nodeType:"ElementaryTypeName",src:"9705:7:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:!1,id:2658,name:"",nodeType:"VariableDeclaration",scope:2675,src:"9724:14:9",stateVariable:!1,storageLocation:"calldata",typeDescriptions:{typeIdentifier:"t_bytes_calldata_ptr",typeString:"bytes"},typeName:{id:2657,name:"bytes",nodeType:"ElementaryTypeName",src:"9724:5:9",typeDescriptions:{typeIdentifier:"t_bytes_storage_ptr",typeString:"bytes"}},value:null,visibility:"internal"}],src:"9652:96:9"},returnParameters:{id:2662,nodeType:"ParameterList",parameters:[{constant:!1,id:2661,name:"",nodeType:"VariableDeclaration",scope:2675,src:"9766:6:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bytes4",typeString:"bytes4"},typeName:{id:2660,name:"bytes4",nodeType:"ElementaryTypeName",src:"9766:6:9",typeDescriptions:{typeIdentifier:"t_bytes4",typeString:"bytes4"}},value:null,visibility:"internal"}],src:"9765:8:9"},scope:2963,src:"9626:257:9",stateMutability:"nonpayable",superFunction:4907,visibility:"external"},{body:{id:2703,nodeType:"Block",src:"10067:110:9",statements:[{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_address",typeString:"address"},id:2696,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:2692,name:"_operator",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2677,src:"10081:9:9",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,arguments:[{argumentTypes:null,id:2694,name:"this",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:5312,src:"10102:4:9",typeDescriptions:{typeIdentifier:"t_contract$_MarketMaker_$2963",typeString:"contract MarketMaker"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_MarketMaker_$2963",typeString:"contract MarketMaker"}],id:2693,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"10094:7:9",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:2695,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"10094:13:9",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},src:"10081:26:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:null,id:2700,nodeType:"IfStatement",src:"10077:74:9",trueBody:{id:2699,nodeType:"Block",src:"10109:42:9",statements:[{expression:{argumentTypes:null,hexValue:"30786632336136653631",id:2697,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"10130:10:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_4063915617_by_1",typeString:"int_const 4063915617"},value:"0xf23a6e61"},functionReturnParameters:2691,id:2698,nodeType:"Return",src:"10123:17:9"}]}},{expression:{argumentTypes:null,hexValue:"307830",id:2701,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"10167:3:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0x0"},functionReturnParameters:2691,id:2702,nodeType:"Return",src:"10160:10:9"}]},documentation:null,id:2704,implemented:!0,kind:"function",modifiers:[],name:"onERC1155BatchReceived",nodeType:"FunctionDefinition",parameters:{id:2688,nodeType:"ParameterList",parameters:[{constant:!1,id:2677,name:"_operator",nodeType:"VariableDeclaration",scope:2704,src:"9921:17:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:2676,name:"address",nodeType:"ElementaryTypeName",src:"9921:7:9",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:!1,id:2679,name:"",nodeType:"VariableDeclaration",scope:2704,src:"9940:7:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:2678,name:"address",nodeType:"ElementaryTypeName",src:"9940:7:9",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:!1,id:2682,name:"",nodeType:"VariableDeclaration",scope:2704,src:"9958:18:9",stateVariable:!1,storageLocation:"calldata",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_calldata_ptr",typeString:"uint256[]"},typeName:{baseType:{id:2680,name:"uint256",nodeType:"ElementaryTypeName",src:"9958:7:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:2681,length:null,nodeType:"ArrayTypeName",src:"9958:9:9",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage_ptr",typeString:"uint256[]"}},value:null,visibility:"internal"},{constant:!1,id:2685,name:"",nodeType:"VariableDeclaration",scope:2704,src:"9986:18:9",stateVariable:!1,storageLocation:"calldata",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_calldata_ptr",typeString:"uint256[]"},typeName:{baseType:{id:2683,name:"uint256",nodeType:"ElementaryTypeName",src:"9986:7:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:2684,length:null,nodeType:"ArrayTypeName",src:"9986:9:9",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage_ptr",typeString:"uint256[]"}},value:null,visibility:"internal"},{constant:!1,id:2687,name:"",nodeType:"VariableDeclaration",scope:2704,src:"10017:14:9",stateVariable:!1,storageLocation:"calldata",typeDescriptions:{typeIdentifier:"t_bytes_calldata_ptr",typeString:"bytes"},typeName:{id:2686,name:"bytes",nodeType:"ElementaryTypeName",src:"10017:5:9",typeDescriptions:{typeIdentifier:"t_bytes_storage_ptr",typeString:"bytes"}},value:null,visibility:"internal"}],src:"9920:121:9"},returnParameters:{id:2691,nodeType:"ParameterList",parameters:[{constant:!1,id:2690,name:"",nodeType:"VariableDeclaration",scope:2704,src:"10059:6:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bytes4",typeString:"bytes4"},typeName:{id:2689,name:"bytes4",nodeType:"ElementaryTypeName",src:"10059:6:9",typeDescriptions:{typeIdentifier:"t_bytes4",typeString:"bytes4"}},value:null,visibility:"internal"}],src:"10058:8:9"},scope:2963,src:"9889:288:9",stateMutability:"nonpayable",superFunction:4924,visibility:"external"},{body:{id:2744,nodeType:"Block",src:"10311:180:9",statements:[{expression:{argumentTypes:null,id:2721,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,id:2712,name:"partition",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2710,src:"10321:9:9",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[] memory"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:2718,name:"conditionId",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2706,src:"10373:11:9",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes32",typeString:"bytes32"}],expression:{argumentTypes:null,id:2716,name:"pmSystem",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1985,src:"10344:8:9",typeDescriptions:{typeIdentifier:"t_contract$_PredictionMarketSystem_$1456",typeString:"contract PredictionMarketSystem"}},id:2717,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"getOutcomeSlotCount",nodeType:"MemberAccess",referencedDeclaration:1427,src:"10344:28:9",typeDescriptions:{typeIdentifier:"t_function_external_view$_t_bytes32_$returns$_t_uint256_$",typeString:"function (bytes32) view external returns (uint256)"}},id:2719,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"10344:41:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],id:2715,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"NewExpression",src:"10333:10:9",typeDescriptions:{typeIdentifier:"t_function_objectcreation_pure$_t_uint256_$returns$_t_array$_t_uint256_$dyn_memory_$",typeString:"function (uint256) pure returns (uint256[] memory)"},typeName:{baseType:{id:2713,name:"uint",nodeType:"ElementaryTypeName",src:"10337:4:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:2714,length:null,nodeType:"ArrayTypeName",src:"10337:6:9",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage_ptr",typeString:"uint256[]"}}},id:2720,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"10333:53:9",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory",typeString:"uint256[] memory"}},src:"10321:65:9",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[] memory"}},id:2722,nodeType:"ExpressionStatement",src:"10321:65:9"},{body:{id:2742,nodeType:"Block",src:"10439:46:9",statements:[{expression:{argumentTypes:null,id:2740,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,baseExpression:{argumentTypes:null,id:2734,name:"partition",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2710,src:"10453:9:9",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[] memory"}},id:2736,indexExpression:{argumentTypes:null,id:2735,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2724,src:"10463:1:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!0,nodeType:"IndexAccess",src:"10453:12:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:2739,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,hexValue:"31",id:2737,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"10468:1:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_1_by_1",typeString:"int_const 1"},value:"1"},nodeType:"BinaryOperation",operator:"<<",rightExpression:{argumentTypes:null,id:2738,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2724,src:"10473:1:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"10468:6:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"10453:21:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:2741,nodeType:"ExpressionStatement",src:"10453:21:9"}]},condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:2730,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:2727,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2724,src:"10412:1:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"<",rightExpression:{argumentTypes:null,expression:{argumentTypes:null,id:2728,name:"partition",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2710,src:"10416:9:9",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[] memory"}},id:2729,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"length",nodeType:"MemberAccess",referencedDeclaration:null,src:"10416:16:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"10412:20:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},id:2743,initializationExpression:{assignments:[2724],declarations:[{constant:!1,id:2724,name:"i",nodeType:"VariableDeclaration",scope:2743,src:"10400:6:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:2723,name:"uint",nodeType:"ElementaryTypeName",src:"10400:4:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:2726,initialValue:{argumentTypes:null,hexValue:"30",id:2725,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"10409:1:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},nodeType:"VariableDeclarationStatement",src:"10400:10:9"},loopExpression:{expression:{argumentTypes:null,id:2732,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,nodeType:"UnaryOperation",operator:"++",prefix:!1,src:"10434:3:9",subExpression:{argumentTypes:null,id:2731,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2724,src:"10434:1:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:2733,nodeType:"ExpressionStatement",src:"10434:3:9"},nodeType:"ForStatement",src:"10396:89:9"}]},documentation:null,id:2745,implemented:!0,kind:"function",modifiers:[],name:"generateBasicPartition",nodeType:"FunctionDefinition",parameters:{id:2707,nodeType:"ParameterList",parameters:[{constant:!1,id:2706,name:"conditionId",nodeType:"VariableDeclaration",scope:2745,src:"10215:19:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"},typeName:{id:2705,name:"bytes32",nodeType:"ElementaryTypeName",src:"10215:7:9",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},value:null,visibility:"internal"}],src:"10214:21:9"},returnParameters:{id:2711,nodeType:"ParameterList",parameters:[{constant:!1,id:2710,name:"partition",nodeType:"VariableDeclaration",scope:2745,src:"10282:23:9",stateVariable:!1,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[]"},typeName:{baseType:{id:2708,name:"uint",nodeType:"ElementaryTypeName",src:"10282:4:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:2709,length:null,nodeType:"ArrayTypeName",src:"10282:6:9",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage_ptr",typeString:"uint256[]"}},value:null,visibility:"internal"}],src:"10281:25:9"},scope:2963,src:"10183:308:9",stateMutability:"view",superFunction:null,visibility:"private"},{body:{id:2811,nodeType:"Block",src:"10596:480:9",statements:[{assignments:[2753],declarations:[{constant:!1,id:2753,name:"collectionId",nodeType:"VariableDeclaration",scope:2811,src:"10606:17:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:2752,name:"uint",nodeType:"ElementaryTypeName",src:"10606:4:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:2755,initialValue:{argumentTypes:null,hexValue:"30",id:2754,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"10626:1:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},nodeType:"VariableDeclarationStatement",src:"10606:21:9"},{body:{id:2799,nodeType:"Block",src:"10684:280:9",statements:[{assignments:[2768],declarations:[{constant:!1,id:2768,name:"curOutcomeSlotCount",nodeType:"VariableDeclaration",scope:2799,src:"10698:24:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:2767,name:"uint",nodeType:"ElementaryTypeName",src:"10698:4:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:2775,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,baseExpression:{argumentTypes:null,id:2771,name:"conditionIds",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1990,src:"10754:12:9",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage",typeString:"bytes32[] storage ref"}},id:2773,indexExpression:{argumentTypes:null,id:2772,name:"k",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2757,src:"10767:1:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"10754:15:9",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes32",typeString:"bytes32"}],expression:{argumentTypes:null,id:2769,name:"pmSystem",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1985,src:"10725:8:9",typeDescriptions:{typeIdentifier:"t_contract$_PredictionMarketSystem_$1456",typeString:"contract PredictionMarketSystem"}},id:2770,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"getOutcomeSlotCount",nodeType:"MemberAccess",referencedDeclaration:1427,src:"10725:28:9",typeDescriptions:{typeIdentifier:"t_function_external_view$_t_bytes32_$returns$_t_uint256_$",typeString:"function (bytes32) view external returns (uint256)"}},id:2774,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"10725:45:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"10698:72:9"},{expression:{argumentTypes:null,id:2793,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,id:2776,name:"collectionId",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2753,src:"10784:12:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"+=",rightHandSide:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,baseExpression:{argumentTypes:null,id:2781,name:"conditionIds",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1990,src:"10849:12:9",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage",typeString:"bytes32[] storage ref"}},id:2783,indexExpression:{argumentTypes:null,id:2782,name:"k",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2757,src:"10862:1:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"10849:15:9",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:2789,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,hexValue:"31",id:2784,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"10882:1:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_1_by_1",typeString:"int_const 1"},value:"1"},nodeType:"BinaryOperation",operator:"<<",rightExpression:{argumentTypes:null,components:[{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:2787,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:2785,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2747,src:"10888:1:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"%",rightExpression:{argumentTypes:null,id:2786,name:"curOutcomeSlotCount",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2768,src:"10892:19:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"10888:23:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],id:2788,isConstant:!1,isInlineArray:!1,isLValue:!1,isPure:!1,lValueRequested:!1,nodeType:"TupleExpression",src:"10887:25:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"10882:30:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes32",typeString:"bytes32"},{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:2779,name:"abi",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:5262,src:"10815:3:9",typeDescriptions:{typeIdentifier:"t_magic_abi",typeString:"abi"}},id:2780,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,memberName:"encodePacked",nodeType:"MemberAccess",referencedDeclaration:null,src:"10815:16:9",typeDescriptions:{typeIdentifier:"t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$",typeString:"function () pure returns (bytes memory)"}},id:2790,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"10815:98:9",typeDescriptions:{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes memory"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes memory"}],id:2778,name:"keccak256",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:5269,src:"10805:9:9",typeDescriptions:{typeIdentifier:"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$",typeString:"function (bytes memory) pure returns (bytes32)"}},id:2791,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"10805:109:9",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes32",typeString:"bytes32"}],id:2777,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"10800:4:9",typeDescriptions:{typeIdentifier:"t_type$_t_uint256_$",typeString:"type(uint256)"},typeName:"uint"},id:2792,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"10800:115:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"10784:131:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:2794,nodeType:"ExpressionStatement",src:"10784:131:9"},{expression:{argumentTypes:null,id:2797,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,id:2795,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2747,src:"10929:1:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"/=",rightHandSide:{argumentTypes:null,id:2796,name:"curOutcomeSlotCount",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2768,src:"10934:19:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"10929:24:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:2798,nodeType:"ExpressionStatement",src:"10929:24:9"}]},condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:2763,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:2760,name:"k",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2757,src:"10654:1:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"<",rightExpression:{argumentTypes:null,expression:{argumentTypes:null,id:2761,name:"conditionIds",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1990,src:"10658:12:9",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage",typeString:"bytes32[] storage ref"}},id:2762,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,memberName:"length",nodeType:"MemberAccess",referencedDeclaration:null,src:"10658:19:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"10654:23:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},id:2800,initializationExpression:{assignments:[2757],declarations:[{constant:!1,id:2757,name:"k",nodeType:"VariableDeclaration",scope:2800,src:"10642:6:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:2756,name:"uint",nodeType:"ElementaryTypeName",src:"10642:4:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:2759,initialValue:{argumentTypes:null,hexValue:"30",id:2758,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"10651:1:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},nodeType:"VariableDeclarationStatement",src:"10642:10:9"},loopExpression:{expression:{argumentTypes:null,id:2765,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,nodeType:"UnaryOperation",operator:"++",prefix:!1,src:"10679:3:9",subExpression:{argumentTypes:null,id:2764,name:"k",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2757,src:"10679:1:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:2766,nodeType:"ExpressionStatement",src:"10679:3:9"},nodeType:"ForStatement",src:"10638:326:9"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:2805,name:"collateralToken",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1987,src:"11025:15:9",typeDescriptions:{typeIdentifier:"t_contract$_IERC20_$5241",typeString:"contract IERC20"}},{argumentTypes:null,id:2806,name:"collectionId",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2753,src:"11054:12:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_IERC20_$5241",typeString:"contract IERC20"},{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:2803,name:"abi",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:5262,src:"10995:3:9",typeDescriptions:{typeIdentifier:"t_magic_abi",typeString:"abi"}},id:2804,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,memberName:"encodePacked",nodeType:"MemberAccess",referencedDeclaration:null,src:"10995:16:9",typeDescriptions:{typeIdentifier:"t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$",typeString:"function () pure returns (bytes memory)"}},id:2807,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"10995:72:9",typeDescriptions:{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes memory"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes memory"}],id:2802,name:"keccak256",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:5269,src:"10985:9:9",typeDescriptions:{typeIdentifier:"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$",typeString:"function (bytes memory) pure returns (bytes32)"}},id:2808,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"10985:83:9",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes32",typeString:"bytes32"}],id:2801,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"10980:4:9",typeDescriptions:{typeIdentifier:"t_type$_t_uint256_$",typeString:"type(uint256)"},typeName:"uint"},id:2809,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"10980:89:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},functionReturnParameters:2751,id:2810,nodeType:"Return",src:"10973:96:9"}]},documentation:null,id:2812,implemented:!0,kind:"function",modifiers:[],name:"generateAtomicPositionId",nodeType:"FunctionDefinition",parameters:{id:2748,nodeType:"ParameterList",parameters:[{constant:!1,id:2747,name:"i",nodeType:"VariableDeclaration",scope:2812,src:"10531:6:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:2746,name:"uint",nodeType:"ElementaryTypeName",src:"10531:4:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"10530:8:9"},returnParameters:{id:2751,nodeType:"ParameterList",parameters:[{constant:!1,id:2750,name:"",nodeType:"VariableDeclaration",scope:2812,src:"10586:4:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:2749,name:"uint",nodeType:"ElementaryTypeName",src:"10586:4:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"10585:6:9"},scope:2963,src:"10497:579:9",stateMutability:"view",superFunction:null,visibility:"internal"},{body:{id:2886,nodeType:"Block",src:"11204:613:9",statements:[{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:2823,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:2821,name:"conditionsLeft",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2816,src:"11217:14:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,hexValue:"30",id:2822,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"11235:1:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"11217:19:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:null,id:2825,nodeType:"IfStatement",src:"11214:31:9",trueBody:{expression:null,functionReturnParameters:2820,id:2824,nodeType:"Return",src:"11238:7:9"}},{expression:{argumentTypes:null,id:2827,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,nodeType:"UnaryOperation",operator:"--",prefix:!1,src:"11254:16:9",subExpression:{argumentTypes:null,id:2826,name:"conditionsLeft",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2816,src:"11254:14:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:2828,nodeType:"ExpressionStatement",src:"11254:16:9"},{assignments:[2832],declarations:[{constant:!1,id:2832,name:"partition",nodeType:"VariableDeclaration",scope:2886,src:"11281:23:9",stateVariable:!1,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[]"},typeName:{baseType:{id:2830,name:"uint",nodeType:"ElementaryTypeName",src:"11281:4:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:2831,length:null,nodeType:"ArrayTypeName",src:"11281:6:9",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage_ptr",typeString:"uint256[]"}},value:null,visibility:"internal"}],id:2838,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,baseExpression:{argumentTypes:null,id:2834,name:"conditionIds",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1990,src:"11330:12:9",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage",typeString:"bytes32[] storage ref"}},id:2836,indexExpression:{argumentTypes:null,id:2835,name:"conditionsLeft",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2816,src:"11343:14:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"11330:28:9",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes32",typeString:"bytes32"}],id:2833,name:"generateBasicPartition",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2745,src:"11307:22:9",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_bytes32_$returns$_t_array$_t_uint256_$dyn_memory_ptr_$",typeString:"function (bytes32) view returns (uint256[] memory)"}},id:2837,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"11307:52:9",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[] memory"}},nodeType:"VariableDeclarationStatement",src:"11281:78:9"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:2842,name:"collateralToken",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1987,src:"11392:15:9",typeDescriptions:{typeIdentifier:"t_contract$_IERC20_$5241",typeString:"contract IERC20"}},{argumentTypes:null,arguments:[{argumentTypes:null,id:2844,name:"parentCollectionId",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2818,src:"11417:18:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],id:2843,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"11409:7:9",typeDescriptions:{typeIdentifier:"t_type$_t_bytes32_$",typeString:"type(bytes32)"},typeName:"bytes32"},id:2845,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"11409:27:9",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},{argumentTypes:null,baseExpression:{argumentTypes:null,id:2846,name:"conditionIds",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1990,src:"11438:12:9",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage",typeString:"bytes32[] storage ref"}},id:2848,indexExpression:{argumentTypes:null,id:2847,name:"conditionsLeft",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2816,src:"11451:14:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"11438:28:9",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},{argumentTypes:null,id:2849,name:"partition",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2832,src:"11468:9:9",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[] memory"}},{argumentTypes:null,id:2850,name:"amount",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2814,src:"11479:6:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_IERC20_$5241",typeString:"contract IERC20"},{typeIdentifier:"t_bytes32",typeString:"bytes32"},{typeIdentifier:"t_bytes32",typeString:"bytes32"},{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[] memory"},{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:2839,name:"pmSystem",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1985,src:"11369:8:9",typeDescriptions:{typeIdentifier:"t_contract$_PredictionMarketSystem_$1456",typeString:"contract PredictionMarketSystem"}},id:2841,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"splitPosition",nodeType:"MemberAccess",referencedDeclaration:951,src:"11369:22:9",typeDescriptions:{typeIdentifier:"t_function_external_nonpayable$_t_contract$_IERC20_$5241_$_t_bytes32_$_t_bytes32_$_t_array$_t_uint256_$dyn_memory_ptr_$_t_uint256_$returns$__$",typeString:"function (contract IERC20,bytes32,bytes32,uint256[] memory,uint256) external"}},id:2851,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"11369:117:9",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:2852,nodeType:"ExpressionStatement",src:"11369:117:9"},{body:{id:2884,nodeType:"Block",src:"11539:272:9",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:2865,name:"amount",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2814,src:"11604:6:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,id:2866,name:"conditionsLeft",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2816,src:"11628:14:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:2881,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:2867,name:"parentCollectionId",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2818,src:"11660:18:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"+",rightExpression:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,baseExpression:{argumentTypes:null,id:2872,name:"conditionIds",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1990,src:"11734:12:9",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage",typeString:"bytes32[] storage ref"}},id:2874,indexExpression:{argumentTypes:null,id:2873,name:"conditionsLeft",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2816,src:"11747:14:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"11734:28:9",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},{argumentTypes:null,baseExpression:{argumentTypes:null,id:2875,name:"partition",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2832,src:"11784:9:9",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[] memory"}},id:2877,indexExpression:{argumentTypes:null,id:2876,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2854,src:"11794:1:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"11784:12:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes32",typeString:"bytes32"},{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:2870,name:"abi",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:5262,src:"11696:3:9",typeDescriptions:{typeIdentifier:"t_magic_abi",typeString:"abi"}},id:2871,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,memberName:"encodePacked",nodeType:"MemberAccess",referencedDeclaration:null,src:"11696:16:9",typeDescriptions:{typeIdentifier:"t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$",typeString:"function () pure returns (bytes memory)"}},id:2878,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"11696:101:9",typeDescriptions:{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes memory"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes memory"}],id:2869,name:"keccak256",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:5269,src:"11686:9:9",typeDescriptions:{typeIdentifier:"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$",typeString:"function (bytes memory) pure returns (bytes32)"}},id:2879,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"11686:112:9",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes32",typeString:"bytes32"}],id:2868,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"11681:4:9",typeDescriptions:{typeIdentifier:"t_type$_t_uint256_$",typeString:"type(uint256)"},typeName:"uint"},id:2880,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"11681:118:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"11660:139:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"}],id:2864,name:"splitPositionThroughAllConditions",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2887,src:"11553:33:9",typeDescriptions:{typeIdentifier:"t_function_internal_nonpayable$_t_uint256_$_t_uint256_$_t_uint256_$returns$__$",typeString:"function (uint256,uint256,uint256)"}},id:2882,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"11553:247:9",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:2883,nodeType:"ExpressionStatement",src:"11553:247:9"}]},condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:2860,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:2857,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2854,src:"11512:1:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"<",rightExpression:{argumentTypes:null,expression:{argumentTypes:null,id:2858,name:"partition",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2832,src:"11516:9:9",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[] memory"}},id:2859,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"length",nodeType:"MemberAccess",referencedDeclaration:null,src:"11516:16:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"11512:20:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},id:2885,initializationExpression:{assignments:[2854],declarations:[{constant:!1,id:2854,name:"i",nodeType:"VariableDeclaration",scope:2885,src:"11500:6:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:2853,name:"uint",nodeType:"ElementaryTypeName",src:"11500:4:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:2856,initialValue:{argumentTypes:null,hexValue:"30",id:2855,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"11509:1:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},nodeType:"VariableDeclarationStatement",src:"11500:10:9"},loopExpression:{expression:{argumentTypes:null,id:2862,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,nodeType:"UnaryOperation",operator:"++",prefix:!1,src:"11534:3:9",subExpression:{argumentTypes:null,id:2861,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2854,src:"11534:1:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:2863,nodeType:"ExpressionStatement",src:"11534:3:9"},nodeType:"ForStatement",src:"11496:315:9"}]},documentation:null,id:2887,implemented:!0,kind:"function",modifiers:[],name:"splitPositionThroughAllConditions",nodeType:"FunctionDefinition",parameters:{id:2819,nodeType:"ParameterList",parameters:[{constant:!1,id:2814,name:"amount",nodeType:"VariableDeclaration",scope:2887,src:"11125:11:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:2813,name:"uint",nodeType:"ElementaryTypeName",src:"11125:4:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:!1,id:2816,name:"conditionsLeft",nodeType:"VariableDeclaration",scope:2887,src:"11138:19:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:2815,name:"uint",nodeType:"ElementaryTypeName",src:"11138:4:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:!1,id:2818,name:"parentCollectionId",nodeType:"VariableDeclaration",scope:2887,src:"11159:23:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:2817,name:"uint",nodeType:"ElementaryTypeName",src:"11159:4:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"11124:59:9"},returnParameters:{id:2820,nodeType:"ParameterList",parameters:[],src:"11204:0:9"},scope:2963,src:"11082:735:9",stateMutability:"nonpayable",superFunction:null,visibility:"private"},{body:{id:2961,nodeType:"Block",src:"11946:615:9",statements:[{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:2898,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:2896,name:"conditionsLeft",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2891,src:"11959:14:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,hexValue:"30",id:2897,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"11977:1:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"11959:19:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:null,id:2900,nodeType:"IfStatement",src:"11956:31:9",trueBody:{expression:null,functionReturnParameters:2895,id:2899,nodeType:"Return",src:"11980:7:9"}},{expression:{argumentTypes:null,id:2902,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,nodeType:"UnaryOperation",operator:"--",prefix:!1,src:"11996:16:9",subExpression:{argumentTypes:null,id:2901,name:"conditionsLeft",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2891,src:"11996:14:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:2903,nodeType:"ExpressionStatement",src:"11996:16:9"},{assignments:[2907],declarations:[{constant:!1,id:2907,name:"partition",nodeType:"VariableDeclaration",scope:2961,src:"12023:23:9",stateVariable:!1,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[]"},typeName:{baseType:{id:2905,name:"uint",nodeType:"ElementaryTypeName",src:"12023:4:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:2906,length:null,nodeType:"ArrayTypeName",src:"12023:6:9",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage_ptr",typeString:"uint256[]"}},value:null,visibility:"internal"}],id:2913,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,baseExpression:{argumentTypes:null,id:2909,name:"conditionIds",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1990,src:"12072:12:9",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage",typeString:"bytes32[] storage ref"}},id:2911,indexExpression:{argumentTypes:null,id:2910,name:"conditionsLeft",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2891,src:"12085:14:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"12072:28:9",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes32",typeString:"bytes32"}],id:2908,name:"generateBasicPartition",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2745,src:"12049:22:9",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_bytes32_$returns$_t_array$_t_uint256_$dyn_memory_ptr_$",typeString:"function (bytes32) view returns (uint256[] memory)"}},id:2912,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"12049:52:9",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[] memory"}},nodeType:"VariableDeclarationStatement",src:"12023:78:9"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:2917,name:"collateralToken",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1987,src:"12135:15:9",typeDescriptions:{typeIdentifier:"t_contract$_IERC20_$5241",typeString:"contract IERC20"}},{argumentTypes:null,arguments:[{argumentTypes:null,id:2919,name:"parentCollectionId",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2893,src:"12160:18:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],id:2918,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"12152:7:9",typeDescriptions:{typeIdentifier:"t_type$_t_bytes32_$",typeString:"type(bytes32)"},typeName:"bytes32"},id:2920,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"12152:27:9",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},{argumentTypes:null,baseExpression:{argumentTypes:null,id:2921,name:"conditionIds",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1990,src:"12181:12:9",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage",typeString:"bytes32[] storage ref"}},id:2923,indexExpression:{argumentTypes:null,id:2922,name:"conditionsLeft",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2891,src:"12194:14:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"12181:28:9",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},{argumentTypes:null,id:2924,name:"partition",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2907,src:"12211:9:9",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[] memory"}},{argumentTypes:null,id:2925,name:"amount",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2889,src:"12222:6:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_IERC20_$5241",typeString:"contract IERC20"},{typeIdentifier:"t_bytes32",typeString:"bytes32"},{typeIdentifier:"t_bytes32",typeString:"bytes32"},{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[] memory"},{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:2914,name:"pmSystem",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1985,src:"12111:8:9",typeDescriptions:{typeIdentifier:"t_contract$_PredictionMarketSystem_$1456",typeString:"contract PredictionMarketSystem"}},id:2916,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"mergePositions",nodeType:"MemberAccess",referencedDeclaration:1177,src:"12111:23:9",typeDescriptions:{typeIdentifier:"t_function_external_nonpayable$_t_contract$_IERC20_$5241_$_t_bytes32_$_t_bytes32_$_t_array$_t_uint256_$dyn_memory_ptr_$_t_uint256_$returns$__$",typeString:"function (contract IERC20,bytes32,bytes32,uint256[] memory,uint256) external"}},id:2926,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"12111:118:9",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:2927,nodeType:"ExpressionStatement",src:"12111:118:9"},{body:{id:2959,nodeType:"Block",src:"12282:273:9",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:2940,name:"amount",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2889,src:"12348:6:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,id:2941,name:"conditionsLeft",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2891,src:"12372:14:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:2956,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:2942,name:"parentCollectionId",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2893,src:"12404:18:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"+",rightExpression:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,baseExpression:{argumentTypes:null,id:2947,name:"conditionIds",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1990,src:"12478:12:9",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage",typeString:"bytes32[] storage ref"}},id:2949,indexExpression:{argumentTypes:null,id:2948,name:"conditionsLeft",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2891,src:"12491:14:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"12478:28:9",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},{argumentTypes:null,baseExpression:{argumentTypes:null,id:2950,name:"partition",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2907,src:"12528:9:9",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[] memory"}},id:2952,indexExpression:{argumentTypes:null,id:2951,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2929,src:"12538:1:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"12528:12:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes32",typeString:"bytes32"},{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:2945,name:"abi",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:5262,src:"12440:3:9",typeDescriptions:{typeIdentifier:"t_magic_abi",typeString:"abi"}},id:2946,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,memberName:"encodePacked",nodeType:"MemberAccess",referencedDeclaration:null,src:"12440:16:9",typeDescriptions:{typeIdentifier:"t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$",typeString:"function () pure returns (bytes memory)"}},id:2953,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"12440:101:9",typeDescriptions:{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes memory"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes memory"}],id:2944,name:"keccak256",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:5269,src:"12430:9:9",typeDescriptions:{typeIdentifier:"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$",typeString:"function (bytes memory) pure returns (bytes32)"}},id:2954,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"12430:112:9",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes32",typeString:"bytes32"}],id:2943,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"12425:4:9",typeDescriptions:{typeIdentifier:"t_type$_t_uint256_$",typeString:"type(uint256)"},typeName:"uint"},id:2955,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"12425:118:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"12404:139:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"}],id:2939,name:"mergePositionsThroughAllConditions",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2962,src:"12296:34:9",typeDescriptions:{typeIdentifier:"t_function_internal_nonpayable$_t_uint256_$_t_uint256_$_t_uint256_$returns$__$",typeString:"function (uint256,uint256,uint256)"}},id:2957,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"12296:248:9",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:2958,nodeType:"ExpressionStatement",src:"12296:248:9"}]},condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:2935,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:2932,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2929,src:"12255:1:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"<",rightExpression:{argumentTypes:null,expression:{argumentTypes:null,id:2933,name:"partition",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2907,src:"12259:9:9",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[] memory"}},id:2934,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"length",nodeType:"MemberAccess",referencedDeclaration:null,src:"12259:16:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"12255:20:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},id:2960,initializationExpression:{assignments:[2929],declarations:[{constant:!1,id:2929,name:"i",nodeType:"VariableDeclaration",scope:2960,src:"12243:6:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:2928,name:"uint",nodeType:"ElementaryTypeName",src:"12243:4:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:2931,initialValue:{argumentTypes:null,hexValue:"30",id:2930,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"12252:1:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},nodeType:"VariableDeclarationStatement",src:"12243:10:9"},loopExpression:{expression:{argumentTypes:null,id:2937,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,nodeType:"UnaryOperation",operator:"++",prefix:!1,src:"12277:3:9",subExpression:{argumentTypes:null,id:2936,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2929,src:"12277:1:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:2938,nodeType:"ExpressionStatement",src:"12277:3:9"},nodeType:"ForStatement",src:"12239:316:9"}]},documentation:null,id:2962,implemented:!0,kind:"function",modifiers:[],name:"mergePositionsThroughAllConditions",nodeType:"FunctionDefinition",parameters:{id:2894,nodeType:"ParameterList",parameters:[{constant:!1,id:2889,name:"amount",nodeType:"VariableDeclaration",scope:2962,src:"11867:11:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:2888,name:"uint",nodeType:"ElementaryTypeName",src:"11867:4:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:!1,id:2891,name:"conditionsLeft",nodeType:"VariableDeclaration",scope:2962,src:"11880:19:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:2890,name:"uint",nodeType:"ElementaryTypeName",src:"11880:4:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:!1,id:2893,name:"parentCollectionId",nodeType:"VariableDeclaration",scope:2962,src:"11901:23:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:2892,name:"uint",nodeType:"ElementaryTypeName",src:"11901:4:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"11866:59:9"},returnParameters:{id:2895,nodeType:"ParameterList",parameters:[],src:"11946:0:9"},scope:2963,src:"11823:738:9",stateMutability:"nonpayable",superFunction:null,visibility:"private"}],scope:2964,src:"340:12223:9"}],src:"0:12563:9"},legacyAST:{absolutePath:"@gnosis.pm/hg-market-makers/contracts/MarketMaker.sol",exportedSymbols:{MarketMaker:[2963]},id:2964,nodeType:"SourceUnit",nodes:[{id:1930,literals:["solidity","^","0.5",".1"],nodeType:"PragmaDirective",src:"0:23:9"},{absolutePath:"erc-1155/contracts/IERC1155TokenReceiver.sol",file:"erc-1155/contracts/IERC1155TokenReceiver.sol",id:1931,nodeType:"ImportDirective",scope:2964,sourceUnit:4926,src:"24:54:9",symbolAliases:[],unitAlias:""},{absolutePath:"openzeppelin-solidity/contracts/ownership/Ownable.sol",file:"openzeppelin-solidity/contracts/ownership/Ownable.sol",id:1932,nodeType:"ImportDirective",scope:2964,sourceUnit:5173,src:"79:63:9",symbolAliases:[],unitAlias:""},{absolutePath:"openzeppelin-solidity/contracts/math/SafeMath.sol",file:"openzeppelin-solidity/contracts/math/SafeMath.sol",id:1933,nodeType:"ImportDirective",scope:2964,sourceUnit:5064,src:"143:59:9",symbolAliases:[],unitAlias:""},{absolutePath:"@gnosis.pm/util-contracts/contracts/SignedSafeMath.sol",file:"@gnosis.pm/util-contracts/contracts/SignedSafeMath.sol",id:1934,nodeType:"ImportDirective",scope:2964,sourceUnit:4115,src:"203:64:9",symbolAliases:[],unitAlias:""},{absolutePath:"@gnosis.pm/hg-contracts/contracts/PredictionMarketSystem.sol",file:"@gnosis.pm/hg-contracts/contracts/PredictionMarketSystem.sol",id:1935,nodeType:"ImportDirective",scope:2964,sourceUnit:1457,src:"268:70:9",symbolAliases:[],unitAlias:""},{baseContracts:[{arguments:null,baseName:{contractScope:null,id:1936,name:"Ownable",nodeType:"UserDefinedTypeName",referencedDeclaration:5172,src:"364:7:9",typeDescriptions:{typeIdentifier:"t_contract$_Ownable_$5172",typeString:"contract Ownable"}},id:1937,nodeType:"InheritanceSpecifier",src:"364:7:9"},{arguments:null,baseName:{contractScope:null,id:1938,name:"IERC1155TokenReceiver",nodeType:"UserDefinedTypeName",referencedDeclaration:4925,src:"373:21:9",typeDescriptions:{typeIdentifier:"t_contract$_IERC1155TokenReceiver_$4925",typeString:"contract IERC1155TokenReceiver"}},id:1939,nodeType:"InheritanceSpecifier",src:"373:21:9"}],contractDependencies:[4925,5172],contractKind:"contract",documentation:null,fullyImplemented:!1,id:2963,linearizedBaseContracts:[2963,4925,5172],name:"MarketMaker",nodeType:"ContractDefinition",nodes:[{id:1942,libraryName:{contractScope:null,id:1940,name:"SignedSafeMath",nodeType:"UserDefinedTypeName",referencedDeclaration:4114,src:"407:14:9",typeDescriptions:{typeIdentifier:"t_contract$_SignedSafeMath_$4114",typeString:"library SignedSafeMath"}},nodeType:"UsingForDirective",src:"401:29:9",typeName:{id:1941,name:"int",nodeType:"ElementaryTypeName",src:"426:3:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}}},{id:1945,libraryName:{contractScope:null,id:1943,name:"SafeMath",nodeType:"UserDefinedTypeName",referencedDeclaration:5063,src:"441:8:9",typeDescriptions:{typeIdentifier:"t_contract$_SafeMath_$5063",typeString:"library SafeMath"}},nodeType:"UsingForDirective",src:"435:24:9",typeName:{id:1944,name:"uint",nodeType:"ElementaryTypeName",src:"454:4:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}},{constant:!0,id:1950,name:"FEE_RANGE",nodeType:"VariableDeclaration",scope:2963,src:"501:41:9",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint64",typeString:"uint64"},typeName:{id:1946,name:"uint64",nodeType:"ElementaryTypeName",src:"501:6:9",typeDescriptions:{typeIdentifier:"t_uint64",typeString:"uint64"}},value:{argumentTypes:null,commonType:{typeIdentifier:"t_rational_1000000000000000000_by_1",typeString:"int_const 1000000000000000000"},id:1949,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,leftExpression:{argumentTypes:null,hexValue:"3130",id:1947,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"536:2:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_10_by_1",typeString:"int_const 10"},value:"10"},nodeType:"BinaryOperation",operator:"**",rightExpression:{argumentTypes:null,hexValue:"3138",id:1948,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"540:2:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_18_by_1",typeString:"int_const 18"},value:"18"},src:"536:6:9",typeDescriptions:{typeIdentifier:"t_rational_1000000000000000000_by_1",typeString:"int_const 1000000000000000000"}},visibility:"public"},{anonymous:!1,documentation:null,id:1954,name:"AMMCreated",nodeType:"EventDefinition",parameters:{id:1953,nodeType:"ParameterList",parameters:[{constant:!1,id:1952,indexed:!1,name:"initialFunding",nodeType:"VariableDeclaration",scope:1954,src:"596:19:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:1951,name:"uint",nodeType:"ElementaryTypeName",src:"596:4:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"595:21:9"},src:"579:38:9"},{anonymous:!1,documentation:null,id:1956,name:"AMMPaused",nodeType:"EventDefinition",parameters:{id:1955,nodeType:"ParameterList",parameters:[],src:"637:2:9"},src:"622:18:9"},{anonymous:!1,documentation:null,id:1958,name:"AMMResumed",nodeType:"EventDefinition",parameters:{id:1957,nodeType:"ParameterList",parameters:[],src:"661:2:9"},src:"645:19:9"},{anonymous:!1,documentation:null,id:1960,name:"AMMClosed",nodeType:"EventDefinition",parameters:{id:1959,nodeType:"ParameterList",parameters:[],src:"684:2:9"},src:"669:18:9"},{anonymous:!1,documentation:null,id:1964,name:"AMMFundingChanged",nodeType:"EventDefinition",parameters:{id:1963,nodeType:"ParameterList",parameters:[{constant:!1,id:1962,indexed:!1,name:"fundingChange",nodeType:"VariableDeclaration",scope:1964,src:"716:17:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"},typeName:{id:1961,name:"int",nodeType:"ElementaryTypeName",src:"716:3:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},value:null,visibility:"internal"}],src:"715:19:9"},src:"692:43:9"},{anonymous:!1,documentation:null,id:1968,name:"AMMFeeChanged",nodeType:"EventDefinition",parameters:{id:1967,nodeType:"ParameterList",parameters:[{constant:!1,id:1966,indexed:!1,name:"newFee",nodeType:"VariableDeclaration",scope:1968,src:"760:13:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint64",typeString:"uint64"},typeName:{id:1965,name:"uint64",nodeType:"ElementaryTypeName",src:"760:6:9",typeDescriptions:{typeIdentifier:"t_uint64",typeString:"uint64"}},value:null,visibility:"internal"}],src:"759:15:9"},src:"740:35:9"},{anonymous:!1,documentation:null,id:1972,name:"AMMFeeWithdrawal",nodeType:"EventDefinition",parameters:{id:1971,nodeType:"ParameterList",parameters:[{constant:!1,id:1970,indexed:!1,name:"fees",nodeType:"VariableDeclaration",scope:1972,src:"803:9:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:1969,name:"uint",nodeType:"ElementaryTypeName",src:"803:4:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"802:11:9"},src:"780:34:9"},{anonymous:!1,documentation:null,id:1983,name:"AMMOutcomeTokenTrade",nodeType:"EventDefinition",parameters:{id:1982,nodeType:"ParameterList",parameters:[{constant:!1,id:1974,indexed:!0,name:"transactor",nodeType:"VariableDeclaration",scope:1983,src:"846:26:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:1973,name:"address",nodeType:"ElementaryTypeName",src:"846:7:9",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:!1,id:1977,indexed:!1,name:"outcomeTokenAmounts",nodeType:"VariableDeclaration",scope:1983,src:"874:25:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_array$_t_int256_$dyn_memory_ptr",typeString:"int256[]"},typeName:{baseType:{id:1975,name:"int",nodeType:"ElementaryTypeName",src:"874:3:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},id:1976,length:null,nodeType:"ArrayTypeName",src:"874:5:9",typeDescriptions:{typeIdentifier:"t_array$_t_int256_$dyn_storage_ptr",typeString:"int256[]"}},value:null,visibility:"internal"},{constant:!1,id:1979,indexed:!1,name:"outcomeTokenNetCost",nodeType:"VariableDeclaration",scope:1983,src:"901:23:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"},typeName:{id:1978,name:"int",nodeType:"ElementaryTypeName",src:"901:3:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},value:null,visibility:"internal"},{constant:!1,id:1981,indexed:!1,name:"marketFees",nodeType:"VariableDeclaration",scope:1983,src:"926:15:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:1980,name:"uint",nodeType:"ElementaryTypeName",src:"926:4:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"845:97:9"},src:"819:124:9"},{constant:!1,id:1985,name:"pmSystem",nodeType:"VariableDeclaration",scope:2963,src:"984:38:9",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_contract$_PredictionMarketSystem_$1456",typeString:"contract PredictionMarketSystem"},typeName:{contractScope:null,id:1984,name:"PredictionMarketSystem",nodeType:"UserDefinedTypeName",referencedDeclaration:1456,src:"984:22:9",typeDescriptions:{typeIdentifier:"t_contract$_PredictionMarketSystem_$1456",typeString:"contract PredictionMarketSystem"}},value:null,visibility:"public"},{constant:!1,id:1987,name:"collateralToken",nodeType:"VariableDeclaration",scope:2963,src:"1028:29:9",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_contract$_IERC20_$5241",typeString:"contract IERC20"},typeName:{contractScope:null,id:1986,name:"IERC20",nodeType:"UserDefinedTypeName",referencedDeclaration:5241,src:"1028:6:9",typeDescriptions:{typeIdentifier:"t_contract$_IERC20_$5241",typeString:"contract IERC20"}},value:null,visibility:"public"},{constant:!1,id:1990,name:"conditionIds",nodeType:"VariableDeclaration",scope:2963,src:"1063:29:9",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage",typeString:"bytes32[]"},typeName:{baseType:{id:1988,name:"bytes32",nodeType:"ElementaryTypeName",src:"1063:7:9",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},id:1989,length:null,nodeType:"ArrayTypeName",src:"1063:9:9",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage_ptr",typeString:"bytes32[]"}},value:null,visibility:"public"},{constant:!1,id:1992,name:"atomicOutcomeSlotCount",nodeType:"VariableDeclaration",scope:2963,src:"1098:34:9",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:1991,name:"uint",nodeType:"ElementaryTypeName",src:"1098:4:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"public"},{constant:!1,id:1994,name:"fee",nodeType:"VariableDeclaration",scope:2963,src:"1138:17:9",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint64",typeString:"uint64"},typeName:{id:1993,name:"uint64",nodeType:"ElementaryTypeName",src:"1138:6:9",typeDescriptions:{typeIdentifier:"t_uint64",typeString:"uint64"}},value:null,visibility:"public"},{constant:!1,id:1996,name:"funding",nodeType:"VariableDeclaration",scope:2963,src:"1161:19:9",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:1995,name:"uint",nodeType:"ElementaryTypeName",src:"1161:4:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"public"},{constant:!1,id:1998,name:"stage",nodeType:"VariableDeclaration",scope:2963,src:"1186:18:9",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_enum$_Stage_$2002",typeString:"enum MarketMaker.Stage"},typeName:{contractScope:null,id:1997,name:"Stage",nodeType:"UserDefinedTypeName",referencedDeclaration:2002,src:"1186:5:9",typeDescriptions:{typeIdentifier:"t_enum$_Stage_$2002",typeString:"enum MarketMaker.Stage"}},value:null,visibility:"public"},{canonicalName:"MarketMaker.Stage",id:2002,members:[{id:1999,name:"Running",nodeType:"EnumValue",src:"1231:7:9"},{id:2e3,name:"Paused",nodeType:"EnumValue",src:"1248:6:9"},{id:2001,name:"Closed",nodeType:"EnumValue",src:"1264:6:9"}],name:"Stage",nodeType:"EnumDefinition",src:"1210:66:9"},{body:{id:2013,nodeType:"Block",src:"1346:97:9",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_enum$_Stage_$2002",typeString:"enum MarketMaker.Stage"},id:2009,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:2007,name:"stage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1998,src:"1409:5:9",typeDescriptions:{typeIdentifier:"t_enum$_Stage_$2002",typeString:"enum MarketMaker.Stage"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,id:2008,name:"_stage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2004,src:"1418:6:9",typeDescriptions:{typeIdentifier:"t_enum$_Stage_$2002",typeString:"enum MarketMaker.Stage"}},src:"1409:15:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"}],id:2006,name:"require",nodeType:"Identifier",overloadedDeclarations:[5278,5279],referencedDeclaration:5278,src:"1401:7:9",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$returns$__$",typeString:"function (bool) pure"}},id:2010,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"1401:24:9",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:2011,nodeType:"ExpressionStatement",src:"1401:24:9"},{id:2012,nodeType:"PlaceholderStatement",src:"1435:1:9"}]},documentation:null,id:2014,name:"atStage",nodeType:"ModifierDefinition",parameters:{id:2005,nodeType:"ParameterList",parameters:[{constant:!1,id:2004,name:"_stage",nodeType:"VariableDeclaration",scope:2014,src:"1332:12:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_enum$_Stage_$2002",typeString:"enum MarketMaker.Stage"},typeName:{contractScope:null,id:2003,name:"Stage",nodeType:"UserDefinedTypeName",referencedDeclaration:2002,src:"1332:5:9",typeDescriptions:{typeIdentifier:"t_enum$_Stage_$2002",typeString:"enum MarketMaker.Stage"}},value:null,visibility:"internal"}],src:"1331:14:9"},src:"1315:128:9",visibility:"internal"},{body:{id:2132,nodeType:"Block",src:"1626:838:9",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_bool",typeString:"bool"},id:2041,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,commonType:{typeIdentifier:"t_address",typeString:"address"},id:2037,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,arguments:[{argumentTypes:null,id:2032,name:"_pmSystem",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2016,src:"1679:9:9",typeDescriptions:{typeIdentifier:"t_contract$_PredictionMarketSystem_$1456",typeString:"contract PredictionMarketSystem"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_PredictionMarketSystem_$1456",typeString:"contract PredictionMarketSystem"}],id:2031,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"1671:7:9",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:2033,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"1671:18:9",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},nodeType:"BinaryOperation",operator:"!=",rightExpression:{argumentTypes:null,arguments:[{argumentTypes:null,hexValue:"30",id:2035,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"1701:1:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"}],expression:{argumentTypes:[{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"}],id:2034,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"1693:7:9",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:2036,isConstant:!1,isLValue:!1,isPure:!0,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"1693:10:9",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},src:"1671:32:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},nodeType:"BinaryOperation",operator:"&&",rightExpression:{argumentTypes:null,commonType:{typeIdentifier:"t_uint64",typeString:"uint64"},id:2040,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:2038,name:"_fee",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2023,src:"1707:4:9",typeDescriptions:{typeIdentifier:"t_uint64",typeString:"uint64"}},nodeType:"BinaryOperation",operator:"<",rightExpression:{argumentTypes:null,id:2039,name:"FEE_RANGE",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1950,src:"1714:9:9",typeDescriptions:{typeIdentifier:"t_uint64",typeString:"uint64"}},src:"1707:16:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},src:"1671:52:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"}],id:2030,name:"require",nodeType:"Identifier",overloadedDeclarations:[5278,5279],referencedDeclaration:5278,src:"1663:7:9",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$returns$__$",typeString:"function (bool) pure"}},id:2042,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"1663:61:9",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:2043,nodeType:"ExpressionStatement",src:"1663:61:9"},{expression:{argumentTypes:null,id:2046,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,id:2044,name:"pmSystem",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1985,src:"1734:8:9",typeDescriptions:{typeIdentifier:"t_contract$_PredictionMarketSystem_$1456",typeString:"contract PredictionMarketSystem"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,id:2045,name:"_pmSystem",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2016,src:"1745:9:9",typeDescriptions:{typeIdentifier:"t_contract$_PredictionMarketSystem_$1456",typeString:"contract PredictionMarketSystem"}},src:"1734:20:9",typeDescriptions:{typeIdentifier:"t_contract$_PredictionMarketSystem_$1456",typeString:"contract PredictionMarketSystem"}},id:2047,nodeType:"ExpressionStatement",src:"1734:20:9"},{expression:{argumentTypes:null,id:2050,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,id:2048,name:"collateralToken",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1987,src:"1764:15:9",typeDescriptions:{typeIdentifier:"t_contract$_IERC20_$5241",typeString:"contract IERC20"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,id:2049,name:"_collateralToken",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2018,src:"1782:16:9",typeDescriptions:{typeIdentifier:"t_contract$_IERC20_$5241",typeString:"contract IERC20"}},src:"1764:34:9",typeDescriptions:{typeIdentifier:"t_contract$_IERC20_$5241",typeString:"contract IERC20"}},id:2051,nodeType:"ExpressionStatement",src:"1764:34:9"},{expression:{argumentTypes:null,id:2054,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,id:2052,name:"conditionIds",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1990,src:"1808:12:9",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage",typeString:"bytes32[] storage ref"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,id:2053,name:"_conditionIds",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2021,src:"1823:13:9",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_memory_ptr",typeString:"bytes32[] memory"}},src:"1808:28:9",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage",typeString:"bytes32[] storage ref"}},id:2055,nodeType:"ExpressionStatement",src:"1808:28:9"},{expression:{argumentTypes:null,id:2058,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,id:2056,name:"fee",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1994,src:"1846:3:9",typeDescriptions:{typeIdentifier:"t_uint64",typeString:"uint64"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,id:2057,name:"_fee",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2023,src:"1852:4:9",typeDescriptions:{typeIdentifier:"t_uint64",typeString:"uint64"}},src:"1846:10:9",typeDescriptions:{typeIdentifier:"t_uint64",typeString:"uint64"}},id:2059,nodeType:"ExpressionStatement",src:"1846:10:9"},{expression:{argumentTypes:null,id:2062,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,id:2060,name:"atomicOutcomeSlotCount",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1992,src:"1867:22:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,hexValue:"31",id:2061,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"1892:1:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_1_by_1",typeString:"int_const 1"},value:"1"},src:"1867:26:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:2063,nodeType:"ExpressionStatement",src:"1867:26:9"},{body:{id:2084,nodeType:"Block",src:"1950:96:9",statements:[{expression:{argumentTypes:null,id:2082,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,id:2075,name:"atomicOutcomeSlotCount",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1992,src:"1964:22:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"*=",rightHandSide:{argumentTypes:null,arguments:[{argumentTypes:null,baseExpression:{argumentTypes:null,id:2078,name:"conditionIds",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1990,src:"2019:12:9",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage",typeString:"bytes32[] storage ref"}},id:2080,indexExpression:{argumentTypes:null,id:2079,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2065,src:"2032:1:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"2019:15:9",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes32",typeString:"bytes32"}],expression:{argumentTypes:null,id:2076,name:"pmSystem",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1985,src:"1990:8:9",typeDescriptions:{typeIdentifier:"t_contract$_PredictionMarketSystem_$1456",typeString:"contract PredictionMarketSystem"}},id:2077,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"getOutcomeSlotCount",nodeType:"MemberAccess",referencedDeclaration:1427,src:"1990:28:9",typeDescriptions:{typeIdentifier:"t_function_external_view$_t_bytes32_$returns$_t_uint256_$",typeString:"function (bytes32) view external returns (uint256)"}},id:2081,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"1990:45:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"1964:71:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:2083,nodeType:"ExpressionStatement",src:"1964:71:9"}]},condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:2071,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:2068,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2065,src:"1920:1:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"<",rightExpression:{argumentTypes:null,expression:{argumentTypes:null,id:2069,name:"conditionIds",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1990,src:"1924:12:9",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage",typeString:"bytes32[] storage ref"}},id:2070,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,memberName:"length",nodeType:"MemberAccess",referencedDeclaration:null,src:"1924:19:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"1920:23:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},id:2085,initializationExpression:{assignments:[2065],declarations:[{constant:!1,id:2065,name:"i",nodeType:"VariableDeclaration",scope:2085,src:"1908:6:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:2064,name:"uint",nodeType:"ElementaryTypeName",src:"1908:4:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:2067,initialValue:{argumentTypes:null,hexValue:"30",id:2066,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"1917:1:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},nodeType:"VariableDeclarationStatement",src:"1908:10:9"},loopExpression:{expression:{argumentTypes:null,id:2073,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,nodeType:"UnaryOperation",operator:"++",prefix:!1,src:"1945:3:9",subExpression:{argumentTypes:null,id:2072,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2065,src:"1945:1:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:2074,nodeType:"ExpressionStatement",src:"1945:3:9"},nodeType:"ForStatement",src:"1903:143:9"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:2089,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:2087,name:"atomicOutcomeSlotCount",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1992,src:"2063:22:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:">",rightExpression:{argumentTypes:null,hexValue:"31",id:2088,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"2088:1:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_1_by_1",typeString:"int_const 1"},value:"1"},src:"2063:26:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"636f6e646974696f6e73206d7573742062652076616c6964",id:2090,isConstant:!1,isLValue:!1,isPure:!0,kind:"string",lValueRequested:!1,nodeType:"Literal",src:"2091:26:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_cd148311b7911b4ee79dcdb6c43a5e3ce4b2c17323005884872aa057fa3bf785",typeString:'literal_string "conditions must be valid"'},value:"conditions must be valid"}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_cd148311b7911b4ee79dcdb6c43a5e3ce4b2c17323005884872aa057fa3bf785",typeString:'literal_string "conditions must be valid"'}],id:2086,name:"require",nodeType:"Identifier",overloadedDeclarations:[5278,5279],referencedDeclaration:5279,src:"2055:7:9",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:2091,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"2055:63:9",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:2092,nodeType:"ExpressionStatement",src:"2055:63:9"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_bool",typeString:"bool"},id:2109,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,arguments:[{argumentTypes:null,id:2096,name:"marketOwner",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2027,src:"2166:11:9",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,arguments:[{argumentTypes:null,id:2098,name:"this",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:5312,src:"2187:4:9",typeDescriptions:{typeIdentifier:"t_contract$_MarketMaker_$2963",typeString:"contract MarketMaker"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_MarketMaker_$2963",typeString:"contract MarketMaker"}],id:2097,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"2179:7:9",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:2099,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"2179:13:9",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:2100,name:"initialFunding",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2025,src:"2194:14:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:2094,name:"collateralToken",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1987,src:"2137:15:9",typeDescriptions:{typeIdentifier:"t_contract$_IERC20_$5241",typeString:"contract IERC20"}},id:2095,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"transferFrom",nodeType:"MemberAccess",referencedDeclaration:5224,src:"2137:28:9",typeDescriptions:{typeIdentifier:"t_function_external_nonpayable$_t_address_$_t_address_$_t_uint256_$returns$_t_bool_$",typeString:"function (address,address,uint256) external returns (bool)"}},id:2101,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"2137:72:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},nodeType:"BinaryOperation",operator:"&&",rightExpression:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:2105,name:"pmSystem",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1985,src:"2245:8:9",typeDescriptions:{typeIdentifier:"t_contract$_PredictionMarketSystem_$1456",typeString:"contract PredictionMarketSystem"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_PredictionMarketSystem_$1456",typeString:"contract PredictionMarketSystem"}],id:2104,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"2237:7:9",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:2106,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"2237:17:9",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:2107,name:"initialFunding",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2025,src:"2256:14:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:2102,name:"collateralToken",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1987,src:"2213:15:9",typeDescriptions:{typeIdentifier:"t_contract$_IERC20_$5241",typeString:"contract IERC20"}},id:2103,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"approve",nodeType:"MemberAccess",referencedDeclaration:5213,src:"2213:23:9",typeDescriptions:{typeIdentifier:"t_function_external_nonpayable$_t_address_$_t_uint256_$returns$_t_bool_$",typeString:"function (address,uint256) external returns (bool)"}},id:2108,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"2213:58:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},src:"2137:134:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"}],id:2093,name:"require",nodeType:"Identifier",overloadedDeclarations:[5278,5279],referencedDeclaration:5278,src:"2129:7:9",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$returns$__$",typeString:"function (bool) pure"}},id:2110,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"2129:143:9",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:2111,nodeType:"ExpressionStatement",src:"2129:143:9"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:2113,name:"initialFunding",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2025,src:"2317:14:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,expression:{argumentTypes:null,id:2114,name:"conditionIds",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1990,src:"2333:12:9",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage",typeString:"bytes32[] storage ref"}},id:2115,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,memberName:"length",nodeType:"MemberAccess",referencedDeclaration:null,src:"2333:19:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,hexValue:"30",id:2116,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"2354:1:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"}],id:2112,name:"splitPositionThroughAllConditions",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2887,src:"2283:33:9",typeDescriptions:{typeIdentifier:"t_function_internal_nonpayable$_t_uint256_$_t_uint256_$_t_uint256_$returns$__$",typeString:"function (uint256,uint256,uint256)"}},id:2117,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"2283:73:9",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:2118,nodeType:"ExpressionStatement",src:"2283:73:9"},{expression:{argumentTypes:null,id:2121,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,id:2119,name:"funding",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1996,src:"2367:7:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,id:2120,name:"initialFunding",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2025,src:"2377:14:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"2367:24:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:2122,nodeType:"ExpressionStatement",src:"2367:24:9"},{expression:{argumentTypes:null,id:2126,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,id:2123,name:"stage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1998,src:"2402:5:9",typeDescriptions:{typeIdentifier:"t_enum$_Stage_$2002",typeString:"enum MarketMaker.Stage"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,expression:{argumentTypes:null,id:2124,name:"Stage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2002,src:"2410:5:9",typeDescriptions:{typeIdentifier:"t_type$_t_enum$_Stage_$2002_$",typeString:"type(enum MarketMaker.Stage)"}},id:2125,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,memberName:"Running",nodeType:"MemberAccess",referencedDeclaration:null,src:"2410:13:9",typeDescriptions:{typeIdentifier:"t_enum$_Stage_$2002",typeString:"enum MarketMaker.Stage"}},src:"2402:21:9",typeDescriptions:{typeIdentifier:"t_enum$_Stage_$2002",typeString:"enum MarketMaker.Stage"}},id:2127,nodeType:"ExpressionStatement",src:"2402:21:9"},{eventCall:{argumentTypes:null,arguments:[{argumentTypes:null,id:2129,name:"funding",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1996,src:"2449:7:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],id:2128,name:"AMMCreated",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1954,src:"2438:10:9",typeDescriptions:{typeIdentifier:"t_function_event_nonpayable$_t_uint256_$returns$__$",typeString:"function (uint256)"}},id:2130,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"2438:19:9",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:2131,nodeType:"EmitStatement",src:"2433:24:9"}]},documentation:null,id:2133,implemented:!0,kind:"constructor",modifiers:[],name:"",nodeType:"FunctionDefinition",parameters:{id:2028,nodeType:"ParameterList",parameters:[{constant:!1,id:2016,name:"_pmSystem",nodeType:"VariableDeclaration",scope:2133,src:"1461:32:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_contract$_PredictionMarketSystem_$1456",typeString:"contract PredictionMarketSystem"},typeName:{contractScope:null,id:2015,name:"PredictionMarketSystem",nodeType:"UserDefinedTypeName",referencedDeclaration:1456,src:"1461:22:9",typeDescriptions:{typeIdentifier:"t_contract$_PredictionMarketSystem_$1456",typeString:"contract PredictionMarketSystem"}},value:null,visibility:"internal"},{constant:!1,id:2018,name:"_collateralToken",nodeType:"VariableDeclaration",scope:2133,src:"1495:23:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_contract$_IERC20_$5241",typeString:"contract IERC20"},typeName:{contractScope:null,id:2017,name:"IERC20",nodeType:"UserDefinedTypeName",referencedDeclaration:5241,src:"1495:6:9",typeDescriptions:{typeIdentifier:"t_contract$_IERC20_$5241",typeString:"contract IERC20"}},value:null,visibility:"internal"},{constant:!1,id:2021,name:"_conditionIds",nodeType:"VariableDeclaration",scope:2133,src:"1520:30:9",stateVariable:!1,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_memory_ptr",typeString:"bytes32[]"},typeName:{baseType:{id:2019,name:"bytes32",nodeType:"ElementaryTypeName",src:"1520:7:9",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},id:2020,length:null,nodeType:"ArrayTypeName",src:"1520:9:9",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage_ptr",typeString:"bytes32[]"}},value:null,visibility:"internal"},{constant:!1,id:2023,name:"_fee",nodeType:"VariableDeclaration",scope:2133,src:"1552:11:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint64",typeString:"uint64"},typeName:{id:2022,name:"uint64",nodeType:"ElementaryTypeName",src:"1552:6:9",typeDescriptions:{typeIdentifier:"t_uint64",typeString:"uint64"}},value:null,visibility:"internal"},{constant:!1,id:2025,name:"initialFunding",nodeType:"VariableDeclaration",scope:2133,src:"1565:19:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:2024,name:"uint",nodeType:"ElementaryTypeName",src:"1565:4:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:!1,id:2027,name:"marketOwner",nodeType:"VariableDeclaration",scope:2133,src:"1586:19:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:2026,name:"address",nodeType:"ElementaryTypeName",src:"1586:7:9",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"}],src:"1460:146:9"},returnParameters:{id:2029,nodeType:"ParameterList",parameters:[],src:"1626:0:9"},scope:2963,src:"1449:1015:9",stateMutability:"nonpayable",superFunction:null,visibility:"public"},{body:null,documentation:null,id:2141,implemented:!1,kind:"function",modifiers:[],name:"calcNetCost",nodeType:"FunctionDefinition",parameters:{id:2137,nodeType:"ParameterList",parameters:[{constant:!1,id:2136,name:"outcomeTokenAmounts",nodeType:"VariableDeclaration",scope:2141,src:"2491:32:9",stateVariable:!1,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_array$_t_int256_$dyn_memory_ptr",typeString:"int256[]"},typeName:{baseType:{id:2134,name:"int",nodeType:"ElementaryTypeName",src:"2491:3:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},id:2135,length:null,nodeType:"ArrayTypeName",src:"2491:5:9",typeDescriptions:{typeIdentifier:"t_array$_t_int256_$dyn_storage_ptr",typeString:"int256[]"}},value:null,visibility:"internal"}],src:"2490:34:9"},returnParameters:{id:2140,nodeType:"ParameterList",parameters:[{constant:!1,id:2139,name:"netCost",nodeType:"VariableDeclaration",scope:2141,src:"2546:11:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"},typeName:{id:2138,name:"int",nodeType:"ElementaryTypeName",src:"2546:3:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},value:null,visibility:"internal"}],src:"2545:13:9"},scope:2963,src:"2470:89:9",stateMutability:"view",superFunction:null,visibility:"public"},{body:{id:2251,nodeType:"Block",src:"2923:965:9",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_int256",typeString:"int256"},id:2155,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:2153,name:"fundingChange",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2143,src:"2941:13:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},nodeType:"BinaryOperation",operator:"!=",rightExpression:{argumentTypes:null,hexValue:"30",id:2154,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"2958:1:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"2941:18:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"412066756e64696e674368616e6765206f66207a65726f206973206e6f7420612066756e64696e674368616e676520617420616c6c2e20497420697320756e61636365707461626c652e",id:2156,isConstant:!1,isLValue:!1,isPure:!0,kind:"string",lValueRequested:!1,nodeType:"Literal",src:"2961:76:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_8b0abfd0a6a26cf9e76f3923f83612ab8d81fdb0309d6dce5760bf580777c1fc",typeString:'literal_string "A fundingChange of zero is not a fundingChange at all. It is unacceptable."'},value:"A fundingChange of zero is not a fundingChange at all. It is unacceptable."}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_8b0abfd0a6a26cf9e76f3923f83612ab8d81fdb0309d6dce5760bf580777c1fc",typeString:'literal_string "A fundingChange of zero is not a fundingChange at all. It is unacceptable."'}],id:2152,name:"require",nodeType:"Identifier",overloadedDeclarations:[5278,5279],referencedDeclaration:5279,src:"2933:7:9",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:2157,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"2933:105:9",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:2158,nodeType:"ExpressionStatement",src:"2933:105:9"},{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_int256",typeString:"int256"},id:2161,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:2159,name:"fundingChange",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2143,src:"3164:13:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},nodeType:"BinaryOperation",operator:">",rightExpression:{argumentTypes:null,hexValue:"30",id:2160,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"3180:1:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"3164:17:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:null,id:2209,nodeType:"IfStatement",src:"3160:399:9",trueBody:{id:2208,nodeType:"Block",src:"3183:376:9",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_bool",typeString:"bool"},id:2183,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:2165,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:5275,src:"3234:3:9",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:2166,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"3234:10:9",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},{argumentTypes:null,arguments:[{argumentTypes:null,id:2168,name:"this",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:5312,src:"3254:4:9",typeDescriptions:{typeIdentifier:"t_contract$_MarketMaker_$2963",typeString:"contract MarketMaker"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_MarketMaker_$2963",typeString:"contract MarketMaker"}],id:2167,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"3246:7:9",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:2169,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"3246:13:9",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,arguments:[{argumentTypes:null,id:2171,name:"fundingChange",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2143,src:"3266:13:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}}],expression:{argumentTypes:[{typeIdentifier:"t_int256",typeString:"int256"}],id:2170,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"3261:4:9",typeDescriptions:{typeIdentifier:"t_type$_t_uint256_$",typeString:"type(uint256)"},typeName:"uint"},id:2172,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"3261:19:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address_payable",typeString:"address payable"},{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:2163,name:"collateralToken",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1987,src:"3205:15:9",typeDescriptions:{typeIdentifier:"t_contract$_IERC20_$5241",typeString:"contract IERC20"}},id:2164,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"transferFrom",nodeType:"MemberAccess",referencedDeclaration:5224,src:"3205:28:9",typeDescriptions:{typeIdentifier:"t_function_external_nonpayable$_t_address_$_t_address_$_t_uint256_$returns$_t_bool_$",typeString:"function (address,address,uint256) external returns (bool)"}},id:2173,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"3205:76:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},nodeType:"BinaryOperation",operator:"&&",rightExpression:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:2177,name:"pmSystem",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1985,src:"3317:8:9",typeDescriptions:{typeIdentifier:"t_contract$_PredictionMarketSystem_$1456",typeString:"contract PredictionMarketSystem"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_PredictionMarketSystem_$1456",typeString:"contract PredictionMarketSystem"}],id:2176,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"3309:7:9",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:2178,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"3309:17:9",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,arguments:[{argumentTypes:null,id:2180,name:"fundingChange",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2143,src:"3333:13:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}}],expression:{argumentTypes:[{typeIdentifier:"t_int256",typeString:"int256"}],id:2179,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"3328:4:9",typeDescriptions:{typeIdentifier:"t_type$_t_uint256_$",typeString:"type(uint256)"},typeName:"uint"},id:2181,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"3328:19:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:2174,name:"collateralToken",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1987,src:"3285:15:9",typeDescriptions:{typeIdentifier:"t_contract$_IERC20_$5241",typeString:"contract IERC20"}},id:2175,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"approve",nodeType:"MemberAccess",referencedDeclaration:5213,src:"3285:23:9",typeDescriptions:{typeIdentifier:"t_function_external_nonpayable$_t_address_$_t_uint256_$returns$_t_bool_$",typeString:"function (address,uint256) external returns (bool)"}},id:2182,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"3285:63:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},src:"3205:143:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"}],id:2162,name:"require",nodeType:"Identifier",overloadedDeclarations:[5278,5279],referencedDeclaration:5278,src:"3197:7:9",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$returns$__$",typeString:"function (bool) pure"}},id:2184,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"3197:152:9",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:2185,nodeType:"ExpressionStatement",src:"3197:152:9"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:2188,name:"fundingChange",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2143,src:"3402:13:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}}],expression:{argumentTypes:[{typeIdentifier:"t_int256",typeString:"int256"}],id:2187,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"3397:4:9",typeDescriptions:{typeIdentifier:"t_type$_t_uint256_$",typeString:"type(uint256)"},typeName:"uint"},id:2189,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"3397:19:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,expression:{argumentTypes:null,id:2190,name:"conditionIds",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1990,src:"3418:12:9",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage",typeString:"bytes32[] storage ref"}},id:2191,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,memberName:"length",nodeType:"MemberAccess",referencedDeclaration:null,src:"3418:19:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,hexValue:"30",id:2192,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"3439:1:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"}],id:2186,name:"splitPositionThroughAllConditions",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2887,src:"3363:33:9",typeDescriptions:{typeIdentifier:"t_function_internal_nonpayable$_t_uint256_$_t_uint256_$_t_uint256_$returns$__$",typeString:"function (uint256,uint256,uint256)"}},id:2193,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"3363:78:9",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:2194,nodeType:"ExpressionStatement",src:"3363:78:9"},{expression:{argumentTypes:null,id:2202,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,id:2195,name:"funding",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1996,src:"3455:7:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:2199,name:"fundingChange",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2143,src:"3482:13:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}}],expression:{argumentTypes:[{typeIdentifier:"t_int256",typeString:"int256"}],id:2198,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"3477:4:9",typeDescriptions:{typeIdentifier:"t_type$_t_uint256_$",typeString:"type(uint256)"},typeName:"uint"},id:2200,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"3477:19:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:2196,name:"funding",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1996,src:"3465:7:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:2197,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"add",nodeType:"MemberAccess",referencedDeclaration:5042,src:"3465:11:9",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:2201,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"3465:32:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"3455:42:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:2203,nodeType:"ExpressionStatement",src:"3455:42:9"},{eventCall:{argumentTypes:null,arguments:[{argumentTypes:null,id:2205,name:"fundingChange",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2143,src:"3534:13:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}}],expression:{argumentTypes:[{typeIdentifier:"t_int256",typeString:"int256"}],id:2204,name:"AMMFundingChanged",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1964,src:"3516:17:9",typeDescriptions:{typeIdentifier:"t_function_event_nonpayable$_t_int256_$returns$__$",typeString:"function (int256)"}},id:2206,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"3516:32:9",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:2207,nodeType:"EmitStatement",src:"3511:37:9"}]}},{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_int256",typeString:"int256"},id:2212,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:2210,name:"fundingChange",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2143,src:"3572:13:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},nodeType:"BinaryOperation",operator:"<",rightExpression:{argumentTypes:null,hexValue:"30",id:2211,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"3588:1:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"3572:17:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:null,id:2250,nodeType:"IfStatement",src:"3568:314:9",trueBody:{id:2249,nodeType:"Block",src:"3591:291:9",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:2216,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,nodeType:"UnaryOperation",operator:"-",prefix:!0,src:"3645:14:9",subExpression:{argumentTypes:null,id:2215,name:"fundingChange",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2143,src:"3646:13:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}}],expression:{argumentTypes:[{typeIdentifier:"t_int256",typeString:"int256"}],id:2214,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"3640:4:9",typeDescriptions:{typeIdentifier:"t_type$_t_uint256_$",typeString:"type(uint256)"},typeName:"uint"},id:2217,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"3640:20:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,expression:{argumentTypes:null,id:2218,name:"conditionIds",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1990,src:"3662:12:9",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage",typeString:"bytes32[] storage ref"}},id:2219,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,memberName:"length",nodeType:"MemberAccess",referencedDeclaration:null,src:"3662:19:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,hexValue:"30",id:2220,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"3683:1:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"}],id:2213,name:"mergePositionsThroughAllConditions",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2962,src:"3605:34:9",typeDescriptions:{typeIdentifier:"t_function_internal_nonpayable$_t_uint256_$_t_uint256_$_t_uint256_$returns$__$",typeString:"function (uint256,uint256,uint256)"}},id:2221,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"3605:80:9",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:2222,nodeType:"ExpressionStatement",src:"3605:80:9"},{expression:{argumentTypes:null,id:2231,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,id:2223,name:"funding",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1996,src:"3699:7:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:2228,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,nodeType:"UnaryOperation",operator:"-",prefix:!0,src:"3726:14:9",subExpression:{argumentTypes:null,id:2227,name:"fundingChange",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2143,src:"3727:13:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}}],expression:{argumentTypes:[{typeIdentifier:"t_int256",typeString:"int256"}],id:2226,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"3721:4:9",typeDescriptions:{typeIdentifier:"t_type$_t_uint256_$",typeString:"type(uint256)"},typeName:"uint"},id:2229,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"3721:20:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:2224,name:"funding",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1996,src:"3709:7:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:2225,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"sub",nodeType:"MemberAccess",referencedDeclaration:5018,src:"3709:11:9",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",typeString:"function (uint256,uint256) pure returns (uint256)"}},id:2230,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"3709:33:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"3699:43:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:2232,nodeType:"ExpressionStatement",src:"3699:43:9"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[],expression:{argumentTypes:[],id:2236,name:"owner",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:5097,src:"3789:5:9",typeDescriptions:{typeIdentifier:"t_function_internal_view$__$returns$_t_address_$",typeString:"function () view returns (address)"}},id:2237,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"3789:7:9",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,arguments:[{argumentTypes:null,id:2240,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,nodeType:"UnaryOperation",operator:"-",prefix:!0,src:"3803:14:9",subExpression:{argumentTypes:null,id:2239,name:"fundingChange",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2143,src:"3804:13:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}}],expression:{argumentTypes:[{typeIdentifier:"t_int256",typeString:"int256"}],id:2238,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"3798:4:9",typeDescriptions:{typeIdentifier:"t_type$_t_uint256_$",typeString:"type(uint256)"},typeName:"uint"},id:2241,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"3798:20:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:2234,name:"collateralToken",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1987,src:"3764:15:9",typeDescriptions:{typeIdentifier:"t_contract$_IERC20_$5241",typeString:"contract IERC20"}},id:2235,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"transfer",nodeType:"MemberAccess",referencedDeclaration:5204,src:"3764:24:9",typeDescriptions:{typeIdentifier:"t_function_external_nonpayable$_t_address_$_t_uint256_$returns$_t_bool_$",typeString:"function (address,uint256) external returns (bool)"}},id:2242,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"3764:55:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"}],id:2233,name:"require",nodeType:"Identifier",overloadedDeclarations:[5278,5279],referencedDeclaration:5278,src:"3756:7:9",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$returns$__$",typeString:"function (bool) pure"}},id:2243,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"3756:64:9",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:2244,nodeType:"ExpressionStatement",src:"3756:64:9"},{eventCall:{argumentTypes:null,arguments:[{argumentTypes:null,id:2246,name:"fundingChange",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2143,src:"3857:13:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}}],expression:{argumentTypes:[{typeIdentifier:"t_int256",typeString:"int256"}],id:2245,name:"AMMFundingChanged",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1964,src:"3839:17:9",typeDescriptions:{typeIdentifier:"t_function_event_nonpayable$_t_int256_$returns$__$",typeString:"function (int256)"}},id:2247,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"3839:32:9",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:2248,nodeType:"EmitStatement",src:"3834:37:9"}]}}]},documentation:"@dev Allows to fund the market with collateral tokens converting them into outcome tokens\n Note for the future: should combine splitPosition and mergePositions into one function, as code duplication causes things like this to happen.",id:2252,implemented:!0,kind:"function",modifiers:[{arguments:null,id:2146,modifierName:{argumentTypes:null,id:2145,name:"onlyOwner",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:5106,src:"2879:9:9",typeDescriptions:{typeIdentifier:"t_modifier$__$",typeString:"modifier ()"}},nodeType:"ModifierInvocation",src:"2879:9:9"},{arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:2148,name:"Stage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2002,src:"2905:5:9",typeDescriptions:{typeIdentifier:"t_type$_t_enum$_Stage_$2002_$",typeString:"type(enum MarketMaker.Stage)"}},id:2149,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,memberName:"Paused",nodeType:"MemberAccess",referencedDeclaration:null,src:"2905:12:9",typeDescriptions:{typeIdentifier:"t_enum$_Stage_$2002",typeString:"enum MarketMaker.Stage"}}],id:2150,modifierName:{argumentTypes:null,id:2147,name:"atStage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2014,src:"2897:7:9",typeDescriptions:{typeIdentifier:"t_modifier$_t_enum$_Stage_$2002_$",typeString:"modifier (enum MarketMaker.Stage)"}},nodeType:"ModifierInvocation",src:"2897:21:9"}],name:"changeFunding",nodeType:"FunctionDefinition",parameters:{id:2144,nodeType:"ParameterList",parameters:[{constant:!1,id:2143,name:"fundingChange",nodeType:"VariableDeclaration",scope:2252,src:"2837:17:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"},typeName:{id:2142,name:"int",nodeType:"ElementaryTypeName",src:"2837:3:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},value:null,visibility:"internal"}],src:"2836:19:9"},returnParameters:{id:2151,nodeType:"ParameterList",parameters:[],src:"2923:0:9"},scope:2963,src:"2814:1074:9",stateMutability:"nonpayable",superFunction:null,visibility:"public"},{body:{id:2269,nodeType:"Block",src:"3951:63:9",statements:[{expression:{argumentTypes:null,id:2264,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,id:2261,name:"stage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1998,src:"3961:5:9",typeDescriptions:{typeIdentifier:"t_enum$_Stage_$2002",typeString:"enum MarketMaker.Stage"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,expression:{argumentTypes:null,id:2262,name:"Stage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2002,src:"3969:5:9",typeDescriptions:{typeIdentifier:"t_type$_t_enum$_Stage_$2002_$",typeString:"type(enum MarketMaker.Stage)"}},id:2263,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,memberName:"Paused",nodeType:"MemberAccess",referencedDeclaration:null,src:"3969:12:9",typeDescriptions:{typeIdentifier:"t_enum$_Stage_$2002",typeString:"enum MarketMaker.Stage"}},src:"3961:20:9",typeDescriptions:{typeIdentifier:"t_enum$_Stage_$2002",typeString:"enum MarketMaker.Stage"}},id:2265,nodeType:"ExpressionStatement",src:"3961:20:9"},{eventCall:{argumentTypes:null,arguments:[],expression:{argumentTypes:[],id:2266,name:"AMMPaused",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1956,src:"3996:9:9",typeDescriptions:{typeIdentifier:"t_function_event_nonpayable$__$returns$__$",typeString:"function ()"}},id:2267,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"3996:11:9",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:2268,nodeType:"EmitStatement",src:"3991:16:9"}]},documentation:null,id:2270,implemented:!0,kind:"function",modifiers:[{arguments:null,id:2255,modifierName:{argumentTypes:null,id:2254,name:"onlyOwner",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:5106,src:"3918:9:9",typeDescriptions:{typeIdentifier:"t_modifier$__$",typeString:"modifier ()"}},nodeType:"ModifierInvocation",src:"3918:9:9"},{arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:2257,name:"Stage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2002,src:"3936:5:9",typeDescriptions:{typeIdentifier:"t_type$_t_enum$_Stage_$2002_$",typeString:"type(enum MarketMaker.Stage)"}},id:2258,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,memberName:"Running",nodeType:"MemberAccess",referencedDeclaration:null,src:"3936:13:9",typeDescriptions:{typeIdentifier:"t_enum$_Stage_$2002",typeString:"enum MarketMaker.Stage"}}],id:2259,modifierName:{argumentTypes:null,id:2256,name:"atStage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2014,src:"3928:7:9",typeDescriptions:{typeIdentifier:"t_modifier$_t_enum$_Stage_$2002_$",typeString:"modifier (enum MarketMaker.Stage)"}},nodeType:"ModifierInvocation",src:"3928:22:9"}],name:"pause",nodeType:"FunctionDefinition",parameters:{id:2253,nodeType:"ParameterList",parameters:[],src:"3908:2:9"},returnParameters:{id:2260,nodeType:"ParameterList",parameters:[],src:"3951:0:9"},scope:2963,src:"3894:120:9",stateMutability:"nonpayable",superFunction:null,visibility:"public"},{body:{id:2287,nodeType:"Block",src:"4081:65:9",statements:[{expression:{argumentTypes:null,id:2282,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,id:2279,name:"stage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1998,src:"4091:5:9",typeDescriptions:{typeIdentifier:"t_enum$_Stage_$2002",typeString:"enum MarketMaker.Stage"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,expression:{argumentTypes:null,id:2280,name:"Stage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2002,src:"4099:5:9",typeDescriptions:{typeIdentifier:"t_type$_t_enum$_Stage_$2002_$",typeString:"type(enum MarketMaker.Stage)"}},id:2281,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,memberName:"Running",nodeType:"MemberAccess",referencedDeclaration:null,src:"4099:13:9",typeDescriptions:{typeIdentifier:"t_enum$_Stage_$2002",typeString:"enum MarketMaker.Stage"}},src:"4091:21:9",typeDescriptions:{typeIdentifier:"t_enum$_Stage_$2002",typeString:"enum MarketMaker.Stage"}},id:2283,nodeType:"ExpressionStatement",src:"4091:21:9"},{eventCall:{argumentTypes:null,arguments:[],expression:{argumentTypes:[],id:2284,name:"AMMResumed",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1958,src:"4127:10:9",typeDescriptions:{typeIdentifier:"t_function_event_nonpayable$__$returns$__$",typeString:"function ()"}},id:2285,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"4127:12:9",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:2286,nodeType:"EmitStatement",src:"4122:17:9"}]},documentation:null,id:2288,implemented:!0,kind:"function",modifiers:[{arguments:null,id:2273,modifierName:{argumentTypes:null,id:2272,name:"onlyOwner",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:5106,src:"4049:9:9",typeDescriptions:{typeIdentifier:"t_modifier$__$",typeString:"modifier ()"}},nodeType:"ModifierInvocation",src:"4049:9:9"},{arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:2275,name:"Stage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2002,src:"4067:5:9",typeDescriptions:{typeIdentifier:"t_type$_t_enum$_Stage_$2002_$",typeString:"type(enum MarketMaker.Stage)"}},id:2276,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,memberName:"Paused",nodeType:"MemberAccess",referencedDeclaration:null,src:"4067:12:9",typeDescriptions:{typeIdentifier:"t_enum$_Stage_$2002",typeString:"enum MarketMaker.Stage"}}],id:2277,modifierName:{argumentTypes:null,id:2274,name:"atStage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2014,src:"4059:7:9",typeDescriptions:{typeIdentifier:"t_modifier$_t_enum$_Stage_$2002_$",typeString:"modifier (enum MarketMaker.Stage)"}},nodeType:"ModifierInvocation",src:"4059:21:9"}],name:"resume",nodeType:"FunctionDefinition",parameters:{id:2271,nodeType:"ParameterList",parameters:[],src:"4039:2:9"},returnParameters:{id:2278,nodeType:"ParameterList",parameters:[],src:"4081:0:9"},scope:2963,src:"4024:122:9",stateMutability:"nonpayable",superFunction:null,visibility:"public"},{body:{id:2307,nodeType:"Block",src:"4223:60:9",statements:[{expression:{argumentTypes:null,id:2301,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,id:2299,name:"fee",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1994,src:"4233:3:9",typeDescriptions:{typeIdentifier:"t_uint64",typeString:"uint64"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,id:2300,name:"_fee",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2290,src:"4239:4:9",typeDescriptions:{typeIdentifier:"t_uint64",typeString:"uint64"}},src:"4233:10:9",typeDescriptions:{typeIdentifier:"t_uint64",typeString:"uint64"}},id:2302,nodeType:"ExpressionStatement",src:"4233:10:9"},{eventCall:{argumentTypes:null,arguments:[{argumentTypes:null,id:2304,name:"fee",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1994,src:"4272:3:9",typeDescriptions:{typeIdentifier:"t_uint64",typeString:"uint64"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint64",typeString:"uint64"}],id:2303,name:"AMMFeeChanged",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1968,src:"4258:13:9",typeDescriptions:{typeIdentifier:"t_function_event_nonpayable$_t_uint64_$returns$__$",typeString:"function (uint64)"}},id:2305,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"4258:18:9",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:2306,nodeType:"EmitStatement",src:"4253:23:9"}]},documentation:null,id:2308,implemented:!0,kind:"function",modifiers:[{arguments:null,id:2293,modifierName:{argumentTypes:null,id:2292,name:"onlyOwner",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:5106,src:"4191:9:9",typeDescriptions:{typeIdentifier:"t_modifier$__$",typeString:"modifier ()"}},nodeType:"ModifierInvocation",src:"4191:9:9"},{arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:2295,name:"Stage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2002,src:"4209:5:9",typeDescriptions:{typeIdentifier:"t_type$_t_enum$_Stage_$2002_$",typeString:"type(enum MarketMaker.Stage)"}},id:2296,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,memberName:"Paused",nodeType:"MemberAccess",referencedDeclaration:null,src:"4209:12:9",typeDescriptions:{typeIdentifier:"t_enum$_Stage_$2002",typeString:"enum MarketMaker.Stage"}}],id:2297,modifierName:{argumentTypes:null,id:2294,name:"atStage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2014,src:"4201:7:9",typeDescriptions:{typeIdentifier:"t_modifier$_t_enum$_Stage_$2002_$",typeString:"modifier (enum MarketMaker.Stage)"}},nodeType:"ModifierInvocation",src:"4201:21:9"}],name:"changeFee",nodeType:"FunctionDefinition",parameters:{id:2291,nodeType:"ParameterList",parameters:[{constant:!1,id:2290,name:"_fee",nodeType:"VariableDeclaration",scope:2308,src:"4171:11:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint64",typeString:"uint64"},typeName:{id:2289,name:"uint64",nodeType:"ElementaryTypeName",src:"4171:6:9",typeDescriptions:{typeIdentifier:"t_uint64",typeString:"uint64"}},value:null,visibility:"internal"}],src:"4170:13:9"},returnParameters:{id:2298,nodeType:"ParameterList",parameters:[],src:"4223:0:9"},scope:2963,src:"4152:131:9",stateMutability:"nonpayable",superFunction:null,visibility:"public"},{body:{id:2371,nodeType:"Block",src:"4455:423:9",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_bool",typeString:"bool"},id:2322,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,commonType:{typeIdentifier:"t_enum$_Stage_$2002",typeString:"enum MarketMaker.Stage"},id:2317,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:2314,name:"stage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1998,src:"4473:5:9",typeDescriptions:{typeIdentifier:"t_enum$_Stage_$2002",typeString:"enum MarketMaker.Stage"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,expression:{argumentTypes:null,id:2315,name:"Stage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2002,src:"4482:5:9",typeDescriptions:{typeIdentifier:"t_type$_t_enum$_Stage_$2002_$",typeString:"type(enum MarketMaker.Stage)"}},id:2316,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,memberName:"Running",nodeType:"MemberAccess",referencedDeclaration:null,src:"4482:13:9",typeDescriptions:{typeIdentifier:"t_enum$_Stage_$2002",typeString:"enum MarketMaker.Stage"}},src:"4473:22:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},nodeType:"BinaryOperation",operator:"||",rightExpression:{argumentTypes:null,commonType:{typeIdentifier:"t_enum$_Stage_$2002",typeString:"enum MarketMaker.Stage"},id:2321,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:2318,name:"stage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1998,src:"4499:5:9",typeDescriptions:{typeIdentifier:"t_enum$_Stage_$2002",typeString:"enum MarketMaker.Stage"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,expression:{argumentTypes:null,id:2319,name:"Stage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2002,src:"4508:5:9",typeDescriptions:{typeIdentifier:"t_type$_t_enum$_Stage_$2002_$",typeString:"type(enum MarketMaker.Stage)"}},id:2320,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,memberName:"Paused",nodeType:"MemberAccess",referencedDeclaration:null,src:"4508:12:9",typeDescriptions:{typeIdentifier:"t_enum$_Stage_$2002",typeString:"enum MarketMaker.Stage"}},src:"4499:21:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},src:"4473:47:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"54686973204d61726b65742068617320616c7265616479206265656e20636c6f736564",id:2323,isConstant:!1,isLValue:!1,isPure:!0,kind:"string",lValueRequested:!1,nodeType:"Literal",src:"4522:37:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_ce82b757e84d3f085f7655825c68fa1a13fda6cc3913781fbe7409417e74f19c",typeString:'literal_string "This Market has already been closed"'},value:"This Market has already been closed"}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_ce82b757e84d3f085f7655825c68fa1a13fda6cc3913781fbe7409417e74f19c",typeString:'literal_string "This Market has already been closed"'}],id:2313,name:"require",nodeType:"Identifier",overloadedDeclarations:[5278,5279],referencedDeclaration:5279,src:"4465:7:9",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:2324,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"4465:95:9",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:2325,nodeType:"ExpressionStatement",src:"4465:95:9"},{body:{id:2361,nodeType:"Block",src:"4620:196:9",statements:[{assignments:[2337],declarations:[{constant:!1,id:2337,name:"positionId",nodeType:"VariableDeclaration",scope:2361,src:"4634:15:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:2336,name:"uint",nodeType:"ElementaryTypeName",src:"4634:4:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:2341,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:2339,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2327,src:"4677:1:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],id:2338,name:"generateAtomicPositionId",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2812,src:"4652:24:9",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_uint256_$returns$_t_uint256_$",typeString:"function (uint256) view returns (uint256)"}},id:2340,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"4652:27:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"4634:45:9"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:2346,name:"this",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:5312,src:"4727:4:9",typeDescriptions:{typeIdentifier:"t_contract$_MarketMaker_$2963",typeString:"contract MarketMaker"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_MarketMaker_$2963",typeString:"contract MarketMaker"}],id:2345,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"4719:7:9",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:2347,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"4719:13:9",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,arguments:[],expression:{argumentTypes:[],id:2348,name:"owner",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:5097,src:"4734:5:9",typeDescriptions:{typeIdentifier:"t_function_internal_view$__$returns$_t_address_$",typeString:"function () view returns (address)"}},id:2349,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"4734:7:9",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:2350,name:"positionId",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2337,src:"4743:10:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:2354,name:"this",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:5312,src:"4782:4:9",typeDescriptions:{typeIdentifier:"t_contract$_MarketMaker_$2963",typeString:"contract MarketMaker"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_MarketMaker_$2963",typeString:"contract MarketMaker"}],id:2353,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"4774:7:9",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:2355,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"4774:13:9",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:2356,name:"positionId",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2337,src:"4789:10:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:2351,name:"pmSystem",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1985,src:"4755:8:9",typeDescriptions:{typeIdentifier:"t_contract$_PredictionMarketSystem_$1456",typeString:"contract PredictionMarketSystem"}},id:2352,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"balanceOf",nodeType:"MemberAccess",referencedDeclaration:4671,src:"4755:18:9",typeDescriptions:{typeIdentifier:"t_function_external_view$_t_address_$_t_uint256_$returns$_t_uint256_$",typeString:"function (address,uint256) view external returns (uint256)"}},id:2357,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"4755:45:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,hexValue:"",id:2358,isConstant:!1,isLValue:!1,isPure:!0,kind:"string",lValueRequested:!1,nodeType:"Literal",src:"4802:2:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",typeString:'literal_string ""'},value:""}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_stringliteral_c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",typeString:'literal_string ""'}],expression:{argumentTypes:null,id:2342,name:"pmSystem",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1985,src:"4693:8:9",typeDescriptions:{typeIdentifier:"t_contract$_PredictionMarketSystem_$1456",typeString:"contract PredictionMarketSystem"}},id:2344,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"safeTransferFrom",nodeType:"MemberAccess",referencedDeclaration:4519,src:"4693:25:9",typeDescriptions:{typeIdentifier:"t_function_external_nonpayable$_t_address_$_t_address_$_t_uint256_$_t_uint256_$_t_bytes_memory_ptr_$returns$__$",typeString:"function (address,address,uint256,uint256,bytes memory) external"}},id:2359,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"4693:112:9",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:2360,nodeType:"ExpressionStatement",src:"4693:112:9"}]},condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:2332,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:2330,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2327,src:"4587:1:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"<",rightExpression:{argumentTypes:null,id:2331,name:"atomicOutcomeSlotCount",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1992,src:"4591:22:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"4587:26:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},id:2362,initializationExpression:{assignments:[2327],declarations:[{constant:!1,id:2327,name:"i",nodeType:"VariableDeclaration",scope:2362,src:"4575:6:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:2326,name:"uint",nodeType:"ElementaryTypeName",src:"4575:4:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:2329,initialValue:{argumentTypes:null,hexValue:"30",id:2328,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"4584:1:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},nodeType:"VariableDeclarationStatement",src:"4575:10:9"},loopExpression:{expression:{argumentTypes:null,id:2334,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,nodeType:"UnaryOperation",operator:"++",prefix:!1,src:"4615:3:9",subExpression:{argumentTypes:null,id:2333,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2327,src:"4615:1:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:2335,nodeType:"ExpressionStatement",src:"4615:3:9"},nodeType:"ForStatement",src:"4570:246:9"},{expression:{argumentTypes:null,id:2366,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,id:2363,name:"stage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1998,src:"4825:5:9",typeDescriptions:{typeIdentifier:"t_enum$_Stage_$2002",typeString:"enum MarketMaker.Stage"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,expression:{argumentTypes:null,id:2364,name:"Stage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2002,src:"4833:5:9",typeDescriptions:{typeIdentifier:"t_type$_t_enum$_Stage_$2002_$",typeString:"type(enum MarketMaker.Stage)"}},id:2365,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,memberName:"Closed",nodeType:"MemberAccess",referencedDeclaration:null,src:"4833:12:9",typeDescriptions:{typeIdentifier:"t_enum$_Stage_$2002",typeString:"enum MarketMaker.Stage"}},src:"4825:20:9",typeDescriptions:{typeIdentifier:"t_enum$_Stage_$2002",typeString:"enum MarketMaker.Stage"}},id:2367,nodeType:"ExpressionStatement",src:"4825:20:9"},{eventCall:{argumentTypes:null,arguments:[],expression:{argumentTypes:[],id:2368,name:"AMMClosed",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1960,src:"4860:9:9",typeDescriptions:{typeIdentifier:"t_function_event_nonpayable$__$returns$__$",typeString:"function ()"}},id:2369,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"4860:11:9",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:2370,nodeType:"EmitStatement",src:"4855:16:9"}]},documentation:"@dev Allows market owner to close the markets by transferring all remaining outcome tokens to the owner",id:2372,implemented:!0,kind:"function",modifiers:[{arguments:null,id:2311,modifierName:{argumentTypes:null,id:2310,name:"onlyOwner",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:5106,src:"4441:9:9",typeDescriptions:{typeIdentifier:"t_modifier$__$",typeString:"modifier ()"}},nodeType:"ModifierInvocation",src:"4441:9:9"}],name:"close",nodeType:"FunctionDefinition",parameters:{id:2309,nodeType:"ParameterList",parameters:[],src:"4415:2:9"},returnParameters:{id:2312,nodeType:"ParameterList",parameters:[],src:"4455:0:9"},scope:2963,src:"4401:477:9",stateMutability:"nonpayable",superFunction:null,visibility:"public"},{body:{id:2401,nodeType:"Block",src:"5070:184:9",statements:[{expression:{argumentTypes:null,id:2386,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,id:2379,name:"fees",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2377,src:"5080:4:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:2383,name:"this",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:5312,src:"5121:4:9",typeDescriptions:{typeIdentifier:"t_contract$_MarketMaker_$2963",typeString:"contract MarketMaker"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_MarketMaker_$2963",typeString:"contract MarketMaker"}],id:2382,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"5113:7:9",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:2384,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"5113:13:9",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],expression:{argumentTypes:null,id:2380,name:"collateralToken",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1987,src:"5087:15:9",typeDescriptions:{typeIdentifier:"t_contract$_IERC20_$5241",typeString:"contract IERC20"}},id:2381,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"balanceOf",nodeType:"MemberAccess",referencedDeclaration:5186,src:"5087:25:9",typeDescriptions:{typeIdentifier:"t_function_external_view$_t_address_$returns$_t_uint256_$",typeString:"function (address) view external returns (uint256)"}},id:2385,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"5087:40:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"5080:47:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:2387,nodeType:"ExpressionStatement",src:"5080:47:9"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[],expression:{argumentTypes:[],id:2391,name:"owner",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:5097,src:"5195:5:9",typeDescriptions:{typeIdentifier:"t_function_internal_view$__$returns$_t_address_$",typeString:"function () view returns (address)"}},id:2392,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"5195:7:9",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:2393,name:"fees",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2377,src:"5204:4:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:2389,name:"collateralToken",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1987,src:"5170:15:9",typeDescriptions:{typeIdentifier:"t_contract$_IERC20_$5241",typeString:"contract IERC20"}},id:2390,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"transfer",nodeType:"MemberAccess",referencedDeclaration:5204,src:"5170:24:9",typeDescriptions:{typeIdentifier:"t_function_external_nonpayable$_t_address_$_t_uint256_$returns$_t_bool_$",typeString:"function (address,uint256) external returns (bool)"}},id:2394,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"5170:39:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"}],id:2388,name:"require",nodeType:"Identifier",overloadedDeclarations:[5278,5279],referencedDeclaration:5278,src:"5162:7:9",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$returns$__$",typeString:"function (bool) pure"}},id:2395,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"5162:48:9",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:2396,nodeType:"ExpressionStatement",src:"5162:48:9"},{eventCall:{argumentTypes:null,arguments:[{argumentTypes:null,id:2398,name:"fees",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2377,src:"5242:4:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],id:2397,name:"AMMFeeWithdrawal",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1972,src:"5225:16:9",typeDescriptions:{typeIdentifier:"t_function_event_nonpayable$_t_uint256_$returns$__$",typeString:"function (uint256)"}},id:2399,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"5225:22:9",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:2400,nodeType:"EmitStatement",src:"5220:27:9"}]},documentation:"@dev Allows market owner to withdraw fees generated by trades\n @return Fee amount",id:2402,implemented:!0,kind:"function",modifiers:[{arguments:null,id:2375,modifierName:{argumentTypes:null,id:2374,name:"onlyOwner",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:5106,src:"5028:9:9",typeDescriptions:{typeIdentifier:"t_modifier$__$",typeString:"modifier ()"}},nodeType:"ModifierInvocation",src:"5028:9:9"}],name:"withdrawFees",nodeType:"FunctionDefinition",parameters:{id:2373,nodeType:"ParameterList",parameters:[],src:"5002:2:9"},returnParameters:{id:2378,nodeType:"ParameterList",parameters:[{constant:!1,id:2377,name:"fees",nodeType:"VariableDeclaration",scope:2402,src:"5055:9:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:2376,name:"uint",nodeType:"ElementaryTypeName",src:"5055:4:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"5054:11:9"},scope:2963,src:"4981:273:9",stateMutability:"nonpayable",superFunction:null,visibility:"public"},{body:{id:2633,nodeType:"Block",src:"7226:2081:9",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:2420,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,expression:{argumentTypes:null,id:2417,name:"outcomeTokenAmounts",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2405,src:"7244:19:9",typeDescriptions:{typeIdentifier:"t_array$_t_int256_$dyn_memory_ptr",typeString:"int256[] memory"}},id:2418,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"length",nodeType:"MemberAccess",referencedDeclaration:null,src:"7244:26:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,id:2419,name:"atomicOutcomeSlotCount",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1992,src:"7274:22:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"7244:52:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"}],id:2416,name:"require",nodeType:"Identifier",overloadedDeclarations:[5278,5279],referencedDeclaration:5278,src:"7236:7:9",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$returns$__$",typeString:"function (bool) pure"}},id:2421,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"7236:61:9",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:2422,nodeType:"ExpressionStatement",src:"7236:61:9"},{assignments:[2424],declarations:[{constant:!1,id:2424,name:"outcomeTokenNetCost",nodeType:"VariableDeclaration",scope:2633,src:"7358:23:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"},typeName:{id:2423,name:"int",nodeType:"ElementaryTypeName",src:"7358:3:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},value:null,visibility:"internal"}],id:2428,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:2426,name:"outcomeTokenAmounts",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2405,src:"7396:19:9",typeDescriptions:{typeIdentifier:"t_array$_t_int256_$dyn_memory_ptr",typeString:"int256[] memory"}}],expression:{argumentTypes:[{typeIdentifier:"t_array$_t_int256_$dyn_memory_ptr",typeString:"int256[] memory"}],id:2425,name:"calcNetCost",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2141,src:"7384:11:9",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_array$_t_int256_$dyn_memory_ptr_$returns$_t_int256_$",typeString:"function (int256[] memory) view returns (int256)"}},id:2427,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"7384:32:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},nodeType:"VariableDeclarationStatement",src:"7358:58:9"},{assignments:[2430],declarations:[{constant:!1,id:2430,name:"fees",nodeType:"VariableDeclaration",scope:2633,src:"7426:8:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"},typeName:{id:2429,name:"int",nodeType:"ElementaryTypeName",src:"7426:3:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},value:null,visibility:"internal"}],id:2431,initialValue:null,nodeType:"VariableDeclarationStatement",src:"7426:8:9"},{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_int256",typeString:"int256"},id:2434,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:2432,name:"outcomeTokenNetCost",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2424,src:"7447:19:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},nodeType:"BinaryOperation",operator:"<",rightExpression:{argumentTypes:null,hexValue:"30",id:2433,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"7469:1:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"7447:23:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:{expression:{argumentTypes:null,id:2454,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,id:2446,name:"fees",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2430,src:"7564:4:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:2450,name:"outcomeTokenNetCost",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2424,src:"7594:19:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}}],expression:{argumentTypes:[{typeIdentifier:"t_int256",typeString:"int256"}],id:2449,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"7589:4:9",typeDescriptions:{typeIdentifier:"t_type$_t_uint256_$",typeString:"type(uint256)"},typeName:"uint"},id:2451,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"7589:25:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],id:2448,name:"calcMarketFee",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2648,src:"7575:13:9",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_uint256_$returns$_t_uint256_$",typeString:"function (uint256) view returns (uint256)"}},id:2452,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"7575:40:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],id:2447,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"7571:3:9",typeDescriptions:{typeIdentifier:"t_type$_t_int256_$",typeString:"type(int256)"},typeName:"int"},id:2453,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"7571:45:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},src:"7564:52:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},id:2455,nodeType:"ExpressionStatement",src:"7564:52:9"},id:2456,nodeType:"IfStatement",src:"7444:172:9",trueBody:{expression:{argumentTypes:null,id:2444,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,id:2435,name:"fees",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2430,src:"7484:4:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:2440,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,nodeType:"UnaryOperation",operator:"-",prefix:!0,src:"7514:20:9",subExpression:{argumentTypes:null,id:2439,name:"outcomeTokenNetCost",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2424,src:"7515:19:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}}],expression:{argumentTypes:[{typeIdentifier:"t_int256",typeString:"int256"}],id:2438,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"7509:4:9",typeDescriptions:{typeIdentifier:"t_type$_t_uint256_$",typeString:"type(uint256)"},typeName:"uint"},id:2441,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"7509:26:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],id:2437,name:"calcMarketFee",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2648,src:"7495:13:9",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_uint256_$returns$_t_uint256_$",typeString:"function (uint256) view returns (uint256)"}},id:2442,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"7495:41:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],id:2436,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"7491:3:9",typeDescriptions:{typeIdentifier:"t_type$_t_int256_$",typeString:"type(int256)"},typeName:"int"},id:2443,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"7491:46:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},src:"7484:53:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},id:2445,nodeType:"ExpressionStatement",src:"7484:53:9"}},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_int256",typeString:"int256"},id:2460,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:2458,name:"fees",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2430,src:"7635:4:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},nodeType:"BinaryOperation",operator:">=",rightExpression:{argumentTypes:null,hexValue:"30",id:2459,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"7643:1:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"7635:9:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"}],id:2457,name:"require",nodeType:"Identifier",overloadedDeclarations:[5278,5279],referencedDeclaration:5278,src:"7627:7:9",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$returns$__$",typeString:"function (bool) pure"}},id:2461,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"7627:18:9",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:2462,nodeType:"ExpressionStatement",src:"7627:18:9"},{expression:{argumentTypes:null,id:2468,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,id:2463,name:"netCost",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2414,src:"7655:7:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,arguments:[{argumentTypes:null,id:2466,name:"fees",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2430,src:"7689:4:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}}],expression:{argumentTypes:[{typeIdentifier:"t_int256",typeString:"int256"}],expression:{argumentTypes:null,id:2464,name:"outcomeTokenNetCost",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2424,src:"7665:19:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},id:2465,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"add",nodeType:"MemberAccess",referencedDeclaration:4113,src:"7665:23:9",typeDescriptions:{typeIdentifier:"t_function_internal_pure$_t_int256_$_t_int256_$returns$_t_int256_$bound_to$_t_int256_$",typeString:"function (int256,int256) pure returns (int256)"}},id:2467,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"7665:29:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},src:"7655:39:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},id:2469,nodeType:"ExpressionStatement",src:"7655:39:9"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_bool",typeString:"bool"},id:2482,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,components:[{argumentTypes:null,commonType:{typeIdentifier:"t_bool",typeString:"bool"},id:2477,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,commonType:{typeIdentifier:"t_int256",typeString:"int256"},id:2473,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:2471,name:"collateralLimit",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2407,src:"7727:15:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},nodeType:"BinaryOperation",operator:"!=",rightExpression:{argumentTypes:null,hexValue:"30",id:2472,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"7746:1:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"7727:20:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},nodeType:"BinaryOperation",operator:"&&",rightExpression:{argumentTypes:null,commonType:{typeIdentifier:"t_int256",typeString:"int256"},id:2476,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:2474,name:"netCost",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2414,src:"7751:7:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},nodeType:"BinaryOperation",operator:"<=",rightExpression:{argumentTypes:null,id:2475,name:"collateralLimit",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2407,src:"7762:15:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},src:"7751:26:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},src:"7727:50:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}}],id:2478,isConstant:!1,isInlineArray:!1,isLValue:!1,isPure:!1,lValueRequested:!1,nodeType:"TupleExpression",src:"7726:52:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},nodeType:"BinaryOperation",operator:"||",rightExpression:{argumentTypes:null,commonType:{typeIdentifier:"t_int256",typeString:"int256"},id:2481,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:2479,name:"collateralLimit",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2407,src:"7794:15:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,hexValue:"30",id:2480,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"7813:1:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"7794:20:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},src:"7726:88:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"}],id:2470,name:"require",nodeType:"Identifier",overloadedDeclarations:[5278,5279],referencedDeclaration:5278,src:"7705:7:9",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$returns$__$",typeString:"function (bool) pure"}},id:2483,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"7705:119:9",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:2484,nodeType:"ExpressionStatement",src:"7705:119:9"},{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_int256",typeString:"int256"},id:2487,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:2485,name:"outcomeTokenNetCost",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2424,src:"7838:19:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},nodeType:"BinaryOperation",operator:">",rightExpression:{argumentTypes:null,hexValue:"30",id:2486,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"7860:1:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"7838:23:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:null,id:2522,nodeType:"IfStatement",src:"7835:350:9",trueBody:{id:2521,nodeType:"Block",src:"7863:322:9",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_bool",typeString:"bool"},id:2509,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:2491,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:5275,src:"7931:3:9",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:2492,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"7931:10:9",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},{argumentTypes:null,arguments:[{argumentTypes:null,id:2494,name:"this",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:5312,src:"7951:4:9",typeDescriptions:{typeIdentifier:"t_contract$_MarketMaker_$2963",typeString:"contract MarketMaker"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_MarketMaker_$2963",typeString:"contract MarketMaker"}],id:2493,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"7943:7:9",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:2495,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"7943:13:9",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,arguments:[{argumentTypes:null,id:2497,name:"netCost",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2414,src:"7963:7:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}}],expression:{argumentTypes:[{typeIdentifier:"t_int256",typeString:"int256"}],id:2496,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"7958:4:9",typeDescriptions:{typeIdentifier:"t_type$_t_uint256_$",typeString:"type(uint256)"},typeName:"uint"},id:2498,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"7958:13:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address_payable",typeString:"address payable"},{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:2489,name:"collateralToken",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1987,src:"7902:15:9",typeDescriptions:{typeIdentifier:"t_contract$_IERC20_$5241",typeString:"contract IERC20"}},id:2490,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"transferFrom",nodeType:"MemberAccess",referencedDeclaration:5224,src:"7902:28:9",typeDescriptions:{typeIdentifier:"t_function_external_nonpayable$_t_address_$_t_address_$_t_uint256_$returns$_t_bool_$",typeString:"function (address,address,uint256) external returns (bool)"}},id:2499,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"7902:70:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},nodeType:"BinaryOperation",operator:"&&",rightExpression:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:2503,name:"pmSystem",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1985,src:"8024:8:9",typeDescriptions:{typeIdentifier:"t_contract$_PredictionMarketSystem_$1456",typeString:"contract PredictionMarketSystem"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_PredictionMarketSystem_$1456",typeString:"contract PredictionMarketSystem"}],id:2502,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"8016:7:9",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:2504,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"8016:17:9",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,arguments:[{argumentTypes:null,id:2506,name:"outcomeTokenNetCost",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2424,src:"8040:19:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}}],expression:{argumentTypes:[{typeIdentifier:"t_int256",typeString:"int256"}],id:2505,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"8035:4:9",typeDescriptions:{typeIdentifier:"t_type$_t_uint256_$",typeString:"type(uint256)"},typeName:"uint"},id:2507,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"8035:25:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:2500,name:"collateralToken",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1987,src:"7992:15:9",typeDescriptions:{typeIdentifier:"t_contract$_IERC20_$5241",typeString:"contract IERC20"}},id:2501,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"approve",nodeType:"MemberAccess",referencedDeclaration:5213,src:"7992:23:9",typeDescriptions:{typeIdentifier:"t_function_external_nonpayable$_t_address_$_t_uint256_$returns$_t_bool_$",typeString:"function (address,uint256) external returns (bool)"}},id:2508,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"7992:69:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},src:"7902:159:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"}],id:2488,name:"require",nodeType:"Identifier",overloadedDeclarations:[5278,5279],referencedDeclaration:5278,src:"7877:7:9",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$returns$__$",typeString:"function (bool) pure"}},id:2510,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"7877:198:9",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:2511,nodeType:"ExpressionStatement",src:"7877:198:9"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:2514,name:"outcomeTokenNetCost",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2424,src:"8129:19:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}}],expression:{argumentTypes:[{typeIdentifier:"t_int256",typeString:"int256"}],id:2513,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"8124:4:9",typeDescriptions:{typeIdentifier:"t_type$_t_uint256_$",typeString:"type(uint256)"},typeName:"uint"},id:2515,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"8124:25:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,expression:{argumentTypes:null,id:2516,name:"conditionIds",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1990,src:"8151:12:9",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage",typeString:"bytes32[] storage ref"}},id:2517,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,memberName:"length",nodeType:"MemberAccess",referencedDeclaration:null,src:"8151:19:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,hexValue:"30",id:2518,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"8172:1:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"}],id:2512,name:"splitPositionThroughAllConditions",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2887,src:"8090:33:9",typeDescriptions:{typeIdentifier:"t_function_internal_nonpayable$_t_uint256_$_t_uint256_$_t_uint256_$returns$__$",typeString:"function (uint256,uint256,uint256)"}},id:2519,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"8090:84:9",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:2520,nodeType:"ExpressionStatement",src:"8090:84:9"}]}},{body:{id:2589,nodeType:"Block",src:"8245:468:9",statements:[{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_int256",typeString:"int256"},id:2537,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:2533,name:"outcomeTokenAmounts",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2405,src:"8262:19:9",typeDescriptions:{typeIdentifier:"t_array$_t_int256_$dyn_memory_ptr",typeString:"int256[] memory"}},id:2535,indexExpression:{argumentTypes:null,id:2534,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2524,src:"8282:1:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"8262:22:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},nodeType:"BinaryOperation",operator:"!=",rightExpression:{argumentTypes:null,hexValue:"30",id:2536,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"8288:1:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"8262:27:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:null,id:2588,nodeType:"IfStatement",src:"8259:444:9",trueBody:{id:2587,nodeType:"Block",src:"8291:412:9",statements:[{assignments:[2539],declarations:[{constant:!1,id:2539,name:"positionId",nodeType:"VariableDeclaration",scope:2587,src:"8309:15:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:2538,name:"uint",nodeType:"ElementaryTypeName",src:"8309:4:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:2543,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:2541,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2524,src:"8352:1:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],id:2540,name:"generateAtomicPositionId",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2812,src:"8327:24:9",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_uint256_$returns$_t_uint256_$",typeString:"function (uint256) view returns (uint256)"}},id:2542,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"8327:27:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"8309:45:9"},{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_int256",typeString:"int256"},id:2548,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:2544,name:"outcomeTokenAmounts",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2405,src:"8375:19:9",typeDescriptions:{typeIdentifier:"t_array$_t_int256_$dyn_memory_ptr",typeString:"int256[] memory"}},id:2546,indexExpression:{argumentTypes:null,id:2545,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2524,src:"8395:1:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"8375:22:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},nodeType:"BinaryOperation",operator:"<",rightExpression:{argumentTypes:null,hexValue:"30",id:2547,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"8400:1:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"8375:26:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:{id:2585,nodeType:"Block",src:"8549:139:9",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:2572,name:"this",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:5312,src:"8605:4:9",typeDescriptions:{typeIdentifier:"t_contract$_MarketMaker_$2963",typeString:"contract MarketMaker"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_MarketMaker_$2963",typeString:"contract MarketMaker"}],id:2571,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"8597:7:9",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:2573,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"8597:13:9",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,expression:{argumentTypes:null,id:2574,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:5275,src:"8612:3:9",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:2575,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"8612:10:9",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},{argumentTypes:null,id:2576,name:"positionId",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2539,src:"8624:10:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,arguments:[{argumentTypes:null,baseExpression:{argumentTypes:null,id:2578,name:"outcomeTokenAmounts",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2405,src:"8641:19:9",typeDescriptions:{typeIdentifier:"t_array$_t_int256_$dyn_memory_ptr",typeString:"int256[] memory"}},id:2580,indexExpression:{argumentTypes:null,id:2579,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2524,src:"8661:1:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"8641:22:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}}],expression:{argumentTypes:[{typeIdentifier:"t_int256",typeString:"int256"}],id:2577,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"8636:4:9",typeDescriptions:{typeIdentifier:"t_type$_t_uint256_$",typeString:"type(uint256)"},typeName:"uint"},id:2581,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"8636:28:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,hexValue:"",id:2582,isConstant:!1,isLValue:!1,isPure:!0,kind:"string",lValueRequested:!1,nodeType:"Literal",src:"8666:2:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",typeString:'literal_string ""'},value:""}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_address_payable",typeString:"address payable"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_stringliteral_c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",typeString:'literal_string ""'}],expression:{argumentTypes:null,id:2568,name:"pmSystem",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1985,src:"8571:8:9",typeDescriptions:{typeIdentifier:"t_contract$_PredictionMarketSystem_$1456",typeString:"contract PredictionMarketSystem"}},id:2570,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"safeTransferFrom",nodeType:"MemberAccess",referencedDeclaration:4519,src:"8571:25:9",typeDescriptions:{typeIdentifier:"t_function_external_nonpayable$_t_address_$_t_address_$_t_uint256_$_t_uint256_$_t_bytes_memory_ptr_$returns$__$",typeString:"function (address,address,uint256,uint256,bytes memory) external"}},id:2583,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"8571:98:9",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:2584,nodeType:"ExpressionStatement",src:"8571:98:9"}]},id:2586,nodeType:"IfStatement",src:"8372:316:9",trueBody:{id:2567,nodeType:"Block",src:"8403:140:9",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:2552,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:5275,src:"8451:3:9",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:2553,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"8451:10:9",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},{argumentTypes:null,arguments:[{argumentTypes:null,id:2555,name:"this",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:5312,src:"8471:4:9",typeDescriptions:{typeIdentifier:"t_contract$_MarketMaker_$2963",typeString:"contract MarketMaker"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_MarketMaker_$2963",typeString:"contract MarketMaker"}],id:2554,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"8463:7:9",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:2556,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"8463:13:9",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:2557,name:"positionId",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2539,src:"8478:10:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,arguments:[{argumentTypes:null,id:2562,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,nodeType:"UnaryOperation",operator:"-",prefix:!0,src:"8495:23:9",subExpression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:2559,name:"outcomeTokenAmounts",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2405,src:"8496:19:9",typeDescriptions:{typeIdentifier:"t_array$_t_int256_$dyn_memory_ptr",typeString:"int256[] memory"}},id:2561,indexExpression:{argumentTypes:null,id:2560,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2524,src:"8516:1:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"8496:22:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}}],expression:{argumentTypes:[{typeIdentifier:"t_int256",typeString:"int256"}],id:2558,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"8490:4:9",typeDescriptions:{typeIdentifier:"t_type$_t_uint256_$",typeString:"type(uint256)"},typeName:"uint"},id:2563,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"8490:29:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,hexValue:"",id:2564,isConstant:!1,isLValue:!1,isPure:!0,kind:"string",lValueRequested:!1,nodeType:"Literal",src:"8521:2:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",typeString:'literal_string ""'},value:""}],expression:{argumentTypes:[{typeIdentifier:"t_address_payable",typeString:"address payable"},{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_stringliteral_c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",typeString:'literal_string ""'}],expression:{argumentTypes:null,id:2549,name:"pmSystem",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1985,src:"8425:8:9",typeDescriptions:{typeIdentifier:"t_contract$_PredictionMarketSystem_$1456",typeString:"contract PredictionMarketSystem"}},id:2551,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"safeTransferFrom",nodeType:"MemberAccess",referencedDeclaration:4519,src:"8425:25:9",typeDescriptions:{typeIdentifier:"t_function_external_nonpayable$_t_address_$_t_address_$_t_uint256_$_t_uint256_$_t_bytes_memory_ptr_$returns$__$",typeString:"function (address,address,uint256,uint256,bytes memory) external"}},id:2565,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"8425:99:9",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:2566,nodeType:"ExpressionStatement",src:"8425:99:9"}]}}]}}]},condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:2529,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:2527,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2524,src:"8212:1:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"<",rightExpression:{argumentTypes:null,id:2528,name:"atomicOutcomeSlotCount",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1992,src:"8216:22:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"8212:26:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},id:2590,initializationExpression:{assignments:[2524],declarations:[{constant:!1,id:2524,name:"i",nodeType:"VariableDeclaration",scope:2590,src:"8200:6:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:2523,name:"uint",nodeType:"ElementaryTypeName",src:"8200:4:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:2526,initialValue:{argumentTypes:null,hexValue:"30",id:2525,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"8209:1:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},nodeType:"VariableDeclarationStatement",src:"8200:10:9"},loopExpression:{expression:{argumentTypes:null,id:2531,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,nodeType:"UnaryOperation",operator:"++",prefix:!1,src:"8240:3:9",subExpression:{argumentTypes:null,id:2530,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2524,src:"8240:1:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:2532,nodeType:"ExpressionStatement",src:"8240:3:9"},nodeType:"ForStatement",src:"8195:518:9"},{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_int256",typeString:"int256"},id:2593,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:2591,name:"outcomeTokenNetCost",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2424,src:"8726:19:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},nodeType:"BinaryOperation",operator:"<",rightExpression:{argumentTypes:null,hexValue:"30",id:2592,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"8748:1:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"8726:23:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:null,id:2622,nodeType:"IfStatement",src:"8723:476:9",trueBody:{id:2621,nodeType:"Block",src:"8751:448:9",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:2597,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,nodeType:"UnaryOperation",operator:"-",prefix:!0,src:"9019:20:9",subExpression:{argumentTypes:null,id:2596,name:"outcomeTokenNetCost",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2424,src:"9020:19:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}}],expression:{argumentTypes:[{typeIdentifier:"t_int256",typeString:"int256"}],id:2595,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"9014:4:9",typeDescriptions:{typeIdentifier:"t_type$_t_uint256_$",typeString:"type(uint256)"},typeName:"uint"},id:2598,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"9014:26:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,expression:{argumentTypes:null,id:2599,name:"conditionIds",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1990,src:"9042:12:9",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage",typeString:"bytes32[] storage ref"}},id:2600,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,memberName:"length",nodeType:"MemberAccess",referencedDeclaration:null,src:"9042:19:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,hexValue:"30",id:2601,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"9063:1:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"}],id:2594,name:"mergePositionsThroughAllConditions",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2962,src:"8979:34:9",typeDescriptions:{typeIdentifier:"t_function_internal_nonpayable$_t_uint256_$_t_uint256_$_t_uint256_$returns$__$",typeString:"function (uint256,uint256,uint256)"}},id:2602,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"8979:86:9",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:2603,nodeType:"ExpressionStatement",src:"8979:86:9"},{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_int256",typeString:"int256"},id:2606,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:2604,name:"netCost",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2414,src:"9082:7:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},nodeType:"BinaryOperation",operator:"<",rightExpression:{argumentTypes:null,hexValue:"30",id:2605,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"9092:1:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"9082:11:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:null,id:2620,nodeType:"IfStatement",src:"9079:110:9",trueBody:{id:2619,nodeType:"Block",src:"9095:94:9",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:2610,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:5275,src:"9146:3:9",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:2611,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"9146:10:9",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},{argumentTypes:null,arguments:[{argumentTypes:null,id:2614,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,nodeType:"UnaryOperation",operator:"-",prefix:!0,src:"9163:8:9",subExpression:{argumentTypes:null,id:2613,name:"netCost",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2414,src:"9164:7:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}}],expression:{argumentTypes:[{typeIdentifier:"t_int256",typeString:"int256"}],id:2612,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"9158:4:9",typeDescriptions:{typeIdentifier:"t_type$_t_uint256_$",typeString:"type(uint256)"},typeName:"uint"},id:2615,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"9158:14:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address_payable",typeString:"address payable"},{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:2608,name:"collateralToken",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1987,src:"9121:15:9",typeDescriptions:{typeIdentifier:"t_contract$_IERC20_$5241",typeString:"contract IERC20"}},id:2609,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"transfer",nodeType:"MemberAccess",referencedDeclaration:5204,src:"9121:24:9",typeDescriptions:{typeIdentifier:"t_function_external_nonpayable$_t_address_$_t_uint256_$returns$_t_bool_$",typeString:"function (address,uint256) external returns (bool)"}},id:2616,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"9121:52:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"}],id:2607,name:"require",nodeType:"Identifier",overloadedDeclarations:[5278,5279],referencedDeclaration:5278,src:"9113:7:9",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$returns$__$",typeString:"function (bool) pure"}},id:2617,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"9113:61:9",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:2618,nodeType:"ExpressionStatement",src:"9113:61:9"}]}}]}},{eventCall:{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:2624,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:5275,src:"9235:3:9",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:2625,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"9235:10:9",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},{argumentTypes:null,id:2626,name:"outcomeTokenAmounts",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2405,src:"9247:19:9",typeDescriptions:{typeIdentifier:"t_array$_t_int256_$dyn_memory_ptr",typeString:"int256[] memory"}},{argumentTypes:null,id:2627,name:"outcomeTokenNetCost",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2424,src:"9268:19:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},{argumentTypes:null,arguments:[{argumentTypes:null,id:2629,name:"fees",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2430,src:"9294:4:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}}],expression:{argumentTypes:[{typeIdentifier:"t_int256",typeString:"int256"}],id:2628,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"9289:4:9",typeDescriptions:{typeIdentifier:"t_type$_t_uint256_$",typeString:"type(uint256)"},typeName:"uint"},id:2630,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"9289:10:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_address_payable",typeString:"address payable"},{typeIdentifier:"t_array$_t_int256_$dyn_memory_ptr",typeString:"int256[] memory"},{typeIdentifier:"t_int256",typeString:"int256"},{typeIdentifier:"t_uint256",typeString:"uint256"}],id:2623,name:"AMMOutcomeTokenTrade",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1983,src:"9214:20:9",typeDescriptions:{typeIdentifier:"t_function_event_nonpayable$_t_address_$_t_array$_t_int256_$dyn_memory_ptr_$_t_int256_$_t_uint256_$returns$__$",typeString:"function (address,int256[] memory,int256,uint256)"}},id:2631,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"9214:86:9",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:2632,nodeType:"EmitStatement",src:"9209:91:9"}]},documentation:"@dev Allows to trade outcome tokens and collateral with the market maker\n @param outcomeTokenAmounts Amounts of each atomic outcome token to buy or sell. If positive, will buy this amount of outcome token from the market. If negative, will sell this amount back to the market instead. The indices of this array range from 0 to product(all conditions' outcomeSlotCounts)-1. For example, with two conditions with three outcome slots each and one condition with two outcome slots, you will have 3*3*2=18 total atomic outcome tokens, and the indices will range from 0 to 17. The indices map to atomic outcome slots depending on the order of the conditionIds. Let's say the first condition has slots A, B, C the second has slots X, Y, and the third has slots I, J, K. We can associate each atomic outcome token with indices by this map:\n A&X&I == 0\n B&X&I == 1\n C&X&I == 2\n A&Y&I == 3\n B&Y&I == 4\n C&Y&I == 5\n A&X&J == 6\n B&X&J == 7\n C&X&J == 8\n A&Y&J == 9\n B&Y&J == 10\n C&Y&J == 11\n A&X&K == 12\n B&X&K == 13\n C&X&K == 14\n A&Y&K == 15\n B&Y&K == 16\n C&Y&K == 17\n This order is calculated via the generateAtomicPositionId function below: C&Y&I -> (2, 1, 0) -> 2 + 3 * (1 + 2 * (0 + 3 * (0 + 0)))\n @param collateralLimit If positive, this is the limit for the amount of collateral tokens which will be sent to the market to conduct the trade. If negative, this is the minimum amount of collateral tokens which will be received from the market for the trade. If zero, there is no limit.\n @return If positive, the amount of collateral sent to the market. If negative, the amount of collateral received from the market. If zero, no collateral was sent or received.",id:2634,implemented:!0,kind:"function",modifiers:[{arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:2410,name:"Stage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2002,src:"7177:5:9",typeDescriptions:{typeIdentifier:"t_type$_t_enum$_Stage_$2002_$",typeString:"type(enum MarketMaker.Stage)"}},id:2411,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,memberName:"Running",nodeType:"MemberAccess",referencedDeclaration:null,src:"7177:13:9",typeDescriptions:{typeIdentifier:"t_enum$_Stage_$2002",typeString:"enum MarketMaker.Stage"}}],id:2412,modifierName:{argumentTypes:null,id:2409,name:"atStage",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2014,src:"7169:7:9",typeDescriptions:{typeIdentifier:"t_modifier$_t_enum$_Stage_$2002_$",typeString:"modifier (enum MarketMaker.Stage)"}},nodeType:"ModifierInvocation",src:"7169:22:9"}],name:"trade",nodeType:"FunctionDefinition",parameters:{id:2408,nodeType:"ParameterList",parameters:[{constant:!1,id:2405,name:"outcomeTokenAmounts",nodeType:"VariableDeclaration",scope:2634,src:"7091:32:9",stateVariable:!1,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_array$_t_int256_$dyn_memory_ptr",typeString:"int256[]"},typeName:{baseType:{id:2403,name:"int",nodeType:"ElementaryTypeName",src:"7091:3:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},id:2404,length:null,nodeType:"ArrayTypeName",src:"7091:5:9",typeDescriptions:{typeIdentifier:"t_array$_t_int256_$dyn_storage_ptr",typeString:"int256[]"}},value:null,visibility:"internal"},{constant:!1,id:2407,name:"collateralLimit",nodeType:"VariableDeclaration",scope:2634,src:"7125:19:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"},typeName:{id:2406,name:"int",nodeType:"ElementaryTypeName",src:"7125:3:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},value:null,visibility:"internal"}],src:"7090:55:9"},returnParameters:{id:2415,nodeType:"ParameterList",parameters:[{constant:!1,id:2414,name:"netCost",nodeType:"VariableDeclaration",scope:2634,src:"7209:11:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"},typeName:{id:2413,name:"int",nodeType:"ElementaryTypeName",src:"7209:3:9",typeDescriptions:{typeIdentifier:"t_int256",typeString:"int256"}},value:null,visibility:"internal"}],src:"7208:13:9"},scope:2963,src:"7076:2231:9",stateMutability:"nonpayable",superFunction:null,visibility:"public"},{body:{id:2647,nodeType:"Block",src:"9562:58:9",statements:[{expression:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:2645,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:2643,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:2641,name:"outcomeTokenCost",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2636,src:"9579:16:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"*",rightExpression:{argumentTypes:null,id:2642,name:"fee",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1994,src:"9598:3:9",typeDescriptions:{typeIdentifier:"t_uint64",typeString:"uint64"}},src:"9579:22:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"/",rightExpression:{argumentTypes:null,id:2644,name:"FEE_RANGE",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1950,src:"9604:9:9",typeDescriptions:{typeIdentifier:"t_uint64",typeString:"uint64"}},src:"9579:34:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},functionReturnParameters:2640,id:2646,nodeType:"Return",src:"9572:41:9"}]},documentation:"@dev Calculates fee to be paid to market maker\n @param outcomeTokenCost Cost for buying outcome tokens\n @return Fee for trade",id:2648,implemented:!0,kind:"function",modifiers:[],name:"calcMarketFee",nodeType:"FunctionDefinition",parameters:{id:2637,nodeType:"ParameterList",parameters:[{constant:!1,id:2636,name:"outcomeTokenCost",nodeType:"VariableDeclaration",scope:2648,src:"9484:21:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:2635,name:"uint",nodeType:"ElementaryTypeName",src:"9484:4:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"9483:23:9"},returnParameters:{id:2640,nodeType:"ParameterList",parameters:[{constant:!1,id:2639,name:"",nodeType:"VariableDeclaration",scope:2648,src:"9552:4:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:2638,name:"uint",nodeType:"ElementaryTypeName",src:"9552:4:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"9551:6:9"},scope:2963,src:"9461:159:9",stateMutability:"view",superFunction:null,visibility:"public"},{body:{id:2674,nodeType:"Block",src:"9774:109:9",statements:[{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_address",typeString:"address"},id:2667,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:2663,name:"operator",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2650,src:"9788:8:9",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,arguments:[{argumentTypes:null,id:2665,name:"this",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:5312,src:"9808:4:9",typeDescriptions:{typeIdentifier:"t_contract$_MarketMaker_$2963",typeString:"contract MarketMaker"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_MarketMaker_$2963",typeString:"contract MarketMaker"}],id:2664,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"9800:7:9",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:2666,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"9800:13:9",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},src:"9788:25:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:null,id:2671,nodeType:"IfStatement",src:"9784:73:9",trueBody:{id:2670,nodeType:"Block",src:"9815:42:9",statements:[{expression:{argumentTypes:null,hexValue:"30786632336136653631",id:2668,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"9836:10:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_4063915617_by_1",typeString:"int_const 4063915617"},value:"0xf23a6e61"},functionReturnParameters:2662,id:2669,nodeType:"Return",src:"9829:17:9"}]}},{expression:{argumentTypes:null,hexValue:"307830",id:2672,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"9873:3:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0x0"},functionReturnParameters:2662,id:2673,nodeType:"Return",src:"9866:10:9"}]},documentation:null,id:2675,implemented:!0,kind:"function",modifiers:[],name:"onERC1155Received",nodeType:"FunctionDefinition",parameters:{id:2659,nodeType:"ParameterList",parameters:[{constant:!1,id:2650,name:"operator",nodeType:"VariableDeclaration",scope:2675,src:"9653:16:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:2649,name:"address",nodeType:"ElementaryTypeName",src:"9653:7:9",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:!1,id:2652,name:"",nodeType:"VariableDeclaration",scope:2675,src:"9671:7:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:2651,name:"address",nodeType:"ElementaryTypeName",src:"9671:7:9",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:!1,id:2654,name:"",nodeType:"VariableDeclaration",scope:2675,src:"9689:7:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:2653,name:"uint256",nodeType:"ElementaryTypeName",src:"9689:7:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:!1,id:2656,name:"",nodeType:"VariableDeclaration",scope:2675,src:"9705:7:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:2655,name:"uint256",nodeType:"ElementaryTypeName",src:"9705:7:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:!1,id:2658,name:"",nodeType:"VariableDeclaration",scope:2675,src:"9724:14:9",stateVariable:!1,storageLocation:"calldata",typeDescriptions:{typeIdentifier:"t_bytes_calldata_ptr",typeString:"bytes"},typeName:{id:2657,name:"bytes",nodeType:"ElementaryTypeName",src:"9724:5:9",typeDescriptions:{typeIdentifier:"t_bytes_storage_ptr",typeString:"bytes"}},value:null,visibility:"internal"}],src:"9652:96:9"},returnParameters:{id:2662,nodeType:"ParameterList",parameters:[{constant:!1,id:2661,name:"",nodeType:"VariableDeclaration",scope:2675,src:"9766:6:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bytes4",typeString:"bytes4"},typeName:{id:2660,name:"bytes4",nodeType:"ElementaryTypeName",src:"9766:6:9",typeDescriptions:{typeIdentifier:"t_bytes4",typeString:"bytes4"}},value:null,visibility:"internal"}],src:"9765:8:9"},scope:2963,src:"9626:257:9",stateMutability:"nonpayable",superFunction:4907,visibility:"external"},{body:{id:2703,nodeType:"Block",src:"10067:110:9",statements:[{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_address",typeString:"address"},id:2696,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:2692,name:"_operator",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2677,src:"10081:9:9",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,arguments:[{argumentTypes:null,id:2694,name:"this",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:5312,src:"10102:4:9",typeDescriptions:{typeIdentifier:"t_contract$_MarketMaker_$2963",typeString:"contract MarketMaker"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_MarketMaker_$2963",typeString:"contract MarketMaker"}],id:2693,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"10094:7:9",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:2695,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"10094:13:9",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},src:"10081:26:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:null,id:2700,nodeType:"IfStatement",src:"10077:74:9",trueBody:{id:2699,nodeType:"Block",src:"10109:42:9",statements:[{expression:{argumentTypes:null,hexValue:"30786632336136653631",id:2697,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"10130:10:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_4063915617_by_1",typeString:"int_const 4063915617"},value:"0xf23a6e61"},functionReturnParameters:2691,id:2698,nodeType:"Return",src:"10123:17:9"}]}},{expression:{argumentTypes:null,hexValue:"307830",id:2701,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"10167:3:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0x0"},functionReturnParameters:2691,id:2702,nodeType:"Return",src:"10160:10:9"}]},documentation:null,id:2704,implemented:!0,kind:"function",modifiers:[],name:"onERC1155BatchReceived",nodeType:"FunctionDefinition",parameters:{id:2688,nodeType:"ParameterList",parameters:[{constant:!1,id:2677,name:"_operator",nodeType:"VariableDeclaration",scope:2704,src:"9921:17:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:2676,name:"address",nodeType:"ElementaryTypeName",src:"9921:7:9",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:!1,id:2679,name:"",nodeType:"VariableDeclaration",scope:2704,src:"9940:7:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:2678,name:"address",nodeType:"ElementaryTypeName",src:"9940:7:9",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:!1,id:2682,name:"",nodeType:"VariableDeclaration",scope:2704,src:"9958:18:9",stateVariable:!1,storageLocation:"calldata",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_calldata_ptr",typeString:"uint256[]"},typeName:{baseType:{id:2680,name:"uint256",nodeType:"ElementaryTypeName",src:"9958:7:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:2681,length:null,nodeType:"ArrayTypeName",src:"9958:9:9",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage_ptr",typeString:"uint256[]"}},value:null,visibility:"internal"},{constant:!1,id:2685,name:"",nodeType:"VariableDeclaration",scope:2704,src:"9986:18:9",stateVariable:!1,storageLocation:"calldata",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_calldata_ptr",typeString:"uint256[]"},typeName:{baseType:{id:2683,name:"uint256",nodeType:"ElementaryTypeName",src:"9986:7:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:2684,length:null,nodeType:"ArrayTypeName",src:"9986:9:9",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage_ptr",typeString:"uint256[]"}},value:null,visibility:"internal"},{constant:!1,id:2687,name:"",nodeType:"VariableDeclaration",scope:2704,src:"10017:14:9",stateVariable:!1,storageLocation:"calldata",typeDescriptions:{typeIdentifier:"t_bytes_calldata_ptr",typeString:"bytes"},typeName:{id:2686,name:"bytes",nodeType:"ElementaryTypeName",src:"10017:5:9",typeDescriptions:{typeIdentifier:"t_bytes_storage_ptr",typeString:"bytes"}},value:null,visibility:"internal"}],src:"9920:121:9"},returnParameters:{id:2691,nodeType:"ParameterList",parameters:[{constant:!1,id:2690,name:"",nodeType:"VariableDeclaration",scope:2704,src:"10059:6:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bytes4",typeString:"bytes4"},typeName:{id:2689,name:"bytes4",nodeType:"ElementaryTypeName",src:"10059:6:9",typeDescriptions:{typeIdentifier:"t_bytes4",typeString:"bytes4"}},value:null,visibility:"internal"}],src:"10058:8:9"},scope:2963,src:"9889:288:9",stateMutability:"nonpayable",superFunction:4924,visibility:"external"},{body:{id:2744,nodeType:"Block",src:"10311:180:9",statements:[{expression:{argumentTypes:null,id:2721,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,id:2712,name:"partition",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2710,src:"10321:9:9",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[] memory"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:2718,name:"conditionId",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2706,src:"10373:11:9",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes32",typeString:"bytes32"}],expression:{argumentTypes:null,id:2716,name:"pmSystem",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1985,src:"10344:8:9",typeDescriptions:{typeIdentifier:"t_contract$_PredictionMarketSystem_$1456",typeString:"contract PredictionMarketSystem"}},id:2717,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"getOutcomeSlotCount",nodeType:"MemberAccess",referencedDeclaration:1427,src:"10344:28:9",typeDescriptions:{typeIdentifier:"t_function_external_view$_t_bytes32_$returns$_t_uint256_$",typeString:"function (bytes32) view external returns (uint256)"}},id:2719,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"10344:41:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],id:2715,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"NewExpression",src:"10333:10:9",typeDescriptions:{typeIdentifier:"t_function_objectcreation_pure$_t_uint256_$returns$_t_array$_t_uint256_$dyn_memory_$",typeString:"function (uint256) pure returns (uint256[] memory)"},typeName:{baseType:{id:2713,name:"uint",nodeType:"ElementaryTypeName",src:"10337:4:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:2714,length:null,nodeType:"ArrayTypeName",src:"10337:6:9",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage_ptr",typeString:"uint256[]"}}},id:2720,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"10333:53:9",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory",typeString:"uint256[] memory"}},src:"10321:65:9",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[] memory"}},id:2722,nodeType:"ExpressionStatement",src:"10321:65:9"},{body:{id:2742,nodeType:"Block",src:"10439:46:9",statements:[{expression:{argumentTypes:null,id:2740,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,baseExpression:{argumentTypes:null,id:2734,name:"partition",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2710,src:"10453:9:9",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[] memory"}},id:2736,indexExpression:{argumentTypes:null,id:2735,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2724,src:"10463:1:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!0,nodeType:"IndexAccess",src:"10453:12:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:2739,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,hexValue:"31",id:2737,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"10468:1:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_1_by_1",typeString:"int_const 1"},value:"1"},nodeType:"BinaryOperation",operator:"<<",rightExpression:{argumentTypes:null,id:2738,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2724,src:"10473:1:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"10468:6:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"10453:21:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:2741,nodeType:"ExpressionStatement",src:"10453:21:9"}]},condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:2730,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:2727,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2724,src:"10412:1:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"<",rightExpression:{argumentTypes:null,expression:{argumentTypes:null,id:2728,name:"partition",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2710,src:"10416:9:9",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[] memory"}},id:2729,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"length",nodeType:"MemberAccess",referencedDeclaration:null,src:"10416:16:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"10412:20:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},id:2743,initializationExpression:{assignments:[2724],declarations:[{constant:!1,id:2724,name:"i",nodeType:"VariableDeclaration",scope:2743,src:"10400:6:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:2723,name:"uint",nodeType:"ElementaryTypeName",src:"10400:4:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:2726,initialValue:{argumentTypes:null,hexValue:"30",id:2725,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"10409:1:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},nodeType:"VariableDeclarationStatement",src:"10400:10:9"},loopExpression:{expression:{argumentTypes:null,id:2732,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,nodeType:"UnaryOperation",operator:"++",prefix:!1,src:"10434:3:9",subExpression:{argumentTypes:null,id:2731,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2724,src:"10434:1:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:2733,nodeType:"ExpressionStatement",src:"10434:3:9"},nodeType:"ForStatement",src:"10396:89:9"}]},documentation:null,id:2745,implemented:!0,kind:"function",modifiers:[],name:"generateBasicPartition",nodeType:"FunctionDefinition",parameters:{id:2707,nodeType:"ParameterList",parameters:[{constant:!1,id:2706,name:"conditionId",nodeType:"VariableDeclaration",scope:2745,src:"10215:19:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"},typeName:{id:2705,name:"bytes32",nodeType:"ElementaryTypeName",src:"10215:7:9",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},value:null,visibility:"internal"}],src:"10214:21:9"},returnParameters:{id:2711,nodeType:"ParameterList",parameters:[{constant:!1,id:2710,name:"partition",nodeType:"VariableDeclaration",scope:2745,src:"10282:23:9",stateVariable:!1,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[]"},typeName:{baseType:{id:2708,name:"uint",nodeType:"ElementaryTypeName",src:"10282:4:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:2709,length:null,nodeType:"ArrayTypeName",src:"10282:6:9",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage_ptr",typeString:"uint256[]"}},value:null,visibility:"internal"}],src:"10281:25:9"},scope:2963,src:"10183:308:9",stateMutability:"view",superFunction:null,visibility:"private"},{body:{id:2811,nodeType:"Block",src:"10596:480:9",statements:[{assignments:[2753],declarations:[{constant:!1,id:2753,name:"collectionId",nodeType:"VariableDeclaration",scope:2811,src:"10606:17:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:2752,name:"uint",nodeType:"ElementaryTypeName",src:"10606:4:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:2755,initialValue:{argumentTypes:null,hexValue:"30",id:2754,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"10626:1:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},nodeType:"VariableDeclarationStatement",src:"10606:21:9"},{body:{id:2799,nodeType:"Block",src:"10684:280:9",statements:[{assignments:[2768],declarations:[{constant:!1,id:2768,name:"curOutcomeSlotCount",nodeType:"VariableDeclaration",scope:2799,src:"10698:24:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:2767,name:"uint",nodeType:"ElementaryTypeName",src:"10698:4:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:2775,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,baseExpression:{argumentTypes:null,id:2771,name:"conditionIds",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1990,src:"10754:12:9",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage",typeString:"bytes32[] storage ref"}},id:2773,indexExpression:{argumentTypes:null,id:2772,name:"k",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2757,src:"10767:1:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"10754:15:9",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes32",typeString:"bytes32"}],expression:{argumentTypes:null,id:2769,name:"pmSystem",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1985,src:"10725:8:9",typeDescriptions:{typeIdentifier:"t_contract$_PredictionMarketSystem_$1456",typeString:"contract PredictionMarketSystem"}},id:2770,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"getOutcomeSlotCount",nodeType:"MemberAccess",referencedDeclaration:1427,src:"10725:28:9",typeDescriptions:{typeIdentifier:"t_function_external_view$_t_bytes32_$returns$_t_uint256_$",typeString:"function (bytes32) view external returns (uint256)"}},id:2774,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"10725:45:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"VariableDeclarationStatement",src:"10698:72:9"},{expression:{argumentTypes:null,id:2793,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,id:2776,name:"collectionId",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2753,src:"10784:12:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"+=",rightHandSide:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,baseExpression:{argumentTypes:null,id:2781,name:"conditionIds",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1990,src:"10849:12:9",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage",typeString:"bytes32[] storage ref"}},id:2783,indexExpression:{argumentTypes:null,id:2782,name:"k",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2757,src:"10862:1:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"10849:15:9",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:2789,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,hexValue:"31",id:2784,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"10882:1:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_1_by_1",typeString:"int_const 1"},value:"1"},nodeType:"BinaryOperation",operator:"<<",rightExpression:{argumentTypes:null,components:[{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:2787,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:2785,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2747,src:"10888:1:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"%",rightExpression:{argumentTypes:null,id:2786,name:"curOutcomeSlotCount",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2768,src:"10892:19:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"10888:23:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],id:2788,isConstant:!1,isInlineArray:!1,isLValue:!1,isPure:!1,lValueRequested:!1,nodeType:"TupleExpression",src:"10887:25:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"10882:30:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes32",typeString:"bytes32"},{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:2779,name:"abi",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:5262,src:"10815:3:9",typeDescriptions:{typeIdentifier:"t_magic_abi",typeString:"abi"}},id:2780,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,memberName:"encodePacked",nodeType:"MemberAccess",referencedDeclaration:null,src:"10815:16:9",typeDescriptions:{typeIdentifier:"t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$",typeString:"function () pure returns (bytes memory)"}},id:2790,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"10815:98:9",typeDescriptions:{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes memory"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes memory"}],id:2778,name:"keccak256",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:5269,src:"10805:9:9",typeDescriptions:{typeIdentifier:"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$",typeString:"function (bytes memory) pure returns (bytes32)"}},id:2791,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"10805:109:9",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes32",typeString:"bytes32"}],id:2777,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"10800:4:9",typeDescriptions:{typeIdentifier:"t_type$_t_uint256_$",typeString:"type(uint256)"},typeName:"uint"},id:2792,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"10800:115:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"10784:131:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:2794,nodeType:"ExpressionStatement",src:"10784:131:9"},{expression:{argumentTypes:null,id:2797,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,id:2795,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2747,src:"10929:1:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Assignment",operator:"/=",rightHandSide:{argumentTypes:null,id:2796,name:"curOutcomeSlotCount",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2768,src:"10934:19:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"10929:24:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:2798,nodeType:"ExpressionStatement",src:"10929:24:9"}]},condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:2763,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:2760,name:"k",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2757,src:"10654:1:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"<",rightExpression:{argumentTypes:null,expression:{argumentTypes:null,id:2761,name:"conditionIds",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1990,src:"10658:12:9",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage",typeString:"bytes32[] storage ref"}},id:2762,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,memberName:"length",nodeType:"MemberAccess",referencedDeclaration:null,src:"10658:19:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"10654:23:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},id:2800,initializationExpression:{assignments:[2757],declarations:[{constant:!1,id:2757,name:"k",nodeType:"VariableDeclaration",scope:2800,src:"10642:6:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:2756,name:"uint",nodeType:"ElementaryTypeName",src:"10642:4:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:2759,initialValue:{argumentTypes:null,hexValue:"30",id:2758,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"10651:1:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},nodeType:"VariableDeclarationStatement",src:"10642:10:9"},loopExpression:{expression:{argumentTypes:null,id:2765,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,nodeType:"UnaryOperation",operator:"++",prefix:!1,src:"10679:3:9",subExpression:{argumentTypes:null,id:2764,name:"k",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2757,src:"10679:1:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:2766,nodeType:"ExpressionStatement",src:"10679:3:9"},nodeType:"ForStatement",src:"10638:326:9"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:2805,name:"collateralToken",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1987,src:"11025:15:9",typeDescriptions:{typeIdentifier:"t_contract$_IERC20_$5241",typeString:"contract IERC20"}},{argumentTypes:null,id:2806,name:"collectionId",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2753,src:"11054:12:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_IERC20_$5241",typeString:"contract IERC20"},{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:2803,name:"abi",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:5262,src:"10995:3:9",typeDescriptions:{typeIdentifier:"t_magic_abi",typeString:"abi"}},id:2804,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,memberName:"encodePacked",nodeType:"MemberAccess",referencedDeclaration:null,src:"10995:16:9",typeDescriptions:{typeIdentifier:"t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$",typeString:"function () pure returns (bytes memory)"}},id:2807,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"10995:72:9",typeDescriptions:{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes memory"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes memory"}],id:2802,name:"keccak256",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:5269,src:"10985:9:9",typeDescriptions:{typeIdentifier:"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$",typeString:"function (bytes memory) pure returns (bytes32)"}},id:2808,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"10985:83:9",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes32",typeString:"bytes32"}],id:2801,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"10980:4:9",typeDescriptions:{typeIdentifier:"t_type$_t_uint256_$",typeString:"type(uint256)"},typeName:"uint"},id:2809,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"10980:89:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},functionReturnParameters:2751,id:2810,nodeType:"Return",src:"10973:96:9"}]},documentation:null,id:2812,implemented:!0,kind:"function",modifiers:[],name:"generateAtomicPositionId",nodeType:"FunctionDefinition",parameters:{id:2748,nodeType:"ParameterList",parameters:[{constant:!1,id:2747,name:"i",nodeType:"VariableDeclaration",scope:2812,src:"10531:6:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:2746,name:"uint",nodeType:"ElementaryTypeName",src:"10531:4:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"10530:8:9"},returnParameters:{id:2751,nodeType:"ParameterList",parameters:[{constant:!1,id:2750,name:"",nodeType:"VariableDeclaration",scope:2812,src:"10586:4:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:2749,name:"uint",nodeType:"ElementaryTypeName",src:"10586:4:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"10585:6:9"},scope:2963,src:"10497:579:9",stateMutability:"view",superFunction:null,visibility:"internal"},{body:{id:2886,nodeType:"Block",src:"11204:613:9",statements:[{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:2823,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:2821,name:"conditionsLeft",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2816,src:"11217:14:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,hexValue:"30",id:2822,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"11235:1:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"11217:19:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:null,id:2825,nodeType:"IfStatement",src:"11214:31:9",trueBody:{expression:null,functionReturnParameters:2820,id:2824,nodeType:"Return",src:"11238:7:9"}},{expression:{argumentTypes:null,id:2827,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,nodeType:"UnaryOperation",operator:"--",prefix:!1,src:"11254:16:9",subExpression:{argumentTypes:null,id:2826,name:"conditionsLeft",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2816,src:"11254:14:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:2828,nodeType:"ExpressionStatement",src:"11254:16:9"},{assignments:[2832],declarations:[{constant:!1,id:2832,name:"partition",nodeType:"VariableDeclaration",scope:2886,src:"11281:23:9",stateVariable:!1,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[]"},typeName:{baseType:{id:2830,name:"uint",nodeType:"ElementaryTypeName",src:"11281:4:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:2831,length:null,nodeType:"ArrayTypeName",src:"11281:6:9",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage_ptr",typeString:"uint256[]"}},value:null,visibility:"internal"}],id:2838,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,baseExpression:{argumentTypes:null,id:2834,name:"conditionIds",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1990,src:"11330:12:9",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage",typeString:"bytes32[] storage ref"}},id:2836,indexExpression:{argumentTypes:null,id:2835,name:"conditionsLeft",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2816,src:"11343:14:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"11330:28:9",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes32",typeString:"bytes32"}],id:2833,name:"generateBasicPartition",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2745,src:"11307:22:9",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_bytes32_$returns$_t_array$_t_uint256_$dyn_memory_ptr_$",typeString:"function (bytes32) view returns (uint256[] memory)"}},id:2837,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"11307:52:9",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[] memory"}},nodeType:"VariableDeclarationStatement",src:"11281:78:9"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:2842,name:"collateralToken",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1987,src:"11392:15:9",typeDescriptions:{typeIdentifier:"t_contract$_IERC20_$5241",typeString:"contract IERC20"}},{argumentTypes:null,arguments:[{argumentTypes:null,id:2844,name:"parentCollectionId",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2818,src:"11417:18:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],id:2843,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"11409:7:9",typeDescriptions:{typeIdentifier:"t_type$_t_bytes32_$",typeString:"type(bytes32)"},typeName:"bytes32"},id:2845,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"11409:27:9",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},{argumentTypes:null,baseExpression:{argumentTypes:null,id:2846,name:"conditionIds",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1990,src:"11438:12:9",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage",typeString:"bytes32[] storage ref"}},id:2848,indexExpression:{argumentTypes:null,id:2847,name:"conditionsLeft",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2816,src:"11451:14:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"11438:28:9",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},{argumentTypes:null,id:2849,name:"partition",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2832,src:"11468:9:9",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[] memory"}},{argumentTypes:null,id:2850,name:"amount",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2814,src:"11479:6:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_IERC20_$5241",typeString:"contract IERC20"},{typeIdentifier:"t_bytes32",typeString:"bytes32"},{typeIdentifier:"t_bytes32",typeString:"bytes32"},{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[] memory"},{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:2839,name:"pmSystem",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1985,src:"11369:8:9",typeDescriptions:{typeIdentifier:"t_contract$_PredictionMarketSystem_$1456",typeString:"contract PredictionMarketSystem"}},id:2841,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"splitPosition",nodeType:"MemberAccess",referencedDeclaration:951,src:"11369:22:9",typeDescriptions:{typeIdentifier:"t_function_external_nonpayable$_t_contract$_IERC20_$5241_$_t_bytes32_$_t_bytes32_$_t_array$_t_uint256_$dyn_memory_ptr_$_t_uint256_$returns$__$",typeString:"function (contract IERC20,bytes32,bytes32,uint256[] memory,uint256) external"}},id:2851,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"11369:117:9",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:2852,nodeType:"ExpressionStatement",src:"11369:117:9"},{body:{id:2884,nodeType:"Block",src:"11539:272:9",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:2865,name:"amount",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2814,src:"11604:6:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,id:2866,name:"conditionsLeft",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2816,src:"11628:14:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:2881,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:2867,name:"parentCollectionId",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2818,src:"11660:18:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"+",rightExpression:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,baseExpression:{argumentTypes:null,id:2872,name:"conditionIds",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1990,src:"11734:12:9",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage",typeString:"bytes32[] storage ref"}},id:2874,indexExpression:{argumentTypes:null,id:2873,name:"conditionsLeft",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2816,src:"11747:14:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"11734:28:9",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},{argumentTypes:null,baseExpression:{argumentTypes:null,id:2875,name:"partition",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2832,src:"11784:9:9",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[] memory"}},id:2877,indexExpression:{argumentTypes:null,id:2876,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2854,src:"11794:1:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"11784:12:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes32",typeString:"bytes32"},{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:2870,name:"abi",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:5262,src:"11696:3:9",typeDescriptions:{typeIdentifier:"t_magic_abi",typeString:"abi"}},id:2871,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,memberName:"encodePacked",nodeType:"MemberAccess",referencedDeclaration:null,src:"11696:16:9",typeDescriptions:{typeIdentifier:"t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$",typeString:"function () pure returns (bytes memory)"}},id:2878,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"11696:101:9",typeDescriptions:{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes memory"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes memory"}],id:2869,name:"keccak256",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:5269,src:"11686:9:9",typeDescriptions:{typeIdentifier:"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$",typeString:"function (bytes memory) pure returns (bytes32)"}},id:2879,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"11686:112:9",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes32",typeString:"bytes32"}],id:2868,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"11681:4:9",typeDescriptions:{typeIdentifier:"t_type$_t_uint256_$",typeString:"type(uint256)"},typeName:"uint"},id:2880,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"11681:118:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"11660:139:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"}],id:2864,name:"splitPositionThroughAllConditions",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2887,src:"11553:33:9",typeDescriptions:{typeIdentifier:"t_function_internal_nonpayable$_t_uint256_$_t_uint256_$_t_uint256_$returns$__$",typeString:"function (uint256,uint256,uint256)"}},id:2882,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"11553:247:9",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:2883,nodeType:"ExpressionStatement",src:"11553:247:9"}]},condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:2860,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:2857,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2854,src:"11512:1:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"<",rightExpression:{argumentTypes:null,expression:{argumentTypes:null,id:2858,name:"partition",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2832,src:"11516:9:9",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[] memory"}},id:2859,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"length",nodeType:"MemberAccess",referencedDeclaration:null,src:"11516:16:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"11512:20:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},id:2885,initializationExpression:{assignments:[2854],declarations:[{constant:!1,id:2854,name:"i",nodeType:"VariableDeclaration",scope:2885,src:"11500:6:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:2853,name:"uint",nodeType:"ElementaryTypeName",src:"11500:4:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:2856,initialValue:{argumentTypes:null,hexValue:"30",id:2855,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"11509:1:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},nodeType:"VariableDeclarationStatement",src:"11500:10:9"},loopExpression:{expression:{argumentTypes:null,id:2862,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,nodeType:"UnaryOperation",operator:"++",prefix:!1,src:"11534:3:9",subExpression:{argumentTypes:null,id:2861,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2854,src:"11534:1:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:2863,nodeType:"ExpressionStatement",src:"11534:3:9"},nodeType:"ForStatement",src:"11496:315:9"}]},documentation:null,id:2887,implemented:!0,kind:"function",modifiers:[],name:"splitPositionThroughAllConditions",nodeType:"FunctionDefinition",parameters:{id:2819,nodeType:"ParameterList",parameters:[{constant:!1,id:2814,name:"amount",nodeType:"VariableDeclaration",scope:2887,src:"11125:11:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:2813,name:"uint",nodeType:"ElementaryTypeName",src:"11125:4:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:!1,id:2816,name:"conditionsLeft",nodeType:"VariableDeclaration",scope:2887,src:"11138:19:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:2815,name:"uint",nodeType:"ElementaryTypeName",src:"11138:4:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:!1,id:2818,name:"parentCollectionId",nodeType:"VariableDeclaration",scope:2887,src:"11159:23:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:2817,name:"uint",nodeType:"ElementaryTypeName",src:"11159:4:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"11124:59:9"},returnParameters:{id:2820,nodeType:"ParameterList",parameters:[],src:"11204:0:9"},scope:2963,src:"11082:735:9",stateMutability:"nonpayable",superFunction:null,visibility:"private"},{body:{id:2961,nodeType:"Block",src:"11946:615:9",statements:[{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:2898,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:2896,name:"conditionsLeft",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2891,src:"11959:14:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,hexValue:"30",id:2897,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"11977:1:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"11959:19:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:null,id:2900,nodeType:"IfStatement",src:"11956:31:9",trueBody:{expression:null,functionReturnParameters:2895,id:2899,nodeType:"Return",src:"11980:7:9"}},{expression:{argumentTypes:null,id:2902,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,nodeType:"UnaryOperation",operator:"--",prefix:!1,src:"11996:16:9",subExpression:{argumentTypes:null,id:2901,name:"conditionsLeft",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2891,src:"11996:14:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:2903,nodeType:"ExpressionStatement",src:"11996:16:9"},{assignments:[2907],declarations:[{constant:!1,id:2907,name:"partition",nodeType:"VariableDeclaration",scope:2961,src:"12023:23:9",stateVariable:!1,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[]"},typeName:{baseType:{id:2905,name:"uint",nodeType:"ElementaryTypeName",src:"12023:4:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:2906,length:null,nodeType:"ArrayTypeName",src:"12023:6:9",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_storage_ptr",typeString:"uint256[]"}},value:null,visibility:"internal"}],id:2913,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,baseExpression:{argumentTypes:null,id:2909,name:"conditionIds",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1990,src:"12072:12:9",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage",typeString:"bytes32[] storage ref"}},id:2911,indexExpression:{argumentTypes:null,id:2910,name:"conditionsLeft",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2891,src:"12085:14:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"12072:28:9",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes32",typeString:"bytes32"}],id:2908,name:"generateBasicPartition",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2745,src:"12049:22:9",typeDescriptions:{typeIdentifier:"t_function_internal_view$_t_bytes32_$returns$_t_array$_t_uint256_$dyn_memory_ptr_$",typeString:"function (bytes32) view returns (uint256[] memory)"}},id:2912,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"12049:52:9",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[] memory"}},nodeType:"VariableDeclarationStatement",src:"12023:78:9"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:2917,name:"collateralToken",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1987,src:"12135:15:9",typeDescriptions:{typeIdentifier:"t_contract$_IERC20_$5241",typeString:"contract IERC20"}},{argumentTypes:null,arguments:[{argumentTypes:null,id:2919,name:"parentCollectionId",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2893,src:"12160:18:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"}],id:2918,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"12152:7:9",typeDescriptions:{typeIdentifier:"t_type$_t_bytes32_$",typeString:"type(bytes32)"},typeName:"bytes32"},id:2920,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"12152:27:9",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},{argumentTypes:null,baseExpression:{argumentTypes:null,id:2921,name:"conditionIds",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1990,src:"12181:12:9",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage",typeString:"bytes32[] storage ref"}},id:2923,indexExpression:{argumentTypes:null,id:2922,name:"conditionsLeft",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2891,src:"12194:14:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"12181:28:9",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},{argumentTypes:null,id:2924,name:"partition",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2907,src:"12211:9:9",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[] memory"}},{argumentTypes:null,id:2925,name:"amount",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2889,src:"12222:6:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_IERC20_$5241",typeString:"contract IERC20"},{typeIdentifier:"t_bytes32",typeString:"bytes32"},{typeIdentifier:"t_bytes32",typeString:"bytes32"},{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[] memory"},{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:2914,name:"pmSystem",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1985,src:"12111:8:9",typeDescriptions:{typeIdentifier:"t_contract$_PredictionMarketSystem_$1456",typeString:"contract PredictionMarketSystem"}},id:2916,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"mergePositions",nodeType:"MemberAccess",referencedDeclaration:1177,src:"12111:23:9",typeDescriptions:{typeIdentifier:"t_function_external_nonpayable$_t_contract$_IERC20_$5241_$_t_bytes32_$_t_bytes32_$_t_array$_t_uint256_$dyn_memory_ptr_$_t_uint256_$returns$__$",typeString:"function (contract IERC20,bytes32,bytes32,uint256[] memory,uint256) external"}},id:2926,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"12111:118:9",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:2927,nodeType:"ExpressionStatement",src:"12111:118:9"},{body:{id:2959,nodeType:"Block",src:"12282:273:9",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:2940,name:"amount",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2889,src:"12348:6:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,id:2941,name:"conditionsLeft",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2891,src:"12372:14:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:2956,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:2942,name:"parentCollectionId",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2893,src:"12404:18:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"+",rightExpression:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,baseExpression:{argumentTypes:null,id:2947,name:"conditionIds",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:1990,src:"12478:12:9",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage",typeString:"bytes32[] storage ref"}},id:2949,indexExpression:{argumentTypes:null,id:2948,name:"conditionsLeft",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2891,src:"12491:14:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"12478:28:9",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},{argumentTypes:null,baseExpression:{argumentTypes:null,id:2950,name:"partition",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2907,src:"12528:9:9",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[] memory"}},id:2952,indexExpression:{argumentTypes:null,id:2951,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2929,src:"12538:1:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"12528:12:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes32",typeString:"bytes32"},{typeIdentifier:"t_uint256",typeString:"uint256"}],expression:{argumentTypes:null,id:2945,name:"abi",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:5262,src:"12440:3:9",typeDescriptions:{typeIdentifier:"t_magic_abi",typeString:"abi"}},id:2946,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,memberName:"encodePacked",nodeType:"MemberAccess",referencedDeclaration:null,src:"12440:16:9",typeDescriptions:{typeIdentifier:"t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$",typeString:"function () pure returns (bytes memory)"}},id:2953,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"12440:101:9",typeDescriptions:{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes memory"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes memory"}],id:2944,name:"keccak256",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:5269,src:"12430:9:9",typeDescriptions:{typeIdentifier:"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$",typeString:"function (bytes memory) pure returns (bytes32)"}},id:2954,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"12430:112:9",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes32",typeString:"bytes32"}],id:2943,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"12425:4:9",typeDescriptions:{typeIdentifier:"t_type$_t_uint256_$",typeString:"type(uint256)"},typeName:"uint"},id:2955,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"12425:118:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"12404:139:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"}],id:2939,name:"mergePositionsThroughAllConditions",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2962,src:"12296:34:9",typeDescriptions:{typeIdentifier:"t_function_internal_nonpayable$_t_uint256_$_t_uint256_$_t_uint256_$returns$__$",typeString:"function (uint256,uint256,uint256)"}},id:2957,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"12296:248:9",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:2958,nodeType:"ExpressionStatement",src:"12296:248:9"}]},condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:2935,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:2932,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2929,src:"12255:1:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"<",rightExpression:{argumentTypes:null,expression:{argumentTypes:null,id:2933,name:"partition",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2907,src:"12259:9:9",typeDescriptions:{typeIdentifier:"t_array$_t_uint256_$dyn_memory_ptr",typeString:"uint256[] memory"}},id:2934,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"length",nodeType:"MemberAccess",referencedDeclaration:null,src:"12259:16:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"12255:20:9",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},id:2960,initializationExpression:{assignments:[2929],declarations:[{constant:!1,id:2929,name:"i",nodeType:"VariableDeclaration",scope:2960,src:"12243:6:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:2928,name:"uint",nodeType:"ElementaryTypeName",src:"12243:4:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:2931,initialValue:{argumentTypes:null,hexValue:"30",id:2930,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"12252:1:9",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},nodeType:"VariableDeclarationStatement",src:"12243:10:9"},loopExpression:{expression:{argumentTypes:null,id:2937,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,nodeType:"UnaryOperation",operator:"++",prefix:!1,src:"12277:3:9",subExpression:{argumentTypes:null,id:2936,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:2929,src:"12277:1:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:2938,nodeType:"ExpressionStatement",src:"12277:3:9"},nodeType:"ForStatement",src:"12239:316:9"}]},documentation:null,id:2962,implemented:!0,kind:"function",modifiers:[],name:"mergePositionsThroughAllConditions",nodeType:"FunctionDefinition",parameters:{id:2894,nodeType:"ParameterList",parameters:[{constant:!1,id:2889,name:"amount",nodeType:"VariableDeclaration",scope:2962,src:"11867:11:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:2888,name:"uint",nodeType:"ElementaryTypeName",src:"11867:4:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:!1,id:2891,name:"conditionsLeft",nodeType:"VariableDeclaration",scope:2962,src:"11880:19:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:2890,name:"uint",nodeType:"ElementaryTypeName",src:"11880:4:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:!1,id:2893,name:"parentCollectionId",nodeType:"VariableDeclaration",scope:2962,src:"11901:23:9",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:2892,name:"uint",nodeType:"ElementaryTypeName",src:"11901:4:9",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"11866:59:9"},returnParameters:{id:2895,nodeType:"ParameterList",parameters:[],src:"11946:0:9"},scope:2963,src:"11823:738:9",stateMutability:"nonpayable",superFunction:null,visibility:"private"}],scope:2964,src:"340:12223:9"}],src:"0:12563:9"},compiler:{name:"solc",version:"0.5.1+commit.c8a2cb62.Emscripten.clang"},networks:{},schemaVersion:"3.0.1",updatedAt:"2019-01-20T15:41:31.469Z",devdoc:{methods:{"calcMarketFee(uint256)":{details:"Calculates fee to be paid to market maker",params:{outcomeTokenCost:"Cost for buying outcome tokens"},return:"Fee for trade"},"changeFunding(int256)":{details:"Allows to fund the market with collateral tokens converting them into outcome tokens Note for the future: should combine splitPosition and mergePositions into one function, as code duplication causes things like this to happen."},"close()":{details:"Allows market owner to close the markets by transferring all remaining outcome tokens to the owner"},"isOwner()":{return:"true if `msg.sender` is the owner of the contract."},"owner()":{return:"the address of the owner."},"renounceOwnership()":{details:"Allows the current owner to relinquish control of the contract."},"trade(int256[],int256)":{details:"Allows to trade outcome tokens and collateral with the market maker",params:{collateralLimit:"If positive, this is the limit for the amount of collateral tokens which will be sent to the market to conduct the trade. If negative, this is the minimum amount of collateral tokens which will be received from the market for the trade. If zero, there is no limit.",outcomeTokenAmounts:"Amounts of each atomic outcome token to buy or sell. If positive, will buy this amount of outcome token from the market. If negative, will sell this amount back to the market instead. The indices of this array range from 0 to product(all conditions' outcomeSlotCounts)-1. For example, with two conditions with three outcome slots each and one condition with two outcome slots, you will have 3*3*2=18 total atomic outcome tokens, and the indices will range from 0 to 17. The indices map to atomic outcome slots depending on the order of the conditionIds. Let's say the first condition has slots A, B, C the second has slots X, Y, and the third has slots I, J, K. We can associate each atomic outcome token with indices by this map: A&X&I == 0 B&X&I == 1 C&X&I == 2 A&Y&I == 3 B&Y&I == 4 C&Y&I == 5 A&X&J == 6 B&X&J == 7 C&X&J == 8 A&Y&J == 9 B&Y&J == 10 C&Y&J == 11 A&X&K == 12 B&X&K == 13 C&X&K == 14 A&Y&K == 15 B&Y&K == 16 C&Y&K == 17 This order is calculated via the generateAtomicPositionId function below: C&Y&I -> (2, 1, 0) -> 2 + 3 * (1 + 2 * (0 + 3 * (0 + 0)))"},return:"If positive, the amount of collateral sent to the market. If negative, the amount of collateral received from the market. If zero, no collateral was sent or received."},"transferOwnership(address)":{details:"Allows the current owner to transfer control of the contract to a newOwner.",params:{newOwner:"The address to transfer ownership to."}},"withdrawFees()":{details:"Allows market owner to withdraw fees generated by trades",return:"Fee amount"}}},userdoc:{methods:{"renounceOwnership()":{notice:"Renouncing to ownership will leave the contract without an owner. It will not be possible to call the functions with the `onlyOwner` modifier anymore."}}}}}}]);